{"version":3,"file":"GistView.ee730870.js","sources":["../../src/js/gist.ts","../../src/layout-manager/GistView.vue","../../src/layout-manager/GistView.vue?vue&type=template&lang.js"],"sourcesContent":["import YAML from 'yaml'\r\n\r\nasync function load(id: string, options: any) {\r\n  try {\r\n    const params = options || {}\r\n\r\n    const gist = await (await fetch(`https://api.github.com/gists/${id}`)).json()\r\n    console.log({ gist })\r\n\r\n    // If a file was provided, use that one; otherwise use the first file in the gist\r\n    const data = params.file ? gist.files[params.file] : gist.files[Object.keys(gist.files)[0]]\r\n\r\n    var content = YAML.parse(data.content)\r\n    return content\r\n  } catch (e) {\r\n    console.error(e)\r\n  } finally {\r\n  }\r\n}\r\n\r\nexport default { load }\r\n","<template lang=\"pug\">\r\ndash-board(v-if=\"xsubfolder\"\r\n           root=\"gist\"\r\n           :gist=\"yaml\"\r\n           :xsubfolder=\"yaml.config.folder\")\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\n\r\nimport { FileSystem, FileSystemConfig } from '@/Globals'\r\nimport GIST from '@/js/gist'\r\nimport DashBoard from './DashBoard.vue'\r\n\r\nexport default defineComponent({\r\n  name: 'GistView',\r\n  components: { DashBoard },\r\n  props: {\r\n    id: { type: String, required: true },\r\n  },\r\n  data: () => {\r\n    return {\r\n      fileSystemConfig: null as FileSystemConfig | null,\r\n      yaml: {} as any,\r\n      xsubfolder: '',\r\n    }\r\n  },\r\n  async mounted() {\r\n    try {\r\n      // fetch the json/yaml!\r\n      this.yaml = await GIST.load(this.id, this.$route.params)\r\n      this.xsubfolder = this.yaml.config.folder\r\n    } catch (e) {}\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n</style>\r\n","\r\ndash-board(v-if=\"xsubfolder\"\r\n           root=\"gist\"\r\n           :gist=\"yaml\"\r\n           :xsubfolder=\"yaml.config.folder\")\r\n\r\n"],"names":["GIST","load","async","id","options","params","gist","fetch","json","console","log","data","file","files","Object","keys","YAML","parse","content","e","error","__vue2_script","defineComponent","name","components","DashBoard","props","type","String","required","fileSystemConfig","yaml","xsubfolder","mounted","this","$route","config","folder","_vm","_h","$createElement","_c","_self","attrs","root","_e"],"mappings":"yOAoBA,IAAeA,EAAA,CAAEC,KAlBjBC,eAAoBC,EAAYC,GAC1B,IACF,MAAMC,EAASD,GAAW,GAEpBE,cAAoBC,MAAM,gCAAgCJ,MAAOK,OACvEC,QAAQC,IAAI,CAAEJ,KAAAA,IAGd,MAAMK,EAAON,EAAOO,KAAON,EAAKO,MAAMR,EAAOO,MAAQN,EAAKO,MAAMC,OAAOC,KAAKT,EAAKO,OAAO,IAGjF,OADOG,EAAKC,MAAMN,EAAKO,SACvB,MACAC,GACPV,QAAQW,MAAMD,MCAlBE,EAAAC,EAAA,CACAC,KAAA,WACAC,WAAA,CAAAC,UAAAA,GACAC,MAAA,CACAvB,GAAA,CAAAwB,KAAAC,OAAAC,UAAA,IAEAlB,KAAA,KACA,CACAmB,iBAAA,KACAC,KAAA,GACAC,WAAA,KAAAC,gBAIA,IAEAC,KAAAH,WAAA/B,EAAAC,KAAAiC,KAAA/B,GAAA+B,KAAAC,OAAA9B,QACA6B,KAAAF,WAAAE,KAAAH,KAAAK,OAAAC,OAAA,MACAlB,8BCjCa,WACX,IAAImB,EAAIJ,KACJK,EAAGD,EAAIE,eACPC,EAAGH,EAAII,MAAMD,IAAIF,EAEd,OAAAD,EAAIN,WAAaS,EAAG,aAAc,CACvCE,MAAO,CACLC,KAAQ,OACRtC,KAAQgC,EAAIP,KACZC,WAAcM,EAAIP,KAAKK,OAAOC,UAE7BC,EAAIO,OAGW"}