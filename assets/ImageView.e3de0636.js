import{d as t}from"./vendor.e9c367ae.js";import{r as e}from"./index.a906c0e7.js";import{g as a,n as s}from"./index.2deacc07.js";const i=t({name:"ImageViewPlugin",props:{fileApi:{type:Object,required:!0},subfolder:{type:String,required:!0},yamlConfig:String,thumbnail:Boolean},data:()=>({globalState:a.state,myState:{},matsimPngTitles:{"modestats.png":"Mode statistics","ph_modestats.png":"Passenger hours traveled per mode","pkm_modestats.png":"Passenger km traveled per mode","scorestats.png":"Score statistics","stopwatch.png":"Stopwatch: computation time","traveldistancestatslegs.png":"Leg travel distance","traveldistancestatstrips.png":"Trip travel distance"}}),computed:{isDarkMode(){return this.globalState.isDarkMode}},methods:{buildRouteFromUrl(){const t=this.$route.params;if(!t.project||!t.pathMatch)return void console.log("I CANT EVEN: NO PROJECT/PARHMATCH");const e=1+t.pathMatch.lastIndexOf("/"),a=t.pathMatch.substring(0,e),s=t.pathMatch.substring(e);this.myState.subfolder=a,this.myState.yamlConfig=s},async getVizDetails(){try{const t=await this.myState.fileApi.getFileBlob(this.myState.subfolder+"/"+this.myState.yamlConfig);if(!t)return void console.log("no blob! :-(");const a=await e.dataurl(t);this.myState.imageData=a;const s=this.yamlConfig,i=this.matsimPngTitles[s]?this.matsimPngTitles[s]:this.yamlConfig;this.$emit("title",i)}catch(t){return console.error({e:t}),null}}},watch:{yamlConfig(){this.myState.yamlConfig=this.yamlConfig,this.getVizDetails()},subfolder(){this.myState.subfolder=this.subfolder,this.getVizDetails()}},mounted(){this.myState={fileApi:this.fileApi,subfolder:this.subfolder,yamlConfig:this.yamlConfig,thumbnail:this.thumbnail,imageData:""},this.yamlConfig||this.buildRouteFromUrl(),this.getVizDetails()}});const o={};var l=s(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.myState.yamlConfig?a("div",{staticClass:"image-container",class:{zthumbnail:t.thumbnail}},[a("img",{staticClass:"medium-zoom",class:{"invert-colors":t.isDarkMode},attrs:{src:t.myState.imageData}})]):t._e()}),[],!1,n,"1d0ea768",null,null);function n(t){for(let e in o)this[e]=o[e]}var r=function(){return l.exports}();export{r as default};
//# sourceMappingURL=ImageView.e3de0636.js.map
