{"version":3,"file":"SankeyDiagram.664fbe55.js","sources":["../../node_modules/d3-timer/src/timeout.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-array/src/ascending.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-array/src/bisector.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-array/src/max.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-array/src/sum.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-array/src/bisect.js","../../node_modules/lodash/_listCacheClear.js","../../node_modules/lodash/eq.js","../../node_modules/lodash/_assocIndexOf.js","../../node_modules/lodash/_listCacheDelete.js","../../node_modules/lodash/_listCacheGet.js","../../node_modules/lodash/_listCacheHas.js","../../node_modules/lodash/_listCacheSet.js","../../node_modules/lodash/_ListCache.js","../../node_modules/lodash/_stackClear.js","../../node_modules/lodash/_stackDelete.js","../../node_modules/lodash/_stackGet.js","../../node_modules/lodash/_stackHas.js","../../node_modules/lodash/_freeGlobal.js","../../node_modules/lodash/_root.js","../../node_modules/lodash/_Symbol.js","../../node_modules/lodash/_getRawTag.js","../../node_modules/lodash/_objectToString.js","../../node_modules/lodash/_baseGetTag.js","../../node_modules/lodash/isObject.js","../../node_modules/lodash/isFunction.js","../../node_modules/lodash/_isMasked.js","../../node_modules/lodash/_coreJsData.js","../../node_modules/lodash/_toSource.js","../../node_modules/lodash/_baseIsNative.js","../../node_modules/lodash/_getValue.js","../../node_modules/lodash/_getNative.js","../../node_modules/lodash/_Map.js","../../node_modules/lodash/_nativeCreate.js","../../node_modules/lodash/_hashClear.js","../../node_modules/lodash/_hashDelete.js","../../node_modules/lodash/_hashGet.js","../../node_modules/lodash/_hashHas.js","../../node_modules/lodash/_hashSet.js","../../node_modules/lodash/_Hash.js","../../node_modules/lodash/_mapCacheClear.js","../../node_modules/lodash/_isKeyable.js","../../node_modules/lodash/_getMapData.js","../../node_modules/lodash/_mapCacheDelete.js","../../node_modules/lodash/_mapCacheGet.js","../../node_modules/lodash/_mapCacheHas.js","../../node_modules/lodash/_mapCacheSet.js","../../node_modules/lodash/_MapCache.js","../../node_modules/lodash/_stackSet.js","../../node_modules/lodash/_Stack.js","../../node_modules/lodash/_arrayEach.js","../../node_modules/lodash/_defineProperty.js","../../node_modules/lodash/_baseAssignValue.js","../../node_modules/lodash/_assignValue.js","../../node_modules/lodash/_copyObject.js","../../node_modules/lodash/_baseTimes.js","../../node_modules/lodash/isObjectLike.js","../../node_modules/lodash/_baseIsArguments.js","../../node_modules/lodash/isBuffer.js","../../node_modules/lodash/isArguments.js","../../node_modules/lodash/isArray.js","../../node_modules/lodash/stubFalse.js","../../node_modules/lodash/_isIndex.js","../../node_modules/lodash/isLength.js","../../node_modules/lodash/_baseIsTypedArray.js","../../node_modules/lodash/_baseUnary.js","../../node_modules/lodash/_nodeUtil.js","../../node_modules/lodash/isTypedArray.js","../../node_modules/lodash/_arrayLikeKeys.js","../../node_modules/lodash/_isPrototype.js","../../node_modules/lodash/_overArg.js","../../node_modules/lodash/_nativeKeys.js","../../node_modules/lodash/_baseKeys.js","../../node_modules/lodash/isArrayLike.js","../../node_modules/lodash/keys.js","../../node_modules/lodash/_baseAssign.js","../../node_modules/lodash/_nativeKeysIn.js","../../node_modules/lodash/_baseKeysIn.js","../../node_modules/lodash/keysIn.js","../../node_modules/lodash/_baseAssignIn.js","../../node_modules/lodash/_cloneBuffer.js","../../node_modules/lodash/_copyArray.js","../../node_modules/lodash/_arrayFilter.js","../../node_modules/lodash/stubArray.js","../../node_modules/lodash/_getSymbols.js","../../node_modules/lodash/_copySymbols.js","../../node_modules/lodash/_arrayPush.js","../../node_modules/lodash/_getPrototype.js","../../node_modules/lodash/_getSymbolsIn.js","../../node_modules/lodash/_copySymbolsIn.js","../../node_modules/lodash/_baseGetAllKeys.js","../../node_modules/lodash/_getAllKeys.js","../../node_modules/lodash/_getAllKeysIn.js","../../node_modules/lodash/_DataView.js","../../node_modules/lodash/_Promise.js","../../node_modules/lodash/_Set.js","../../node_modules/lodash/_getTag.js","../../node_modules/lodash/_WeakMap.js","../../node_modules/lodash/_initCloneArray.js","../../node_modules/lodash/_Uint8Array.js","../../node_modules/lodash/_cloneArrayBuffer.js","../../node_modules/lodash/_cloneDataView.js","../../node_modules/lodash/_cloneRegExp.js","../../node_modules/lodash/_cloneSymbol.js","../../node_modules/lodash/_cloneTypedArray.js","../../node_modules/lodash/_initCloneByTag.js","../../node_modules/lodash/_baseCreate.js","../../node_modules/lodash/_initCloneObject.js","../../node_modules/lodash/_baseIsMap.js","../../node_modules/lodash/isMap.js","../../node_modules/lodash/_baseIsSet.js","../../node_modules/lodash/isSet.js","../../node_modules/lodash/_baseClone.js","../../node_modules/lodash/clone.js","../../node_modules/lodash/constant.js","../../node_modules/lodash/_createBaseFor.js","../../node_modules/lodash/_baseForOwn.js","../../node_modules/lodash/_baseFor.js","../../node_modules/lodash/_createBaseEach.js","../../node_modules/lodash/_baseEach.js","../../node_modules/lodash/identity.js","../../node_modules/lodash/_castFunction.js","../../node_modules/lodash/forEach.js","../../node_modules/lodash/each.js","../../node_modules/lodash/_baseFilter.js","../../node_modules/lodash/_setCacheHas.js","../../node_modules/lodash/_SetCache.js","../../node_modules/lodash/_setCacheAdd.js","../../node_modules/lodash/_cacheHas.js","../../node_modules/lodash/_equalArrays.js","../../node_modules/lodash/_arraySome.js","../../node_modules/lodash/_setToArray.js","../../node_modules/lodash/_equalByTag.js","../../node_modules/lodash/_mapToArray.js","../../node_modules/lodash/_equalObjects.js","../../node_modules/lodash/_baseIsEqualDeep.js","../../node_modules/lodash/_baseIsEqual.js","../../node_modules/lodash/_baseIsMatch.js","../../node_modules/lodash/_isStrictComparable.js","../../node_modules/lodash/_getMatchData.js","../../node_modules/lodash/_matchesStrictComparable.js","../../node_modules/lodash/_baseMatches.js","../../node_modules/lodash/isSymbol.js","../../node_modules/lodash/_isKey.js","../../node_modules/lodash/memoize.js","../../node_modules/lodash/_memoizeCapped.js","../../node_modules/lodash/_stringToPath.js","../../node_modules/lodash/_arrayMap.js","../../node_modules/lodash/_baseToString.js","../../node_modules/lodash/toString.js","../../node_modules/lodash/_castPath.js","../../node_modules/lodash/_toKey.js","../../node_modules/lodash/_baseGet.js","../../node_modules/lodash/get.js","../../node_modules/lodash/_baseHasIn.js","../../node_modules/lodash/_hasPath.js","../../node_modules/lodash/hasIn.js","../../node_modules/lodash/_baseMatchesProperty.js","../../node_modules/lodash/_baseProperty.js","../../node_modules/lodash/_basePropertyDeep.js","../../node_modules/lodash/property.js","../../node_modules/lodash/_baseIteratee.js","../../node_modules/lodash/filter.js","../../node_modules/lodash/_baseHas.js","../../node_modules/lodash/has.js","../../node_modules/lodash/isEmpty.js","../../node_modules/lodash/isUndefined.js","../../node_modules/lodash/_baseMap.js","../../node_modules/lodash/map.js","../../node_modules/lodash/_baseReduce.js","../../node_modules/lodash/reduce.js","../../node_modules/lodash/_arrayReduce.js","../../node_modules/lodash/isString.js","../../node_modules/lodash/_asciiSize.js","../../node_modules/lodash/_hasUnicode.js","../../node_modules/lodash/_unicodeSize.js","../../node_modules/lodash/_stringSize.js","../../node_modules/lodash/size.js","../../node_modules/lodash/transform.js","../../node_modules/lodash/_isFlattenable.js","../../node_modules/lodash/_baseFlatten.js","../../node_modules/lodash/_apply.js","../../node_modules/lodash/_overRest.js","../../node_modules/lodash/_baseSetToString.js","../../node_modules/lodash/_shortOut.js","../../node_modules/lodash/_setToString.js","../../node_modules/lodash/_baseRest.js","../../node_modules/lodash/_strictIndexOf.js","../../node_modules/lodash/_baseIndexOf.js","../../node_modules/lodash/_baseFindIndex.js","../../node_modules/lodash/_baseIsNaN.js","../../node_modules/lodash/_arrayIncludes.js","../../node_modules/lodash/_arrayIncludesWith.js","../../node_modules/lodash/noop.js","../../node_modules/lodash/_createSet.js","../../node_modules/lodash/_baseUniq.js","../../node_modules/lodash/isArrayLikeObject.js","../../node_modules/lodash/union.js","../../node_modules/lodash/_baseValues.js","../../node_modules/lodash/values.js","../../node_modules/graphlib/lib/lodash.js","../../node_modules/graphlib/lib/graph.js","../../node_modules/graphlib/lib/version.js","../../node_modules/graphlib/lib/index.js","../../node_modules/graphlib/lib/json.js","../../node_modules/graphlib/lib/alg/components.js","../../node_modules/graphlib/lib/data/priority-queue.js","../../node_modules/graphlib/lib/alg/dijkstra.js","../../node_modules/graphlib/lib/alg/dijkstra-all.js","../../node_modules/graphlib/lib/alg/tarjan.js","../../node_modules/graphlib/lib/alg/find-cycles.js","../../node_modules/graphlib/lib/alg/floyd-warshall.js","../../node_modules/graphlib/lib/alg/topsort.js","../../node_modules/graphlib/lib/alg/is-acyclic.js","../../node_modules/graphlib/lib/alg/dfs.js","../../node_modules/graphlib/lib/alg/postorder.js","../../node_modules/graphlib/lib/alg/preorder.js","../../node_modules/graphlib/lib/alg/prim.js","../../node_modules/graphlib/lib/alg/index.js","../../node_modules/graphlib/index.js","../../node_modules/d3-collection/src/map.js","../../node_modules/d3-collection/src/nest.js","../../node_modules/d3-collection/src/set.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-color/src/define.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-color/src/color.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/constant.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/color.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/rgb.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/numberArray.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/array.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/date.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/number.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/object.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/string.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-interpolate/src/value.js","../../node_modules/d3-selection/src/namespaces.js","../../node_modules/d3-selection/src/namespace.js","../../node_modules/d3-selection/src/creator.js","../../node_modules/d3-selection/src/selector.js","../../node_modules/d3-selection/src/selectorAll.js","../../node_modules/d3-selection/src/matcher.js","../../node_modules/d3-selection/src/selection/sparse.js","../../node_modules/d3-selection/src/selection/enter.js","../../node_modules/d3-selection/src/selection/data.js","../../node_modules/d3-selection/src/selection/sort.js","../../node_modules/d3-selection/src/selection/attr.js","../../node_modules/d3-selection/src/window.js","../../node_modules/d3-selection/src/selection/style.js","../../node_modules/d3-selection/src/selection/property.js","../../node_modules/d3-selection/src/selection/classed.js","../../node_modules/d3-selection/src/selection/text.js","../../node_modules/d3-selection/src/selection/html.js","../../node_modules/d3-selection/src/selection/raise.js","../../node_modules/d3-selection/src/selection/lower.js","../../node_modules/d3-selection/src/selection/insert.js","../../node_modules/d3-selection/src/selection/remove.js","../../node_modules/d3-selection/src/selection/clone.js","../../node_modules/d3-selection/src/selection/on.js","../../node_modules/d3-selection/src/selection/dispatch.js","../../node_modules/d3-selection/src/selection/index.js","../../node_modules/d3-selection/src/select.js","../../node_modules/d3-selection/src/selection/select.js","../../node_modules/d3-selection/src/selection/selectAll.js","../../node_modules/d3-selection/src/selection/filter.js","../../node_modules/d3-selection/src/constant.js","../../node_modules/d3-selection/src/selection/exit.js","../../node_modules/d3-selection/src/selection/join.js","../../node_modules/d3-selection/src/selection/merge.js","../../node_modules/d3-selection/src/selection/order.js","../../node_modules/d3-selection/src/selection/call.js","../../node_modules/d3-selection/src/selection/nodes.js","../../node_modules/d3-selection/src/selection/node.js","../../node_modules/d3-selection/src/selection/size.js","../../node_modules/d3-selection/src/selection/empty.js","../../node_modules/d3-selection/src/selection/each.js","../../node_modules/d3-selection/src/selection/append.js","../../node_modules/d3-selection/src/selection/datum.js","../../node_modules/d3-transition/src/transition/schedule.js","../../node_modules/d3-transition/node_modules/d3-color/src/define.js","../../node_modules/d3-transition/node_modules/d3-color/src/color.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/constant.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/color.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/rgb.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/number.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/string.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/transform/decompose.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/transform/parse.js","../../node_modules/d3-transition/node_modules/d3-interpolate/src/transform/index.js","../../node_modules/d3-transition/src/transition/tween.js","../../node_modules/d3-transition/src/transition/interpolate.js","../../node_modules/d3-transition/src/transition/attr.js","../../node_modules/d3-transition/src/transition/attrTween.js","../../node_modules/d3-transition/src/transition/delay.js","../../node_modules/d3-transition/src/transition/duration.js","../../node_modules/d3-transition/src/transition/ease.js","../../node_modules/d3-transition/src/transition/on.js","../../node_modules/d3-transition/src/transition/selection.js","../../node_modules/d3-transition/src/transition/style.js","../../node_modules/d3-transition/src/transition/styleTween.js","../../node_modules/d3-transition/src/transition/textTween.js","../../node_modules/d3-transition/src/transition/index.js","../../node_modules/d3-transition/src/transition/select.js","../../node_modules/d3-transition/src/transition/selectAll.js","../../node_modules/d3-transition/src/transition/filter.js","../../node_modules/d3-transition/src/transition/merge.js","../../node_modules/d3-transition/src/transition/transition.js","../../node_modules/d3-transition/src/transition/text.js","../../node_modules/d3-transition/src/transition/remove.js","../../node_modules/d3-transition/src/transition/end.js","../../node_modules/d3-transition/src/selection/transition.js","../../node_modules/d3-ease/src/cubic.js","../../node_modules/@simwrapper/d3-sankey-diagram/build/d3-sankey-diagram.esm.js","../../node_modules/@simwrapper/d3-sankey-diagram/node_modules/d3-array/src/min.js","../../node_modules/d3-transition/src/selection/index.js","../../node_modules/d3-transition/src/selection/interrupt.js","../../node_modules/d3-transition/src/interrupt.js","../../src/plugins/sankey/SankeyDiagram.vue","../../src/plugins/sankey/SankeyDiagram.vue?vue&type=template&lang.js"],"sourcesContent":["import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","module.exports = require('./forEach');\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseReduce;\n","var arrayReduce = require('./_arrayReduce'),\n    baseEach = require('./_baseEach'),\n    baseIteratee = require('./_baseIteratee'),\n    baseReduce = require('./_baseReduce'),\n    isArray = require('./isArray');\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nmodule.exports = reduce;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","/* global window */\n\nvar lodash;\n\nif (typeof require === \"function\") {\n  try {\n    lodash = {\n      clone: require(\"lodash/clone\"),\n      constant: require(\"lodash/constant\"),\n      each: require(\"lodash/each\"),\n      filter: require(\"lodash/filter\"),\n      has:  require(\"lodash/has\"),\n      isArray: require(\"lodash/isArray\"),\n      isEmpty: require(\"lodash/isEmpty\"),\n      isFunction: require(\"lodash/isFunction\"),\n      isUndefined: require(\"lodash/isUndefined\"),\n      keys: require(\"lodash/keys\"),\n      map: require(\"lodash/map\"),\n      reduce: require(\"lodash/reduce\"),\n      size: require(\"lodash/size\"),\n      transform: require(\"lodash/transform\"),\n      union: require(\"lodash/union\"),\n      values: require(\"lodash/values\")\n    };\n  } catch (e) {\n    // continue regardless of error\n  }\n}\n\nif (!lodash) {\n  lodash = window._;\n}\n\nmodule.exports = lodash;\n","\"use strict\";\n\nvar _ = require(\"./lodash\");\n\nmodule.exports = Graph;\n\nvar DEFAULT_EDGE_NAME = \"\\x00\";\nvar GRAPH_NODE = \"\\x00\";\nvar EDGE_KEY_DELIM = \"\\x01\";\n\n// Implementation notes:\n//\n//  * Node id query functions should return string ids for the nodes\n//  * Edge id query functions should return an \"edgeObj\", edge object, that is\n//    composed of enough information to uniquely identify an edge: {v, w, name}.\n//  * Internally we use an \"edgeId\", a stringified form of the edgeObj, to\n//    reference edges. This is because we need a performant way to look these\n//    edges up and, object properties, which have string keys, are the closest\n//    we're going to get to a performant hashtable in JavaScript.\n\nfunction Graph(opts) {\n  this._isDirected = _.has(opts, \"directed\") ? opts.directed : true;\n  this._isMultigraph = _.has(opts, \"multigraph\") ? opts.multigraph : false;\n  this._isCompound = _.has(opts, \"compound\") ? opts.compound : false;\n\n  // Label for the graph itself\n  this._label = undefined;\n\n  // Defaults to be set when creating a new node\n  this._defaultNodeLabelFn = _.constant(undefined);\n\n  // Defaults to be set when creating a new edge\n  this._defaultEdgeLabelFn = _.constant(undefined);\n\n  // v -> label\n  this._nodes = {};\n\n  if (this._isCompound) {\n    // v -> parent\n    this._parent = {};\n\n    // v -> children\n    this._children = {};\n    this._children[GRAPH_NODE] = {};\n  }\n\n  // v -> edgeObj\n  this._in = {};\n\n  // u -> v -> Number\n  this._preds = {};\n\n  // v -> edgeObj\n  this._out = {};\n\n  // v -> w -> Number\n  this._sucs = {};\n\n  // e -> edgeObj\n  this._edgeObjs = {};\n\n  // e -> label\n  this._edgeLabels = {};\n}\n\n/* Number of nodes in the graph. Should only be changed by the implementation. */\nGraph.prototype._nodeCount = 0;\n\n/* Number of edges in the graph. Should only be changed by the implementation. */\nGraph.prototype._edgeCount = 0;\n\n\n/* === Graph functions ========= */\n\nGraph.prototype.isDirected = function() {\n  return this._isDirected;\n};\n\nGraph.prototype.isMultigraph = function() {\n  return this._isMultigraph;\n};\n\nGraph.prototype.isCompound = function() {\n  return this._isCompound;\n};\n\nGraph.prototype.setGraph = function(label) {\n  this._label = label;\n  return this;\n};\n\nGraph.prototype.graph = function() {\n  return this._label;\n};\n\n\n/* === Node functions ========== */\n\nGraph.prototype.setDefaultNodeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultNodeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.nodeCount = function() {\n  return this._nodeCount;\n};\n\nGraph.prototype.nodes = function() {\n  return _.keys(this._nodes);\n};\n\nGraph.prototype.sources = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._in[v]);\n  });\n};\n\nGraph.prototype.sinks = function() {\n  var self = this;\n  return _.filter(this.nodes(), function(v) {\n    return _.isEmpty(self._out[v]);\n  });\n};\n\nGraph.prototype.setNodes = function(vs, value) {\n  var args = arguments;\n  var self = this;\n  _.each(vs, function(v) {\n    if (args.length > 1) {\n      self.setNode(v, value);\n    } else {\n      self.setNode(v);\n    }\n  });\n  return this;\n};\n\nGraph.prototype.setNode = function(v, value) {\n  if (_.has(this._nodes, v)) {\n    if (arguments.length > 1) {\n      this._nodes[v] = value;\n    }\n    return this;\n  }\n\n  this._nodes[v] = arguments.length > 1 ? value : this._defaultNodeLabelFn(v);\n  if (this._isCompound) {\n    this._parent[v] = GRAPH_NODE;\n    this._children[v] = {};\n    this._children[GRAPH_NODE][v] = true;\n  }\n  this._in[v] = {};\n  this._preds[v] = {};\n  this._out[v] = {};\n  this._sucs[v] = {};\n  ++this._nodeCount;\n  return this;\n};\n\nGraph.prototype.node = function(v) {\n  return this._nodes[v];\n};\n\nGraph.prototype.hasNode = function(v) {\n  return _.has(this._nodes, v);\n};\n\nGraph.prototype.removeNode =  function(v) {\n  var self = this;\n  if (_.has(this._nodes, v)) {\n    var removeEdge = function(e) { self.removeEdge(self._edgeObjs[e]); };\n    delete this._nodes[v];\n    if (this._isCompound) {\n      this._removeFromParentsChildList(v);\n      delete this._parent[v];\n      _.each(this.children(v), function(child) {\n        self.setParent(child);\n      });\n      delete this._children[v];\n    }\n    _.each(_.keys(this._in[v]), removeEdge);\n    delete this._in[v];\n    delete this._preds[v];\n    _.each(_.keys(this._out[v]), removeEdge);\n    delete this._out[v];\n    delete this._sucs[v];\n    --this._nodeCount;\n  }\n  return this;\n};\n\nGraph.prototype.setParent = function(v, parent) {\n  if (!this._isCompound) {\n    throw new Error(\"Cannot set parent in a non-compound graph\");\n  }\n\n  if (_.isUndefined(parent)) {\n    parent = GRAPH_NODE;\n  } else {\n    // Coerce parent to string\n    parent += \"\";\n    for (var ancestor = parent;\n      !_.isUndefined(ancestor);\n      ancestor = this.parent(ancestor)) {\n      if (ancestor === v) {\n        throw new Error(\"Setting \" + parent+ \" as parent of \" + v +\n                        \" would create a cycle\");\n      }\n    }\n\n    this.setNode(parent);\n  }\n\n  this.setNode(v);\n  this._removeFromParentsChildList(v);\n  this._parent[v] = parent;\n  this._children[parent][v] = true;\n  return this;\n};\n\nGraph.prototype._removeFromParentsChildList = function(v) {\n  delete this._children[this._parent[v]][v];\n};\n\nGraph.prototype.parent = function(v) {\n  if (this._isCompound) {\n    var parent = this._parent[v];\n    if (parent !== GRAPH_NODE) {\n      return parent;\n    }\n  }\n};\n\nGraph.prototype.children = function(v) {\n  if (_.isUndefined(v)) {\n    v = GRAPH_NODE;\n  }\n\n  if (this._isCompound) {\n    var children = this._children[v];\n    if (children) {\n      return _.keys(children);\n    }\n  } else if (v === GRAPH_NODE) {\n    return this.nodes();\n  } else if (this.hasNode(v)) {\n    return [];\n  }\n};\n\nGraph.prototype.predecessors = function(v) {\n  var predsV = this._preds[v];\n  if (predsV) {\n    return _.keys(predsV);\n  }\n};\n\nGraph.prototype.successors = function(v) {\n  var sucsV = this._sucs[v];\n  if (sucsV) {\n    return _.keys(sucsV);\n  }\n};\n\nGraph.prototype.neighbors = function(v) {\n  var preds = this.predecessors(v);\n  if (preds) {\n    return _.union(preds, this.successors(v));\n  }\n};\n\nGraph.prototype.isLeaf = function (v) {\n  var neighbors;\n  if (this.isDirected()) {\n    neighbors = this.successors(v);\n  } else {\n    neighbors = this.neighbors(v);\n  }\n  return neighbors.length === 0;\n};\n\nGraph.prototype.filterNodes = function(filter) {\n  var copy = new this.constructor({\n    directed: this._isDirected,\n    multigraph: this._isMultigraph,\n    compound: this._isCompound\n  });\n\n  copy.setGraph(this.graph());\n\n  var self = this;\n  _.each(this._nodes, function(value, v) {\n    if (filter(v)) {\n      copy.setNode(v, value);\n    }\n  });\n\n  _.each(this._edgeObjs, function(e) {\n    if (copy.hasNode(e.v) && copy.hasNode(e.w)) {\n      copy.setEdge(e, self.edge(e));\n    }\n  });\n\n  var parents = {};\n  function findParent(v) {\n    var parent = self.parent(v);\n    if (parent === undefined || copy.hasNode(parent)) {\n      parents[v] = parent;\n      return parent;\n    } else if (parent in parents) {\n      return parents[parent];\n    } else {\n      return findParent(parent);\n    }\n  }\n\n  if (this._isCompound) {\n    _.each(copy.nodes(), function(v) {\n      copy.setParent(v, findParent(v));\n    });\n  }\n\n  return copy;\n};\n\n/* === Edge functions ========== */\n\nGraph.prototype.setDefaultEdgeLabel = function(newDefault) {\n  if (!_.isFunction(newDefault)) {\n    newDefault = _.constant(newDefault);\n  }\n  this._defaultEdgeLabelFn = newDefault;\n  return this;\n};\n\nGraph.prototype.edgeCount = function() {\n  return this._edgeCount;\n};\n\nGraph.prototype.edges = function() {\n  return _.values(this._edgeObjs);\n};\n\nGraph.prototype.setPath = function(vs, value) {\n  var self = this;\n  var args = arguments;\n  _.reduce(vs, function(v, w) {\n    if (args.length > 1) {\n      self.setEdge(v, w, value);\n    } else {\n      self.setEdge(v, w);\n    }\n    return w;\n  });\n  return this;\n};\n\n/*\n * setEdge(v, w, [value, [name]])\n * setEdge({ v, w, [name] }, [value])\n */\nGraph.prototype.setEdge = function() {\n  var v, w, name, value;\n  var valueSpecified = false;\n  var arg0 = arguments[0];\n\n  if (typeof arg0 === \"object\" && arg0 !== null && \"v\" in arg0) {\n    v = arg0.v;\n    w = arg0.w;\n    name = arg0.name;\n    if (arguments.length === 2) {\n      value = arguments[1];\n      valueSpecified = true;\n    }\n  } else {\n    v = arg0;\n    w = arguments[1];\n    name = arguments[3];\n    if (arguments.length > 2) {\n      value = arguments[2];\n      valueSpecified = true;\n    }\n  }\n\n  v = \"\" + v;\n  w = \"\" + w;\n  if (!_.isUndefined(name)) {\n    name = \"\" + name;\n  }\n\n  var e = edgeArgsToId(this._isDirected, v, w, name);\n  if (_.has(this._edgeLabels, e)) {\n    if (valueSpecified) {\n      this._edgeLabels[e] = value;\n    }\n    return this;\n  }\n\n  if (!_.isUndefined(name) && !this._isMultigraph) {\n    throw new Error(\"Cannot set a named edge when isMultigraph = false\");\n  }\n\n  // It didn't exist, so we need to create it.\n  // First ensure the nodes exist.\n  this.setNode(v);\n  this.setNode(w);\n\n  this._edgeLabels[e] = valueSpecified ? value : this._defaultEdgeLabelFn(v, w, name);\n\n  var edgeObj = edgeArgsToObj(this._isDirected, v, w, name);\n  // Ensure we add undirected edges in a consistent way.\n  v = edgeObj.v;\n  w = edgeObj.w;\n\n  Object.freeze(edgeObj);\n  this._edgeObjs[e] = edgeObj;\n  incrementOrInitEntry(this._preds[w], v);\n  incrementOrInitEntry(this._sucs[v], w);\n  this._in[w][e] = edgeObj;\n  this._out[v][e] = edgeObj;\n  this._edgeCount++;\n  return this;\n};\n\nGraph.prototype.edge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return this._edgeLabels[e];\n};\n\nGraph.prototype.hasEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  return _.has(this._edgeLabels, e);\n};\n\nGraph.prototype.removeEdge = function(v, w, name) {\n  var e = (arguments.length === 1\n    ? edgeObjToId(this._isDirected, arguments[0])\n    : edgeArgsToId(this._isDirected, v, w, name));\n  var edge = this._edgeObjs[e];\n  if (edge) {\n    v = edge.v;\n    w = edge.w;\n    delete this._edgeLabels[e];\n    delete this._edgeObjs[e];\n    decrementOrRemoveEntry(this._preds[w], v);\n    decrementOrRemoveEntry(this._sucs[v], w);\n    delete this._in[w][e];\n    delete this._out[v][e];\n    this._edgeCount--;\n  }\n  return this;\n};\n\nGraph.prototype.inEdges = function(v, u) {\n  var inV = this._in[v];\n  if (inV) {\n    var edges = _.values(inV);\n    if (!u) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.v === u; });\n  }\n};\n\nGraph.prototype.outEdges = function(v, w) {\n  var outV = this._out[v];\n  if (outV) {\n    var edges = _.values(outV);\n    if (!w) {\n      return edges;\n    }\n    return _.filter(edges, function(edge) { return edge.w === w; });\n  }\n};\n\nGraph.prototype.nodeEdges = function(v, w) {\n  var inEdges = this.inEdges(v, w);\n  if (inEdges) {\n    return inEdges.concat(this.outEdges(v, w));\n  }\n};\n\nfunction incrementOrInitEntry(map, k) {\n  if (map[k]) {\n    map[k]++;\n  } else {\n    map[k] = 1;\n  }\n}\n\nfunction decrementOrRemoveEntry(map, k) {\n  if (!--map[k]) { delete map[k]; }\n}\n\nfunction edgeArgsToId(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  return v + EDGE_KEY_DELIM + w + EDGE_KEY_DELIM +\n             (_.isUndefined(name) ? DEFAULT_EDGE_NAME : name);\n}\n\nfunction edgeArgsToObj(isDirected, v_, w_, name) {\n  var v = \"\" + v_;\n  var w = \"\" + w_;\n  if (!isDirected && v > w) {\n    var tmp = v;\n    v = w;\n    w = tmp;\n  }\n  var edgeObj =  { v: v, w: w };\n  if (name) {\n    edgeObj.name = name;\n  }\n  return edgeObj;\n}\n\nfunction edgeObjToId(isDirected, edgeObj) {\n  return edgeArgsToId(isDirected, edgeObj.v, edgeObj.w, edgeObj.name);\n}\n","module.exports = '2.1.8';\n","// Includes only the \"core\" of graphlib\nmodule.exports = {\n  Graph: require(\"./graph\"),\n  version: require(\"./version\")\n};\n","var _ = require(\"./lodash\");\nvar Graph = require(\"./graph\");\n\nmodule.exports = {\n  write: write,\n  read: read\n};\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound()\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g)\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function(v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function(e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function(entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function(entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = components;\n\nfunction components(g) {\n  var visited = {};\n  var cmpts = [];\n  var cmpt;\n\n  function dfs(v) {\n    if (_.has(visited, v)) return;\n    visited[v] = true;\n    cmpt.push(v);\n    _.each(g.successors(v), dfs);\n    _.each(g.predecessors(v), dfs);\n  }\n\n  _.each(g.nodes(), function(v) {\n    cmpt = [];\n    dfs(v);\n    if (cmpt.length) {\n      cmpts.push(cmpt);\n    }\n  });\n\n  return cmpts;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = PriorityQueue;\n\n/**\n * A min-priority queue data structure. This algorithm is derived from Cormen,\n * et al., \"Introduction to Algorithms\". The basic idea of a min-priority\n * queue is that you can efficiently (in O(1) time) get the smallest key in\n * the queue. Adding and removing elements takes O(log n) time. A key can\n * have its priority decreased in O(log n) time.\n */\nfunction PriorityQueue() {\n  this._arr = [];\n  this._keyIndices = {};\n}\n\n/**\n * Returns the number of elements in the queue. Takes `O(1)` time.\n */\nPriorityQueue.prototype.size = function() {\n  return this._arr.length;\n};\n\n/**\n * Returns the keys that are in the queue. Takes `O(n)` time.\n */\nPriorityQueue.prototype.keys = function() {\n  return this._arr.map(function(x) { return x.key; });\n};\n\n/**\n * Returns `true` if **key** is in the queue and `false` if not.\n */\nPriorityQueue.prototype.has = function(key) {\n  return _.has(this._keyIndices, key);\n};\n\n/**\n * Returns the priority for **key**. If **key** is not present in the queue\n * then this function returns `undefined`. Takes `O(1)` time.\n *\n * @param {Object} key\n */\nPriorityQueue.prototype.priority = function(key) {\n  var index = this._keyIndices[key];\n  if (index !== undefined) {\n    return this._arr[index].priority;\n  }\n};\n\n/**\n * Returns the key for the minimum element in this queue. If the queue is\n * empty this function throws an Error. Takes `O(1)` time.\n */\nPriorityQueue.prototype.min = function() {\n  if (this.size() === 0) {\n    throw new Error(\"Queue underflow\");\n  }\n  return this._arr[0].key;\n};\n\n/**\n * Inserts a new key into the priority queue. If the key already exists in\n * the queue this function returns `false`; otherwise it will return `true`.\n * Takes `O(n)` time.\n *\n * @param {Object} key the key to add\n * @param {Number} priority the initial priority for the key\n */\nPriorityQueue.prototype.add = function(key, priority) {\n  var keyIndices = this._keyIndices;\n  key = String(key);\n  if (!_.has(keyIndices, key)) {\n    var arr = this._arr;\n    var index = arr.length;\n    keyIndices[key] = index;\n    arr.push({key: key, priority: priority});\n    this._decrease(index);\n    return true;\n  }\n  return false;\n};\n\n/**\n * Removes and returns the smallest key in the queue. Takes `O(log n)` time.\n */\nPriorityQueue.prototype.removeMin = function() {\n  this._swap(0, this._arr.length - 1);\n  var min = this._arr.pop();\n  delete this._keyIndices[min.key];\n  this._heapify(0);\n  return min.key;\n};\n\n/**\n * Decreases the priority for **key** to **priority**. If the new priority is\n * greater than the previous priority, this function will throw an Error.\n *\n * @param {Object} key the key for which to raise priority\n * @param {Number} priority the new priority for the key\n */\nPriorityQueue.prototype.decrease = function(key, priority) {\n  var index = this._keyIndices[key];\n  if (priority > this._arr[index].priority) {\n    throw new Error(\"New priority is greater than current priority. \" +\n        \"Key: \" + key + \" Old: \" + this._arr[index].priority + \" New: \" + priority);\n  }\n  this._arr[index].priority = priority;\n  this._decrease(index);\n};\n\nPriorityQueue.prototype._heapify = function(i) {\n  var arr = this._arr;\n  var l = 2 * i;\n  var r = l + 1;\n  var largest = i;\n  if (l < arr.length) {\n    largest = arr[l].priority < arr[largest].priority ? l : largest;\n    if (r < arr.length) {\n      largest = arr[r].priority < arr[largest].priority ? r : largest;\n    }\n    if (largest !== i) {\n      this._swap(i, largest);\n      this._heapify(largest);\n    }\n  }\n};\n\nPriorityQueue.prototype._decrease = function(index) {\n  var arr = this._arr;\n  var priority = arr[index].priority;\n  var parent;\n  while (index !== 0) {\n    parent = index >> 1;\n    if (arr[parent].priority < priority) {\n      break;\n    }\n    this._swap(index, parent);\n    index = parent;\n  }\n};\n\nPriorityQueue.prototype._swap = function(i, j) {\n  var arr = this._arr;\n  var keyIndices = this._keyIndices;\n  var origArrI = arr[i];\n  var origArrJ = arr[j];\n  arr[i] = origArrJ;\n  arr[j] = origArrI;\n  keyIndices[origArrJ.key] = i;\n  keyIndices[origArrI.key] = j;\n};\n","var _ = require(\"../lodash\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = dijkstra;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction dijkstra(g, source, weightFn, edgeFn) {\n  return runDijkstra(g, String(source),\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runDijkstra(g, source, weightFn, edgeFn) {\n  var results = {};\n  var pq = new PriorityQueue();\n  var v, vEntry;\n\n  var updateNeighbors = function(edge) {\n    var w = edge.v !== v ? edge.v : edge.w;\n    var wEntry = results[w];\n    var weight = weightFn(edge);\n    var distance = vEntry.distance + weight;\n\n    if (weight < 0) {\n      throw new Error(\"dijkstra does not allow negative edge weights. \" +\n                      \"Bad edge: \" + edge + \" Weight: \" + weight);\n    }\n\n    if (distance < wEntry.distance) {\n      wEntry.distance = distance;\n      wEntry.predecessor = v;\n      pq.decrease(w, distance);\n    }\n  };\n\n  g.nodes().forEach(function(v) {\n    var distance = v === source ? 0 : Number.POSITIVE_INFINITY;\n    results[v] = { distance: distance };\n    pq.add(v, distance);\n  });\n\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    vEntry = results[v];\n    if (vEntry.distance === Number.POSITIVE_INFINITY) {\n      break;\n    }\n\n    edgeFn(v).forEach(updateNeighbors);\n  }\n\n  return results;\n}\n","var dijkstra = require(\"./dijkstra\");\nvar _ = require(\"../lodash\");\n\nmodule.exports = dijkstraAll;\n\nfunction dijkstraAll(g, weightFunc, edgeFunc) {\n  return _.transform(g.nodes(), function(acc, v) {\n    acc[v] = dijkstra(g, v, weightFunc, edgeFunc);\n  }, {});\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = tarjan;\n\nfunction tarjan(g) {\n  var index = 0;\n  var stack = [];\n  var visited = {}; // node id -> { onStack, lowlink, index }\n  var results = [];\n\n  function dfs(v) {\n    var entry = visited[v] = {\n      onStack: true,\n      lowlink: index,\n      index: index++\n    };\n    stack.push(v);\n\n    g.successors(v).forEach(function(w) {\n      if (!_.has(visited, w)) {\n        dfs(w);\n        entry.lowlink = Math.min(entry.lowlink, visited[w].lowlink);\n      } else if (visited[w].onStack) {\n        entry.lowlink = Math.min(entry.lowlink, visited[w].index);\n      }\n    });\n\n    if (entry.lowlink === entry.index) {\n      var cmpt = [];\n      var w;\n      do {\n        w = stack.pop();\n        visited[w].onStack = false;\n        cmpt.push(w);\n      } while (v !== w);\n      results.push(cmpt);\n    }\n  }\n\n  g.nodes().forEach(function(v) {\n    if (!_.has(visited, v)) {\n      dfs(v);\n    }\n  });\n\n  return results;\n}\n","var _ = require(\"../lodash\");\nvar tarjan = require(\"./tarjan\");\n\nmodule.exports = findCycles;\n\nfunction findCycles(g) {\n  return _.filter(tarjan(g), function(cmpt) {\n    return cmpt.length > 1 || (cmpt.length === 1 && g.hasEdge(cmpt[0], cmpt[0]));\n  });\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = floydWarshall;\n\nvar DEFAULT_WEIGHT_FUNC = _.constant(1);\n\nfunction floydWarshall(g, weightFn, edgeFn) {\n  return runFloydWarshall(g,\n    weightFn || DEFAULT_WEIGHT_FUNC,\n    edgeFn || function(v) { return g.outEdges(v); });\n}\n\nfunction runFloydWarshall(g, weightFn, edgeFn) {\n  var results = {};\n  var nodes = g.nodes();\n\n  nodes.forEach(function(v) {\n    results[v] = {};\n    results[v][v] = { distance: 0 };\n    nodes.forEach(function(w) {\n      if (v !== w) {\n        results[v][w] = { distance: Number.POSITIVE_INFINITY };\n      }\n    });\n    edgeFn(v).forEach(function(edge) {\n      var w = edge.v === v ? edge.w : edge.v;\n      var d = weightFn(edge);\n      results[v][w] = { distance: d, predecessor: v };\n    });\n  });\n\n  nodes.forEach(function(k) {\n    var rowK = results[k];\n    nodes.forEach(function(i) {\n      var rowI = results[i];\n      nodes.forEach(function(j) {\n        var ik = rowI[k];\n        var kj = rowK[j];\n        var ij = rowI[j];\n        var altDistance = ik.distance + kj.distance;\n        if (altDistance < ij.distance) {\n          ij.distance = altDistance;\n          ij.predecessor = kj.predecessor;\n        }\n      });\n    });\n  });\n\n  return results;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = topsort;\ntopsort.CycleException = CycleException;\n\nfunction topsort(g) {\n  var visited = {};\n  var stack = {};\n  var results = [];\n\n  function visit(node) {\n    if (_.has(stack, node)) {\n      throw new CycleException();\n    }\n\n    if (!_.has(visited, node)) {\n      stack[node] = true;\n      visited[node] = true;\n      _.each(g.predecessors(node), visit);\n      delete stack[node];\n      results.push(node);\n    }\n  }\n\n  _.each(g.sinks(), visit);\n\n  if (_.size(visited) !== g.nodeCount()) {\n    throw new CycleException();\n  }\n\n  return results;\n}\n\nfunction CycleException() {}\nCycleException.prototype = new Error(); // must be an instance of Error to pass testing","var topsort = require(\"./topsort\");\n\nmodule.exports = isAcyclic;\n\nfunction isAcyclic(g) {\n  try {\n    topsort(g);\n  } catch (e) {\n    if (e instanceof topsort.CycleException) {\n      return false;\n    }\n    throw e;\n  }\n  return true;\n}\n","var _ = require(\"../lodash\");\n\nmodule.exports = dfs;\n\n/*\n * A helper that preforms a pre- or post-order traversal on the input graph\n * and returns the nodes in the order they were visited. If the graph is\n * undirected then this algorithm will navigate using neighbors. If the graph\n * is directed then this algorithm will navigate using successors.\n *\n * Order must be one of \"pre\" or \"post\".\n */\nfunction dfs(g, vs, order) {\n  if (!_.isArray(vs)) {\n    vs = [vs];\n  }\n\n  var navigation = (g.isDirected() ? g.successors : g.neighbors).bind(g);\n\n  var acc = [];\n  var visited = {};\n  _.each(vs, function(v) {\n    if (!g.hasNode(v)) {\n      throw new Error(\"Graph does not have node: \" + v);\n    }\n\n    doDfs(g, v, order === \"post\", visited, navigation, acc);\n  });\n  return acc;\n}\n\nfunction doDfs(g, v, postorder, visited, navigation, acc) {\n  if (!_.has(visited, v)) {\n    visited[v] = true;\n\n    if (!postorder) { acc.push(v); }\n    _.each(navigation(v), function(w) {\n      doDfs(g, w, postorder, visited, navigation, acc);\n    });\n    if (postorder) { acc.push(v); }\n  }\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = postorder;\n\nfunction postorder(g, vs) {\n  return dfs(g, vs, \"post\");\n}\n","var dfs = require(\"./dfs\");\n\nmodule.exports = preorder;\n\nfunction preorder(g, vs) {\n  return dfs(g, vs, \"pre\");\n}\n","var _ = require(\"../lodash\");\nvar Graph = require(\"../graph\");\nvar PriorityQueue = require(\"../data/priority-queue\");\n\nmodule.exports = prim;\n\nfunction prim(g, weightFunc) {\n  var result = new Graph();\n  var parents = {};\n  var pq = new PriorityQueue();\n  var v;\n\n  function updateNeighbors(edge) {\n    var w = edge.v === v ? edge.w : edge.v;\n    var pri = pq.priority(w);\n    if (pri !== undefined) {\n      var edgeWeight = weightFunc(edge);\n      if (edgeWeight < pri) {\n        parents[w] = v;\n        pq.decrease(w, edgeWeight);\n      }\n    }\n  }\n\n  if (g.nodeCount() === 0) {\n    return result;\n  }\n\n  _.each(g.nodes(), function(v) {\n    pq.add(v, Number.POSITIVE_INFINITY);\n    result.setNode(v);\n  });\n\n  // Start from an arbitrary node\n  pq.decrease(g.nodes()[0], 0);\n\n  var init = false;\n  while (pq.size() > 0) {\n    v = pq.removeMin();\n    if (_.has(parents, v)) {\n      result.setEdge(v, parents[v]);\n    } else if (init) {\n      throw new Error(\"Input graph is not connected: \" + g);\n    } else {\n      init = true;\n    }\n\n    g.nodeEdges(v).forEach(updateNeighbors);\n  }\n\n  return result;\n}\n","module.exports = {\n  components: require(\"./components\"),\n  dijkstra: require(\"./dijkstra\"),\n  dijkstraAll: require(\"./dijkstra-all\"),\n  findCycles: require(\"./find-cycles\"),\n  floydWarshall: require(\"./floyd-warshall\"),\n  isAcyclic: require(\"./is-acyclic\"),\n  postorder: require(\"./postorder\"),\n  preorder: require(\"./preorder\"),\n  prim: require(\"./prim\"),\n  tarjan: require(\"./tarjan\"),\n  topsort: require(\"./topsort\")\n};\n","/**\n * Copyright (c) 2014, Chris Pettitt\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n * list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of the copyright holder nor the names of its contributors\n * may be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\n * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\n * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\n * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\n * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar lib = require(\"./lib\");\n\nmodule.exports = {\n  Graph: lib.Graph,\n  json: require(\"./lib/json\"),\n  alg: require(\"./lib/alg\"),\n  version: lib.version\n};\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import { max, min, sum } from 'd3-array';\nimport { Graph, alg } from 'graphlib';\nimport { map, nest, set } from 'd3-collection';\nimport { interpolate } from 'd3-interpolate';\nimport { event, select } from 'd3-selection';\nimport { transition } from 'd3-transition';\nimport { dispatch } from 'd3-dispatch';\nimport { format } from 'd3-format';\n\n/**\n * Create a new graph where nodes in the same rank set are merged into one node.\n *\n * Depends on the \"backwards\" attribute of the nodes in G, and the \"delta\"\n * atribute of the edges.\n *\n */\nfunction groupedGraph (G, rankSets) {\n  if ( rankSets === void 0 ) rankSets = [];\n\n  // Not multigraph because this is only used for calculating ranks\n  var GG = new Graph({directed: true});\n  if (G.nodes().length === 0) { return GG }\n\n  // Make sure there is a minimum-rank set\n  rankSets = ensureSmin(G, rankSets);\n\n  // Construct map of node ids to the set they are in, if any\n  var nodeSets = map();\n  var set$$1;\n  var id;\n  var i;\n  var j;\n  for (i = 0; i < rankSets.length; ++i) {\n    set$$1 = rankSets[i];\n    if (!set$$1.nodes || set$$1.nodes.length === 0) { continue }\n    id = '' + i;\n    for (j = 0; j < set$$1.nodes.length; ++j) {\n      nodeSets.set(set$$1.nodes[j], id);\n    }\n    GG.setNode(id, { type: set$$1.type, nodes: set$$1.nodes });\n  }\n\n  // use i to keep counting new ids\n  var nodes = G.nodes();\n  G.nodes().forEach(function (u) {\n    var d = G.node(u);\n    if (!nodeSets.has(u)) {\n      id = '' + (i++);\n      set$$1 = { type: 'same', nodes: [u] };\n      nodeSets.set(u, id);\n      GG.setNode(id, set$$1);\n    }\n  });\n\n  // Add edges between nodes/groups\n  G.edges().forEach(function (e) {\n    var d = G.edge(e);\n    var sourceSet = nodeSets.get(e.v);\n    var targetSet = nodeSets.get(e.w);\n\n    // Minimum edge length depends on direction of nodes:\n    //  -> to -> : 1\n    //  -> to <- : 0\n    //  <- to -> : 0 (in opposite direction??)\n    //  <- to <- : 1 in opposite direction\n    var edge = GG.edge(sourceSet, targetSet) || { delta: 0 };\n    if (sourceSet === targetSet) {\n      edge.delta = 0;\n      GG.setEdge(sourceSet, targetSet, edge);\n    } else if (G.node(e.v).backwards) {\n      edge.delta = Math.max(edge.delta, G.node(e.w).backwards ? 1 : 0);\n      GG.setEdge(targetSet, sourceSet, edge);\n    } else {\n      edge.delta = Math.max(edge.delta, G.node(e.w).backwards ? 0 : 1);\n      GG.setEdge(sourceSet, targetSet, edge);\n    }\n  });\n\n  return GG\n}\n\n// export function linkDelta (nodeBackwards, link) {\n//   if (nodeBackwards(link.source)) {\n//     return nodeBackwards(link.target) ? 1 : 0\n//   } else {\n//     return nodeBackwards(link.target) ? 0 : 1\n//   }\n// }\n\nfunction ensureSmin (G, rankSets) {\n  for (var i = 0; i < rankSets.length; ++i) {\n    if (rankSets[i].type === 'min') {\n      return rankSets  // ok\n    }\n  }\n\n  // find the first sourceSet node, or else use the first node\n  var sources = G.sources();\n  var n0 = sources.length ? sources[0] : G.nodes()[0];\n  return [{ type: 'min', nodes: [ n0 ] }].concat(rankSets)\n}\n\n/**\n * Reverse edges in G to make it acyclic\n */\nfunction makeAcyclic (G, v0) {\n  var tree = findSpanningTree(G, v0);\n\n  G.edges().forEach(function (e) {\n    var rel = nodeRelationship(tree, e.v, e.w);\n    if (rel < 0) {\n      var label = G.edge(e) || {};\n      label.reversed = true;\n      G.removeEdge(e);\n      G.setEdge(e.w, e.v, label);\n    }\n  });\n\n  return G\n}\n\n// find spanning tree, starting from the given node.\n// return new graph where nodes have depth and thread\nfunction findSpanningTree (G, v0) {\n  var visited = set();\n  var tree = new Graph({directed: true});\n  var thread = [];\n\n  if (!G.hasNode(v0)) { throw Error('node not in graph') }\n\n  doDfs(G, v0, visited, tree, thread);\n  G.nodes().forEach(function (u) {\n    if (!visited.has(u)) {\n      doDfs(G, u, visited, tree, thread);\n    }\n  });\n\n  thread.forEach(function (u, i) {\n    tree.node(u).thread = (i + 1 < thread.length) ? thread[i + 1] : thread[0];\n  });\n\n  return tree\n}\n\n/**\n * Returns 1 if w is a descendent of v, -1 if v is a descendent of w, and 0 if\n * they are unrelated.\n */\nfunction nodeRelationship (tree, v, w) {\n  var V = tree.node(v);\n  var W = tree.node(w);\n  if (V.depth < W.depth) {\n    var u = V.thread;  // next node\n    while (tree.node(u).depth > V.depth) {\n      if (u === w) { return 1 }\n      u = tree.node(u).thread;\n    }\n  } else if (W.depth < V.depth) {\n    var u$1 = W.thread;  // next node\n    while (tree.node(u$1).depth > W.depth) {\n      if (u$1 === v) { return -1 }\n      u$1 = tree.node(u$1).thread;\n    }\n  }\n  return 0\n}\n\nfunction doDfs (G, v, visited, tree, thread, depth) {\n  if ( depth === void 0 ) depth = 0;\n\n  if (!visited.has(v)) {\n    visited.add(v);\n    thread.push(v);\n    tree.setNode(v, { depth: depth });\n\n    // It doesn't seem to cause a problem with letters as node ids, but numbers\n    // are sorted when using G.successors(). So use G.outEdges() instead.\n    var next = G.outEdges(v).map(function (e) { return e.w; });\n    next.forEach(function (w, i) {\n      if (!visited.has(w)) {\n        tree.setEdge(v, w, { delta: 1 });\n      }\n      doDfs(G, w, visited, tree, thread, depth + 1);\n    });\n  }\n}\n\n/**\n * Take an acyclic graph and assign initial ranks to the nodes\n */\nfunction assignInitialRanks (G) {\n  // Place nodes on queue when they have no unmarked in-edges. Initially, this\n  // means sources.\n  var queue = G.sources();\n  var seen = set();\n  var marked = set();\n\n  // Mark any loops, since they don't affect rank assignment\n  G.edges().forEach(function (e) {\n    if (e.v === e.w) { marked.add(edgeIdString(e)); }\n  });\n\n  G.nodes().forEach(function (v) {\n    G.node(v).rank = 0;\n  });\n\n  var loop = function () {\n    var v = queue.shift();\n    seen.add(v);\n\n    var V = G.node(v);\n    if (!V) { G.setNode(v, (V = {})); }\n\n    // Set rank to minimum of incoming edges\n    V.rank = 0;\n    G.inEdges(v).forEach(function (e) {\n      var delta = G.edge(e).delta === undefined ? 1 : G.edge(e).delta;\n      V.rank = Math.max(V.rank, G.node(e.v).rank + delta);\n    });\n\n    // Mark outgoing edges\n    G.outEdges(v).forEach(function (e) {\n      marked.add(edgeIdString(e));\n    });\n\n    // Add nodes to queue when they have no unmarked in-edges.\n    G.nodes().forEach(function (n) {\n      if (queue.indexOf(n) < 0 && !seen.has(n) &&\n          !G.inEdges(n).some(function (e) { return !marked.has(edgeIdString(e)); })) {\n        queue.push(n);\n      }\n    });\n  };\n\n  while (queue.length > 0) loop();\n}\n\nfunction edgeIdString (e) {\n  return e.v + '\\x01' + e.w + '\\x01' + e.name\n}\n\n/**\n * Assign ranks to the nodes in G, according to rankSets.\n */\nfunction assignRanks (G, rankSets) {\n  // Group nodes together, and add additional edges from Smin to sources\n  var GG = groupedGraph(G, rankSets);\n  if (GG.nodeCount() === 0) { return }\n\n  // Add additional edges from Smin to sources\n  addTemporaryEdges(GG);\n\n  // Make the graph acyclic\n  makeAcyclic(GG, '0');\n\n  // Assign the initial ranks\n  assignInitialRanks(GG);\n\n  // XXX improve initial ranking...\n  moveSourcesRight(GG);\n\n  // Apply calculated ranks to original graph\n  // const ranks = []\n  GG.nodes().forEach(function (u) {\n    var groupedNode = GG.node(u);\n    // while (node.rank >= ranks.length) ranks.push([])\n    groupedNode.nodes.forEach(function (v) {\n      G.node(v).rank = groupedNode.rank;\n    });\n  });\n  // return ranks\n}\n\n// export function nodeBackwards (link) {\n//   if (link.source.direction === 'l') {\n//     return link.target.direction === 'l' ? 1 : 0\n//   } else {\n//     return link.target.direction === 'l' ? 0 : 1\n//   }\n// }\n\nfunction addTemporaryEdges (GG) {\n  // Add temporary edges between Smin and sources\n  GG.sources().forEach(function (u) {\n    if (u !== '0') {\n      GG.setEdge('0', u, { temp: true, delta: 0 });\n    }\n  });\n\n  // XXX Should also add edges from sinks to Smax\n\n  // G.nodes().forEach(u => {\n  //   if (!nodeSets.has(u)) {\n  //     GG.\n  //   }\n  // });\n}\n\nfunction moveSourcesRight (GG) {\n  GG.edges().forEach(function (e) {\n    var edge = GG.edge(e);\n    if (edge.temp) { moveRight(e.w); }\n  });\n\n  function moveRight (v) {\n    var V = GG.node(v);\n    var rank = min(GG.outEdges(v), function (e) { return GG.node(e.w).rank - GG.edge(e).delta; });\n    if (rank !== undefined) { V.rank = rank; }\n  }\n}\n\nfunction initialOrdering (G, ranks) {\n  var order = [];\n  if (ranks.length === 0) { return order }\n\n  // Start with sources & nodes in rank 0\n  var start = G.sources();\n  var nodeRanks = map();\n  ranks.forEach(function (nodes, i) {\n    order.push([]);\n    nodes.forEach(function (u) {\n      if (i === 0 && start.indexOf(u) < 0) { start.push(u); }\n      nodeRanks.set(u, i);\n    });\n  });\n\n  alg.preorder(G, start).forEach(function (u) {\n    order[nodeRanks.get(u)].push(u);\n  });\n\n  return order\n}\n\n/** @module node-ordering/count-crossings */\n\n/**\n * Count the total number of crossings between 2 layers.\n *\n * This is the sum of the countBetweenCrossings and countLoopCrossings.\n *\n * @param {Graph} G - The graph.\n * @param {Array} orderA - List of node ids on left side.\n * @param {Array} orderB - List of node ids on right side.\n */\nfunction countCrossings (G, orderA, orderB) {\n  return (\n    countBetweenCrossings(G, orderA, orderB) // +\n    // countLoopCrossings(G, orderA, orderB)\n  )\n}\n\n/**\n * Count the number of crossings of edges passing between 2 layers.\n *\n * Algorithm from\n * http://jgaa.info/accepted/2004/BarthMutzelJuenger2004.8.2.pdf\n *\n * @param {Graph} G - The graph.\n * @param {Array} orderA - List of node ids on left side.\n * @param {Array} orderB - List of node ids on right side.\n */\nfunction countBetweenCrossings (G, orderA, orderB) {\n  var north;\n  var south;\n  var q;\n\n  if (orderA.length > orderB.length) {\n    north = orderA;\n    south = orderB;\n  } else {\n    north = orderB;\n    south = orderA;\n  }\n  q = south.length;\n\n  // lexicographically sorted edges from north to south\n  var southSeq = [];\n  north.forEach(function (u) {\n    south.forEach(function (v, j) {\n      if (G.hasEdge(u, v) || G.hasEdge(v, u)) { southSeq.push(j); }\n    });\n  });\n\n  // build accumulator tree\n  var firstIndex = 1;\n  while (firstIndex < q) { firstIndex *= 2; }\n  var treeSize = 2 * firstIndex - 1;  // number of tree nodes\n  firstIndex -= 1;                      // index of leftmost leaf\n\n  var tree = new Array(treeSize);\n  for (var i = 0; i < treeSize; i++) { tree[i] = 0; }\n\n  // count the crossings\n  var count = 0;\n  southSeq.forEach(function (k) {\n    var index = k + firstIndex;\n    tree[index]++;\n    while (index > 0) {\n      if (index % 2) { count += tree[index + 1]; }\n      index = Math.floor((index - 1) / 2);\n      tree[index]++;\n    }\n  });\n\n  return count\n}\n\n/**\n * Count the number of crossings from within-layer edges.\n *\n * @param {Graph} G - The graph.\n * @param {Array} orderA - List of node ids on left side.\n * @param {Array} orderB - List of node ids on right side.\n */\n\nfunction swapNodes (G, order) {\n  var improved = true;\n  while (improved) {\n    improved = false;\n    for (var i = 0; i < order.length; ++i) {\n      for (var j = 0; j < order[i].length - 1; ++j) {\n        var count0 = allCrossings$1(G, order, i);\n        transpose(order[i], j, j + 1);\n        var count1 = allCrossings$1(G, order, i);\n\n        if (count1 < count0) {\n          improved = true;\n        } else {\n          transpose(order[i], j, j + 1);  // put back\n        }\n      }\n    }\n  }\n}\n\nfunction allCrossings$1 (G, order, i) {\n  var count = 0;\n  if (i > 0) {\n    count += countCrossings(G, order[i - 1], order[i]);\n  }\n  if (i + 1 < order.length) {\n    count += countCrossings(G, order[i], order[i + 1]);\n  }\n  return count\n}\n\nfunction transpose (list, i, j) {\n  var tmp = list[i];\n  list[i] = list[j];\n  list[j] = tmp;\n}\n\nfunction medianValue (positions) {\n  var m = Math.floor(positions.length / 2);\n  if (positions.length === 0) {\n    return -1\n  } else if (positions.length % 2 === 1) {\n    return positions[m]\n  } else if (positions.length === 2) {\n    return (positions[0] + positions[1]) / 2\n  } else {\n    var left = positions[m - 1] - positions[0];\n    var right = positions[positions.length - 1] - positions[m];\n    return (positions[m - 1] * right + positions[m] * left) / (left + right)\n  }\n}\n\nfunction neighbourPositions (G, order, i, j, u, includeLoops) {\n  if ( includeLoops === void 0 ) includeLoops = false;\n\n  // current rank i\n  // neighbour rank j\n  var thisRank = order[i];\n  var otherRank = order[j];\n\n  var positions = [];\n\n  // neighbouring positions on other rank\n  otherRank.forEach(function (n, i) {\n    if (G.nodeEdges(n, u).length > 0) {\n      positions.push(i);\n    }\n  });\n\n  if (positions.length === 0 && includeLoops) {\n    // if no neighbours in other rank, look for loops to this rank\n    // XXX only on one side?\n    thisRank.forEach(function (n, i) {\n      if (G.nodeEdges(n, u).length > 0) {\n        positions.push(i + 0.5);\n      }\n    });\n  }\n\n  positions.sort(function (a, b) { return a - b; });\n\n  return positions\n}\n\n/**\n * Sort arr according to order. -1 in order means stay in same position.\n */\nfunction sortByPositions (arr, order) {\n  var origOrder = map(arr.map(function (d, i) { return [d, i]; }), function (d) { return d[0]; });\n\n  // console.log('sorting', arr, order, origOrder)\n  for (var i = 1; i < arr.length; ++i) {\n    // console.group('start', i, arr[i])\n    for (var k = i; k > 0; --k) {\n      var j = k - 1;\n      var a = order.get(arr[j]);\n      var b = order.get(arr[k]);\n\n      // count back over any fixed positions (-1)\n      while ((a = order.get(arr[j])) === -1 && j > 0) { j--; }\n\n      // console.log(j, k, arr[j], arr[k], a, b)\n      if (b === -1 || a === -1) {\n        // console.log('found -1', a, b, 'skipping', j, k)\n        break\n      }\n\n      if (a === b) {\n        a = origOrder.get(arr[j]);\n        b = origOrder.get(arr[k]);\n        // console.log('a == b, switching to orig order', a, b)\n      }\n\n      if (b >= a) {\n        // console.log('k > k -1, stopping')\n        break\n      }\n      // console.log('swapping', arr[k], arr[j])\n      // swap arr[k], arr[j]\n      var assign;\n      (assign = [arr[j], arr[k]], arr[k] = assign[0], arr[j] = assign[1]);\n      // console.log(arr)\n    }\n    // console.groupEnd()\n  }\n  // console.log('-->', arr)\n}\n\nfunction sortNodes$1 (G, order, sweepDirection, includeLoops) {\n  if ( sweepDirection === void 0 ) sweepDirection = 1;\n  if ( includeLoops === void 0 ) includeLoops = false;\n\n  if (sweepDirection > 0) {\n    var loop = function ( r ) {\n      var medians = map();\n      order[r].forEach(function (u) {\n        var neighbour = medianValue(neighbourPositions(G, order, r, r - 1, u, includeLoops));\n        medians.set(u, neighbour);\n      });\n      sortByPositions(order[r], medians);\n    };\n\n    for (var r = 1; r < order.length; ++r) loop( r );\n  } else {\n    var loop$1 = function ( r ) {\n      var medians$1 = map();\n      order[r].forEach(function (u) {\n        var neighbour = medianValue(neighbourPositions(G, order, r, r + 1, u, includeLoops));\n        medians$1.set(u, neighbour);\n      });\n      sortByPositions(order[r], medians$1);\n    };\n\n    for (var r$1 = order.length - 2; r$1 >= 0; --r$1) loop$1( r$1 );\n  }\n}\n\n/** @module node-ordering */\n\n/**\n * Sorts the nodes in G, setting the `depth` attribute on each.\n *\n * @param {Graph} G - The graph. Nodes must have a `rank` attribute.\n *\n */\nfunction sortNodes (G, maxIterations) {\n  if ( maxIterations === void 0 ) maxIterations = 25;\n\n  var ranks = getRanks(G);\n  var order = initialOrdering(G, ranks);\n  var best = order;\n  var i = 0;\n\n  while (i++ < maxIterations) {\n    sortNodes$1(G, order, (i % 2 === 0));\n    swapNodes(G, order);\n    if (allCrossings(G, order) < allCrossings(G, best)) {\n      // console.log('improved', allCrossings(G, order), order);\n      best = copy(order);\n    }\n  }\n\n  // Assign depth to nodes\n  // const depths = map()\n  best.forEach(function (nodes) {\n    nodes.forEach(function (u, i) {\n      // depths.set(u, i)\n      G.node(u).depth = i;\n    });\n  });\n}\n\nfunction getRanks (G) {\n  var ranks = [];\n  G.nodes().forEach(function (u) {\n    var r = G.node(u).rank || 0;\n    while (r >= ranks.length) { ranks.push([]); }\n    ranks[r].push(u);\n  });\n  return ranks\n}\n\nfunction allCrossings (G, order) {\n  var count = 0;\n  for (var i = 0; i < order.length - 1; ++i) {\n    count += countCrossings(G, order[i], order[i + 1]);\n  }\n  return count\n}\n\nfunction copy (order) {\n  var result = [];\n  order.forEach(function (rank) {\n    result.push(rank.map(function (d) { return d; }));\n  });\n  return result\n}\n\nfunction addDummyNodes (G) {\n  // Add edges & dummy nodes\n  if (typeof G.graph() !== 'object') { G.setGraph({}); }\n  G.graph().dummyChains = [];\n  G.edges().forEach(function (e) { return normaliseEdge(G, e); });\n}\n\n// based on https://github.com/cpettitt/dagre/blob/master/lib/normalize.js\nfunction normaliseEdge (G, e) {\n  var edge = G.edge(e);\n  var dummies = dummyNodes(G.node(e.v), G.node(e.w));\n  if (dummies.length === 0) { return }\n\n  G.removeEdge(e);\n\n  var v = e.v;\n  dummies.forEach(function (dummy, i) {\n    var id = \"__\" + (e.v) + \"_\" + (e.w) + \"_\" + i;\n    if (!G.hasNode(id)) {\n      dummy.dummy = 'edge';\n      G.setNode(id, dummy);\n      if (i === 0) {\n        G.graph().dummyChains.push(id);\n      }\n    }\n    addDummyEdge(v, (v = id));\n  });\n  addDummyEdge(v, e.w);\n\n  function addDummyEdge (v, w) {\n    var label = { points: [], value: edge.value, origEdge: e, origLabel: edge };\n    G.setEdge(v, w, label, e.name);\n  }\n}\n\nfunction removeDummyNodes (G) {\n  var chains = G.graph().dummyChains || [];\n  chains.forEach(function (v) {\n    var node = G.node(v);\n    var dummyEdges = G.inEdges(v).map(function (e) { return G.edge(e); });\n\n    // Set dy and starting point of edge and add back to graph\n    dummyEdges.forEach(function (dummyEdge) {\n      dummyEdge.origLabel.dy = dummyEdge.dy;\n      dummyEdge.origLabel.x0 = dummyEdge.x0;\n      dummyEdge.origLabel.y0 = dummyEdge.y0;\n      dummyEdge.origLabel.r0 = dummyEdge.r0;\n      dummyEdge.origLabel.d0 = dummyEdge.d0;\n      G.setEdge(dummyEdge.origEdge, dummyEdge.origLabel);\n    });\n    var r1s = dummyEdges.map(function (dummyEdge) { return dummyEdge.r1; });\n\n    // Walk through chain\n    var w;\n    while (node.dummy) {\n      dummyEdges = G.outEdges(v).map(function (e) { return G.edge(e); });\n      dummyEdges.forEach(function (dummyEdge, i) {\n        dummyEdge.origLabel.points.push({\n          x: (node.x0 + node.x1) / 2,\n          y: dummyEdge.y0,\n          d: dummyEdge.d0,\n          ro: dummyEdge.r0,\n          ri: r1s[i]  // from last edge\n        });\n      });\n      r1s = dummyEdges.map(function (dummyEdge) { return dummyEdge.r1; });\n\n      // move on\n      w = G.successors(v)[0];\n      G.removeNode(v);\n      node = G.node(v = w);\n    }\n\n    // Set ending point of edge\n    dummyEdges.forEach(function (dummyEdge) {\n      dummyEdge.origLabel.x1 = dummyEdge.x1;\n      dummyEdge.origLabel.y1 = dummyEdge.y1;\n      dummyEdge.origLabel.r1 = dummyEdge.r1;\n      dummyEdge.origLabel.d1 = dummyEdge.d1;\n    });\n  });\n}\n\nfunction dummyNodes (source, target) {\n  var dummyNodes = [];\n  var r = source.rank;\n\n  if (r + 1 <= target.rank) {\n    // add more to get forwards\n    if (source.backwards) {\n      dummyNodes.push({rank: r, backwards: false});  // turn around\n    }\n    while (++r < target.rank) {\n      dummyNodes.push({rank: r, backwards: false});\n    }\n    if (target.backwards) {\n      dummyNodes.push({rank: r, backwards: false});  // turn around\n    }\n  } else if (r > target.rank) {\n    // add more to get backwards\n    if (!source.backwards) {\n      dummyNodes.push({rank: r, backwards: true});  // turn around\n    }\n    while (r-- > target.rank + 1) {\n      dummyNodes.push({rank: r, backwards: true});\n    }\n    if (!target.backwards) {\n      dummyNodes.push({rank: r, backwards: true});  // turn around\n    }\n  }\n\n  return dummyNodes\n}\n\nfunction nestGraph (nodes) {\n  var maxRank = max(nodes, function (d) { return d.rank || 0; }) || 0;\n  var maxBand = max(nodes, function (d) { return d.band || 0; }) || 0;\n\n  // const nodes = graph.nodes().concat(graph.dummyNodes())\n\n  var nested = nest()\n    .key(function (d) { return d.rank || 0; })\n    .key(function (d) { return d.band || 0; })\n    .sortValues(function (a, b) { return a.depth - b.depth; })\n    .map(nodes);\n\n  var result = new Array(maxRank + 1);\n  var rank;\n  for (var i = 0; i <= maxRank; ++i) {\n    result[i] = new Array(maxBand + 1);\n    rank = nested.get(i);\n    if (rank) {\n      for (var j = 0; j <= maxBand; ++j) {\n        result[i][j] = rank.get(j) || [];\n      }\n    } else {\n      for (var j$1 = 0; j$1 <= maxBand; ++j$1) {\n        result[i][j$1] = [];\n      }\n    }\n  }\n\n  result.bandValues = bandValues(result);\n\n  return result\n}\n\nfunction bandValues (nested) {\n  if (nested.length === 0 || nested[0].length === 0) { return [] }\n\n  var Nb = nested[0].length;\n  var values = new Array(Nb);\n  for (var i = 0; i < Nb; i++) { values[i] = 0; }\n\n  nested.forEach(function (rank) {\n    rank.forEach(function (band, j) {\n      var total = sum(band, function (d) { return d.value; });\n      values[j] = Math.max(values[j], total);\n    });\n  });\n\n  return values\n}\n\n// export function minEdgeDx (w, y0, y1) {\n//   console.log('mindx', w, y0, y1)\n//   const dy = y1 - y0\n//   const ay = Math.abs(dy) - w  // final sign doesn't matter\n//   const dx2 = w * w - ay * ay\n//   const dx = dx2 >= 0 ? Math.sqrt(dx2) : w\n//   return dx\n// }\n\nfunction positionHorizontally (G, width, nodeWidth) {\n  // const minWidths = new Array(maxRank).fill(0)\n  // G.edges().forEach(e => {\n  //   const r0 = G.node(e.v).rank || 0\n  //   minWidths[r0] = Math.max(minWidths[r0], minEdgeDx(G.edge(e).dy, G.node(e.v).y, G.node(e.w).y))\n  // })\n  // for (let i = 0; i < nested.length - 1; ++i) {\n  //   minWidths[i] = 0\n  //   nested[i].forEach(band => {\n  //     band.forEach(d => {\n  //       // edges for dummy nodes, outgoing for real nodes\n  //       (d.outgoing || d.edges).forEach(e => {\n  //         minWidths[i] = Math.max(minWidths[i], minEdgeDx(e))\n  //       })\n  //     })\n  //   })\n  // }\n  // const totalMinWidth = sum(minWidths)\n  // let dx\n  // if (totalMinWidth > width) {\n  //   // allocate fairly\n  //   dx = minWidths.map(w => width * w / totalMinWidth)\n  // } else {\n  //   const spare = (width - totalMinWidth) / (nested.length - 1)\n  //   dx = minWidths.map(w => w + spare)\n  // }\n\n  var maxRank = max(G.nodes(), function (u) { return G.node(u).rank || 0; }) || 0;\n  var dx = (width - nodeWidth) / maxRank;\n\n  G.nodes().forEach(function (u) {\n    var node = G.node(u);\n    node.x0 = dx * (node.rank || 0);\n    node.x1 = node.x0 + nodeWidth;\n  });\n}\n\nfunction defaultSeparation (a, b) {\n  return 1\n}\n\nfunction positionNodesVertically () {\n  var separation = defaultSeparation;\n\n  function layout (nested, totalHeight, whitespace) {\n    nested.forEach(function (layer) {\n      var y = 0;\n      layer.forEach(function (band, j) {\n        // Height of this band, based on fraction of value\n        var bandHeight = nested.bandValues[j] / sum(nested.bandValues) * totalHeight;\n\n        var margin = whitespace * bandHeight / 5;\n        var height = bandHeight - 2 * margin;\n        var total = sum(band, function (d) { return d.dy; });\n        var gaps = band.map(function (d, i) {\n          if (!d.value) { return 0 }\n          return band[i + 1] ? separation(band[i], band[i + 1], layout) : 0\n        });\n        var space = Math.max(0, height - total);\n        var kg = sum(gaps) ? space / sum(gaps) : 0;\n\n        var isFirst = true;\n        var isLast = true;  // XXX bands\n\n        var yy = y + margin;\n        if (band.length === 1) {\n          // centre vertically\n          yy += (height - band[0].dy) / 2;\n        }\n\n        var prevGap = isFirst ? Number.MAX_VALUE : 0;  // edge of graph\n        band.forEach(function (node, i) {\n          node.y = yy;\n          node.spaceAbove = prevGap;\n          node.spaceBelow = gaps[i] * kg;\n          yy += node.dy + node.spaceBelow;\n          prevGap = node.spaceBelow;\n\n          // XXX is this a good idea?\n          if (node.data && node.data.forceY !== undefined) {\n            node.y = margin + node.data.forceY * (height - node.dy);\n          }\n        });\n        if (band.length > 0) {\n          band[band.length - 1].spaceBelow = isLast ? Number.MAX_VALUE : 0;  // edge of graph\n        }\n\n        y += bandHeight;\n      });\n    });\n  }\n\n  layout.separation = function (x) {\n    if (!arguments.length) { return separation }\n    separation = required$1(x);\n    return layout\n  };\n\n  return layout\n}\n\nfunction required$1 (f) {\n  if (typeof f !== 'function') { throw new Error() }\n  return f\n}\n\nfunction prepareNodePorts (G, sortPorts) {\n  G.nodes().forEach(function (u) {\n    var node = G.node(u);\n    var ports = map();\n    function getOrSet (id, side) {\n      if (ports.has(id)) { return ports.get(id) }\n      var port = { id: id, node: node.data, side: side, incoming: [], outgoing: [] };\n      ports.set(id, port);\n      return port\n    }\n\n    G.inEdges(u).forEach(function (e) {\n      var edge = G.edge(e);\n      var port = getOrSet(edge.targetPortId || 'in', node.direction !== 'l' ? 'west' : 'east');\n      port.incoming.push(e);\n      edge.targetPort = port;\n    });\n    G.outEdges(u).forEach(function (e) {\n      var edge = G.edge(e);\n      var port = getOrSet(edge.sourcePortId || 'out', node.direction !== 'l' ? 'east' : 'west');\n      port.outgoing.push(e);\n      edge.sourcePort = port;\n    });\n\n    node.ports = ports.values();\n    node.ports.sort(sortPorts);\n\n    // Initialise from/to elsewhere lists\n    // XXX need to take more care with node directions\n    node.fromElsewhere = node.fromElsewhere || [];\n    node.toElsewhere = node.toElsewhere || [];\n    var fromElsewhereDy = 0;\n    node.fromElsewhere.forEach(function (link) {\n      link.x1 = node.x0;\n      fromElsewhereDy += link.dy;\n    });\n\n    // Set positions of ports, roughly -- so the other endpoints of links are\n    // known approximately when being sorted.\n    var y = {west: fromElsewhereDy, east: 0};\n    var i = {west: 0, east: 0};\n    node.ports.forEach(function (port) {\n      port.y = y[port.side];\n      port.index = i[port.side];\n      port.dy = Math.max(sum(port.incoming, function (e) { return G.edge(e).dy; }),\n                         sum(port.outgoing, function (e) { return G.edge(e).dy; }));\n      var x = (port.side === 'west' ? node.x0 : node.x1);\n\n      port.outgoing.forEach(function (e) {\n        var link = G.edge(e);\n        link.x0 = x;\n        link.y0 = node.y + port.y + link.dy / 2;\n      });\n      port.incoming.forEach(function (e) {\n        var link = G.edge(e);\n        link.x1 = x;\n        link.y1 = node.y + port.y + link.dy / 2;\n      });\n      y[port.side] += port.dy;\n      i[port.side] += 1;\n    });\n\n    node.toElsewhere.forEach(function (link) {\n      link.x0 = node.x1;\n    });\n  });\n}\n\nfunction linkDirection (G, e, head) {\n  if ( head === void 0 ) head = true;\n\n  if (e.v === e.w) {\n    // pretend self-links go downwards\n    return Math.PI / 2 * (head ? +1 : -1)\n  } else {\n    // const source = G.node(e.v)\n    // const target = G.node(e.w)\n    // return Math.atan2(target.y - source.y,\n    //                   target.x0 - source.x1)\n    var link = G.edge(e);\n    return Math.atan2(link.y1 - link.y0,\n                      link.x1 - link.x0)\n  }\n}\n\n/** @module edge-ordering */\n\n/**\n * Order the edges at all nodes.\n */\nfunction orderEdges (G, opts) {\n  G.nodes().forEach(function (u) { return orderEdgesOne(G, u, opts); });\n}\n\n/**\n * Order the edges at the given node.\n * The ports have already been setup and sorted.\n */\nfunction orderEdgesOne (G, v) {\n  var node = G.node(v);\n  node.ports.forEach(function (port) {\n    port.incoming.sort(compareDirection(G, node, false));\n    port.outgoing.sort(compareDirection(G, node, true));\n  });\n}\n\n/**\n * Sort links based on their endpoints & type\n */\nfunction compareDirection (G, node, head) {\n  if ( head === void 0 ) head = true;\n\n  return function (a, b) {\n    var da = linkDirection(G, a, head);\n    var db = linkDirection(G, b, head);\n    var c = head ? 1 : -1;\n\n    // links between same node, sort on type\n    if (a.v === b.v && a.w === b.w && Math.abs(da - db) < 1e-3) {\n      if (typeof a.name === 'number' && typeof b.name === 'number') {\n        return a.name - b.name\n      } else if (typeof a.name === 'string' && typeof b.name === 'string') {\n        return a.name.localeCompare(b.name)\n      } else {\n        return 0\n      }\n    }\n\n    // loops to same slice based on y-position\n    if (Math.abs(da - db) < 1e-3) {\n      if (a.w === b.w) {\n        return G.node(b.v).y - G.node(a.v).y\n      } else if (a.v === b.v) {\n        return G.node(b.w).y - G.node(a.w).y\n      } else {\n        return 0\n      }\n    }\n\n    // otherwise sort by direction\n    return c * (da - db)\n  }\n}\n\nfunction findFirst(links, p) {\n  var jmid = null;\n  for (var j = 0; j < links.length; ++j) {\n    if (p(links[j])) { jmid = j; break; }\n  }\n  return jmid;\n}\n\n\n/**\n * Adjust radii of curvature to avoid overlaps, as much as possible.\n * @param links - the list of links, ordered from outside to inside of bend\n * @param rr - \"r0\" or \"r1\", the side to work on\n */\nfunction sweepCurvatureInwards(links, rr) {\n  if (links.length === 0) { return; }\n\n  // sweep from inside of curvature towards outside\n  var Rmin = 0, h;\n  for (var i = links.length - 1; i >= 0; --i) {\n    h = links[i].dy / 2;\n    if (links[i][rr] - h < Rmin) {  // inner radius\n      links[i][rr] = Math.min(links[i].Rmax, Rmin + h);\n    }\n    Rmin = links[i][rr] + h;\n  }\n\n  // sweep from outside of curvature towards centre\n  var Rmax = links[0].Rmax + links[0].dy / 2;\n  for (var i$1 = 0; i$1 < links.length; ++i$1) {\n    h = links[i$1].dy / 2;\n    if (links[i$1][rr] + h > Rmax) {  // outer radius\n      links[i$1][rr] = Math.max(h, Rmax - h);\n    }\n    Rmax = links[i$1][rr] - h;\n  }\n\n}\n\n/**\n * Edge positioning.\n *\n * @module link-positioning\n */\n\n/*\n * Requires incoming and outgoing attributes on nodes\n */\nfunction layoutLinks (G) {\n  setEdgeEndpoints(G);\n  setEdgeCurvatures(G);\n  return G\n}\n\nfunction setEdgeEndpoints (G) {\n  G.nodes().forEach(function (u) {\n    var node = G.node(u);\n\n    var sy = node.y;\n    var ty = node.y;\n\n    node.fromElsewhere.forEach(function (link) {\n      link.y1 = ty + link.dy / 2;\n      link.d1 = node.backwards ? 'l' : 'r';\n      link.dy = link.dy;\n      ty += link.dy;\n    });\n\n    node.ports.forEach(function (port) {\n      sy = node.y + port.y;\n      ty = node.y + port.y;\n\n      port.outgoing.forEach(function (e) {\n        var link = G.edge(e);\n        // link.x0 = node.x1\n        link.y0 = sy + link.dy / 2;\n        link.d0 = node.backwards ? 'l' : 'r';\n        link.dy = link.dy;\n        sy += link.dy;\n      });\n\n      port.incoming.forEach(function (e) {\n        var link = G.edge(e);\n        // link.x1 = node.x0\n        link.y1 = ty + link.dy / 2;\n        link.d1 = node.backwards ? 'l' : 'r';\n        link.dy = link.dy;\n        ty += link.dy;\n      });\n    });\n\n    node.toElsewhere.forEach(function (link) {\n      link.y0 = sy + link.dy / 2;\n      link.d0 = node.backwards ? 'l' : 'r';\n      link.dy = link.dy;\n      sy += link.dy;\n    });\n  });\n}\n\nfunction setEdgeCurvatures (G) {\n  G.nodes().forEach(function (u) {\n    var node = G.node(u);\n    setEdgeEndCurvatures(node.toElsewhere, 'r0');\n    setEdgeEndCurvatures(node.fromElsewhere, 'r1');\n    node.ports.forEach(function (port) {\n      setEdgeEndCurvatures(port.outgoing.map(function (e) { return G.edge(e); }), 'r0');\n      setEdgeEndCurvatures(port.incoming.map(function (e) { return G.edge(e); }), 'r1');\n    });\n  });\n}\n\nfunction maximumRadiusOfCurvature (link) {\n  var Dx = link.x1 - link.x0;\n  var Dy = link.y1 - link.y0;\n  if (link.d0 !== link.d1) {\n    return Math.abs(Dy) / 2.1\n  } else {\n    return (Dy !== 0) ? (Dx * Dx + Dy * Dy) / Math.abs(4 * Dy) : Infinity\n  }\n}\n\nfunction setEdgeEndCurvatures (links, rr) {\n  // initialise segments, find reversal of curvature\n  links.forEach(function (link) {\n    // const link = (i < 0) ? link.segments[link.segments.length + i] : link.segments[i]\n    link.Rmax = maximumRadiusOfCurvature(link);\n    link[rr] = Math.max(link.dy / 2, (link.d0 === link.d1 ? link.Rmax * 0.6 : (5 + link.dy / 2)));\n  });\n\n  var jmid = (rr === 'r0'\n              ? findFirst(links, function (f) { return f.y1 > f.y0; })\n              : findFirst(links, function (f) { return f.y0 > f.y1; }));\n  if (jmid === null) { jmid = links.length; }\n\n  // Set maximum radius down from middle\n  sweepCurvatureInwards(links.slice(jmid), rr);\n\n  // Set maximum radius up from middle\n  if (jmid > 0) {\n    var links2 = [];\n    for (var j = jmid - 1; j >= 0; j--) { links2.push(links[j]); }\n    sweepCurvatureInwards(links2, rr);\n  }\n}\n\nfunction buildGraph (graph, nodeId, nodeBackwards, sourceId, targetId, linkType, linkValue) {\n  var G = new Graph({ directed: true, multigraph: true });\n  graph.nodes.forEach(function (node, i) {\n    var id = nodeId(node, i);\n    if (G.hasNode(id)) { throw new Error('duplicate: ' + id) }\n    G.setNode(id, {\n      data: node,\n      index: i,\n      backwards: nodeBackwards(node, i),\n      fromElsewhere: node.fromElsewhere || [],\n      toElsewhere: node.toElsewhere || [],\n      // XXX don't need these now have nodePositions?\n      x0: node.x0,\n      x1: node.x1,\n      y: node.y0\n    });\n  });\n\n  graph.links.forEach(function (link, i) {\n    var v = idAndPort(sourceId(link, i));\n    var w = idAndPort(targetId(link, i));\n    var label = {\n      data: link,\n      sourcePortId: v.port,\n      targetPortId: w.port,\n      index: i,\n      points: [],\n      value: linkValue(link, i),\n      type: linkType(link, i)\n    };\n    if (!G.hasNode(v.id)) { throw new Error('missing: ' + v.id) }\n    if (!G.hasNode(w.id)) { throw new Error('missing: ' + w.id) }\n    G.setEdge(v.id, w.id, label, linkType(link, i));\n  });\n\n  G.setGraph({});\n\n  return G\n}\n\nfunction idAndPort (x) {\n  if (typeof x === 'object') { return x }\n  return {id: x, port: undefined}\n}\n\n/**\n */\n\nfunction defaultNodes (graph) {\n  return graph.nodes\n}\n\nfunction defaultLinks (graph) {\n  return graph.links\n}\n\nfunction defaultNodeId (d) {\n  return d.id\n}\n\nfunction defaultNodeBackwards (d) {\n  return d.direction && d.direction.toLowerCase() === 'l'\n}\n\nfunction defaultSourceId (d) {\n  // return typeof d.source === 'object' ? d.source.id : d.source\n  return {\n    id: typeof d.source === 'object' ? d.source.id : d.source,\n    port: typeof d.sourcePort === 'object' ? d.sourcePort.id : d.sourcePort\n  }\n}\n\nfunction defaultTargetId (d) {\n  // return typeof d.target === 'object' ? d.target.id : d.target\n  return {\n    id: typeof d.target === 'object' ? d.target.id : d.target,\n    port: typeof d.targetPort === 'object' ? d.targetPort.id : d.targetPort\n  }\n}\n\nfunction defaultLinkType (d) {\n  return d.type\n}\n\nfunction defaultSortPorts (a, b) {\n  // XXX weighted sum\n  return a.id.localeCompare(b.id)\n}\n\n// function defaultNodeSubdivisions\n\nfunction sankeyLayout () {\n  var nodes = defaultNodes;\n  var links = defaultLinks;\n  var nodeId = defaultNodeId;\n  var nodeBackwards = defaultNodeBackwards;\n  var sourceId = defaultSourceId;\n  var targetId = defaultTargetId;\n  var linkType = defaultLinkType;\n  var ordering = null;\n  var rankSets = [];\n  var maxIterations = 25; // XXX setter/getter\n  var nodePosition = null;\n  var sortPorts = defaultSortPorts;\n\n  // extent\n  var x0 = 0;\n  var y0 = 0;\n  var x1 = 1;\n  var y1 = 1;\n\n  // node width\n  var dx = 1;\n\n  var scale = null;\n  var linkValue = function (e) { return e.value };\n  var whitespace = 0.5;\n  var verticalLayout = positionNodesVertically();\n\n  function sankey () {\n    var graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    var G = buildGraph(graph, nodeId, nodeBackwards, sourceId, targetId, linkType, linkValue);\n\n    setNodeValues(G, linkValue);\n\n    if (nodePosition) {\n      // hard-coded node positions\n\n      G.nodes().forEach(function (u) {\n        var node = G.node(u);\n        var pos = nodePosition(node.data);\n        node.x0 = pos[0];\n        node.x1 = pos[0] + dx;\n        node.y = pos[1];\n      });\n      setWidths(G, scale);\n    } else {\n      // calculate node positions\n\n      if (ordering !== null) {\n        applyOrdering(G, ordering);\n      } else {\n        assignRanks(G, rankSets);\n        sortNodes(G, maxIterations);\n      }\n\n      addDummyNodes(G);\n      setNodeValues(G, linkValue);\n      if (ordering === null) {\n        // XXX sort nodes?\n        sortNodes(G, maxIterations);\n      }\n\n      var nested = nestGraph(G.nodes().map(function (u) { return G.node(u); }));\n      maybeScaleToFit(G, nested);\n      setWidths(G, scale);\n\n      // position nodes\n      verticalLayout(nested, y1 - y0, whitespace);\n      positionHorizontally(G, x1 - x0, dx);\n\n      // adjust origin\n      G.nodes().forEach(function (u) {\n        var node = G.node(u);\n        node.x0 += x0;\n        node.x1 += x0;\n        node.y += y0;\n      });\n    }\n\n    // sort & position links\n    prepareNodePorts(G, sortPorts);\n    orderEdges(G);\n    layoutLinks(G);\n\n    removeDummyNodes(G);\n    addLinkEndpoints(G);\n\n    copyResultsToGraph(G, graph);\n\n    return graph\n  }\n\n  sankey.update = function (graph, doOrderLinks) {\n    var G = buildGraph(graph, nodeId, nodeBackwards, sourceId, targetId, linkType, linkValue);\n    setNodeValues(G, linkValue);\n    var nested = nestGraph(G.nodes().map(function (u) { return G.node(u); }));\n    maybeScaleToFit(G, nested);\n    setWidths(G, scale);\n\n    prepareNodePorts(G, sortPorts);\n    orderEdges(G);\n    layoutLinks(G);\n\n    // removeDummyNodes(G)\n    addLinkEndpoints(G);\n\n    copyResultsToGraph(G, graph);\n\n    return graph\n  };\n  //   if (scale === null) sankey.scaleToFit(graph)\n  //   // set node and edge sizes\n  //   setNodeValues(graph, linkValue, scale)\n  //   if (doOrderLinks) {\n  //     orderLinks(graph)\n  //   }\n  //   layoutLinks(graph)\n  //   return graph\n  // }\n\n  sankey.nodes = function (x) {\n    if (arguments.length) {\n      nodes = required(x);\n      return sankey\n    }\n    return nodes\n  };\n\n  sankey.links = function (x) {\n    if (arguments.length) {\n      links = required(x);\n      return sankey\n    }\n    return links\n  };\n\n  sankey.nodeId = function (x) {\n    if (arguments.length) {\n      nodeId = required(x);\n      return sankey\n    }\n    return nodeId\n  };\n\n  sankey.nodeBackwards = function (x) {\n    if (arguments.length) {\n      nodeBackwards = required(x);\n      return sankey\n    }\n    return nodeBackwards\n  };\n\n  sankey.sourceId = function (x) {\n    if (arguments.length) {\n      sourceId = required(x);\n      return sankey\n    }\n    return sourceId\n  };\n\n  sankey.targetId = function (x) {\n    if (arguments.length) {\n      targetId = required(x);\n      return sankey\n    }\n    return targetId\n  };\n\n  sankey.linkType = function (x) {\n    if (arguments.length) {\n      linkType = required(x);\n      return sankey\n    }\n    return linkType\n  };\n\n  sankey.sortPorts = function (x) {\n    if (arguments.length) {\n      sortPorts = required(x);\n      return sankey\n    }\n    return sortPorts\n  };\n\n  // sankey.scaleToFit = function (graph) {\n  function maybeScaleToFit (G, nested) {\n    if (scale !== null) { return }\n    var maxValue = sum(nested.bandValues);\n    if (maxValue <= 0) {\n      scale = 1;\n    } else {\n      scale = (y1 - y0) / maxValue;\n      if (whitespace !== 1) { scale *= (1 - whitespace); }\n    }\n  }\n\n  sankey.ordering = function (x) {\n    if (!arguments.length) { return ordering }\n    ordering = x;\n    return sankey\n  };\n\n  sankey.rankSets = function (x) {\n    if (!arguments.length) { return rankSets }\n    rankSets = x;\n    return sankey\n  };\n\n  sankey.nodeWidth = function (x) {\n    if (!arguments.length) { return dx }\n    dx = x;\n    return sankey\n  };\n\n  sankey.nodePosition = function (x) {\n    if (!arguments.length) { return nodePosition }\n    nodePosition = x;\n    return sankey\n  };\n\n  sankey.size = function (x) {\n    if (!arguments.length) { return [x1 - x0, y1 - y0] }\n    x0 = y0 = 0;\n    x1 = +x[0];\n    y1 = +x[1];\n    return sankey\n  };\n\n  sankey.extent = function (x) {\n    if (!arguments.length) { return [[x0, y0], [x1, y1]] }\n    x0 = +x[0][0];\n    y0 = +x[0][1];\n    x1 = +x[1][0];\n    y1 = +x[1][1];\n    return sankey\n  };\n\n  sankey.whitespace = function (x) {\n    if (!arguments.length) { return whitespace }\n    whitespace = x;\n    return sankey\n  };\n\n  sankey.scale = function (x) {\n    if (!arguments.length) { return scale }\n    scale = x;\n    return sankey\n  };\n\n  sankey.linkValue = function (x) {\n    if (!arguments.length) { return linkValue }\n    linkValue = x;\n    return sankey\n  };\n\n  sankey.verticalLayout = function (x) {\n    if (!arguments.length) { return verticalLayout }\n    verticalLayout = required(x);\n    return sankey\n  };\n\n  function applyOrdering (G, ordering) {\n    ordering.forEach(function (x, i) {\n      x.forEach(function (u, j) {\n        if (u.forEach) {\n          u.forEach(function (v, k) {\n            var d = G.node(v);\n            if (d) {\n              d.rank = i;\n              d.band = j;\n              d.depth = k;\n            }\n          });\n        } else {\n          var d = G.node(u);\n          if (d) {\n            d.rank = i;\n            // d.band = 0\n            d.depth = j;\n          }\n        }\n      });\n    });\n  }\n\n  return sankey\n}\n\nfunction setNodeValues (G, linkValue) {\n  G.nodes().forEach(function (u) {\n    var d = G.node(u);\n    var incoming = sum(G.inEdges(u), function (e) { return G.edge(e).value; });\n    var outgoing = sum(G.outEdges(u), function (e) { return G.edge(e).value; });\n    incoming += sum(d.fromElsewhere || [], function (link) { return linkValue(link); });\n    outgoing += sum(d.toElsewhere | [], function (link) { return linkValue(link); });\n    d.value = Math.max(incoming, outgoing);\n  });\n}\n\nfunction setWidths (G, scale) {\n  G.edges().forEach(function (e) {\n    var edge = G.edge(e);\n    edge.dy = edge.value * scale;\n  });\n  G.nodes().forEach(function (u) {\n    var node = G.node(u);\n    node.dy = node.value * scale;\n\n    // Initialise from/to elsewhere lists\n    node.fromElsewhere = (node.fromElsewhere || []);\n    node.toElsewhere = (node.toElsewhere || []);\n    node.fromElsewhere.forEach(function (link) {\n      link.dy = link.value * scale;\n      link.source = { id: \"__from_elsewhere_\" + u };\n      link.target = node.data;\n    });\n    node.toElsewhere.forEach(function (link) {\n      link.dy = link.value * scale;\n      link.source = node.data;\n      link.target = { id: \"__to_elsewhere_\" + u };\n    });\n  });\n}\n\nfunction required (f) {\n  if (typeof f !== 'function') { throw new Error() }\n  return f\n}\n\nfunction addLinkEndpoints (G) {\n  G.edges().forEach(function (e) {\n    var edge = G.edge(e);\n    edge.points.unshift({x: edge.x0, y: edge.y0, ro: edge.r0, d: edge.d0});\n    edge.points.push({x: edge.x1, y: edge.y1, ri: edge.r1, d: edge.d1});\n  });\n\n  G.nodes().forEach(function (u) {\n    var node = G.node(u);\n    node.fromElsewhere.forEach(function (link) {\n      link.points = [{x: link.x1, y: link.y1, ri: link.r1, d: link.d1, style: \"down-right\"}];\n    });\n    node.toElsewhere.forEach(function (link) {\n      link.points = [{x: link.x0, y: link.y0, ri: link.r0, d: link.d0, style: \"right-down\"}];\n    });\n  });\n}\n\nfunction copyResultsToGraph (G, graph) {\n  G.nodes().forEach(function (u) {\n    var node = G.node(u);\n\n    // Build lists of edge data objects\n    node.data.incoming = [];\n    node.data.outgoing = [];\n    node.data.ports = node.ports;\n    node.data.ports.forEach(function (port) {\n      port.incoming = [];\n      port.outgoing = [];\n    });\n\n    node.data.dy = node.dy;\n    node.data.x0 = node.x0;\n    node.data.x1 = node.x1;\n    node.data.y0 = node.y;\n    node.data.y1 = node.y + node.dy;\n    node.data.rank = node.rank;\n    node.data.band = node.band;\n    node.data.depth = node.depth;\n    node.data.value = node.value;\n    node.data.spaceAbove = node.spaceAbove;\n    node.data.spaceBelow = node.spaceBelow;\n  });\n\n  G.edges().forEach(function (e) {\n    var edge = G.edge(e);\n    edge.data.source = G.node(e.v).data;\n    edge.data.target = G.node(e.w).data;\n    edge.data.sourcePort = edge.sourcePort;\n    edge.data.targetPort = edge.targetPort;\n    // console.log(edge)\n    edge.data.source.outgoing.push(edge.data);\n    edge.data.target.incoming.push(edge.data);\n    if (edge.data.sourcePort) { edge.data.sourcePort.outgoing.push(edge.data); }\n    if (edge.data.targetPort) { edge.data.targetPort.incoming.push(edge.data); }\n    edge.data.value = edge.value;\n    edge.data.type = edge.type;\n    edge.data.dy = edge.dy;\n    edge.data.points = edge.points || [];\n    // edge.data.id = `${e.v}-${e.w}-${e.name}`\n  });\n}\n\nfunction positionNodesVertically$1 () {\n  var iterations = 25;\n  var nodePadding = 8;\n\n  function layout (nested, height) {\n    initializeNodeDepth();\n    resolveCollisions();\n    for (var alpha = 1, i = iterations; i > 0; --i) {\n      relaxRightToLeft(alpha *= 0.99);\n      resolveCollisions();\n      relaxLeftToRight(alpha);\n      resolveCollisions();\n    }\n\n    function initializeNodeDepth () {\n      nested.forEach(function (layer) {\n        var i = 0;\n        layer.forEach(function (band) {\n          // ignore bands for this layout\n          band.forEach(function (node) {\n            node.y = i++;\n          });\n        });\n      });\n    }\n\n    function relaxLeftToRight (alpha) {\n      nested.forEach(function (layer) {\n        layer.forEach(function (band) {\n          band.forEach(function (node) {\n            var edges = node.incoming || node.edges;\n            if (edges.length) {\n              var y = sum(edges, weightedSource) / sum(edges, value);\n              node.y += (y - center(node)) * alpha;\n            }\n          });\n        });\n      });\n\n      function weightedSource (link) {\n        return center(link.source) * link.value\n      }\n    }\n\n    function relaxRightToLeft (alpha) {\n      nested.slice().reverse().forEach(function (layer) {\n        layer.forEach(function (band) {\n          band.forEach(function (node) {\n            var edges = node.outgoing || node.edges;\n            if (edges.length) {\n              var y = sum(edges, weightedTarget) / sum(edges, value);\n              node.y += (y - center(node)) * alpha;\n            }\n          });\n        });\n      });\n\n      function weightedTarget (link) {\n        return center(link.target) * link.value\n      }\n    }\n\n    function resolveCollisions () {\n      nested.forEach(function (layer) {\n        layer.forEach(function (nodes) {\n          var node;\n          var dy;\n          var y0 = 0;\n          var n = nodes.length;\n          var i;\n\n          // Push any overlapping nodes down.\n          nodes.sort(ascendingDepth);\n          for (i = 0; i < n; ++i) {\n            node = nodes[i];\n            dy = y0 - node.y;\n            if (dy > 0) { node.y += dy; }\n            y0 = node.y + node.dy + nodePadding;\n          }\n\n          // If the bottommost node goes outside the bounds, push it back up.\n          dy = y0 - nodePadding - height;\n          if (dy > 0) {\n            y0 = node.y -= dy;\n\n            // Push any overlapping nodes back up.\n            for (i = n - 2; i >= 0; --i) {\n              node = nodes[i];\n              dy = node.y + node.dy + nodePadding - y0;\n              if (dy > 0) { node.y -= dy; }\n              y0 = node.y;\n            }\n          }\n        });\n      });\n    }\n  }\n\n  layout.iterations = function (x) {\n    if (!arguments.length) { return iterations }\n    iterations = +x;\n    return layout\n  };\n\n  layout.padding = function (x) {\n    if (!arguments.length) { return nodePadding }\n    nodePadding = +x;\n    return layout\n  };\n\n  return layout\n}\n\nfunction center (node) {\n  return node.y + node.dy / 2\n}\n\nfunction value (link) {\n  return link.value\n}\n\nfunction ascendingDepth (a, b) {\n  return a.y - b.y\n}\n\n// function defaultSegments (d) {\n//   return d.segments\n// }\n\nfunction defaultMinWidth (d) {\n  return (d.dy === 0) ? 0 : 2\n}\n\nfunction sankeyLink() {\n  // var segments = defaultSegments\n  var minWidth = defaultMinWidth;\n\n  function radiusBounds(d) {\n    var Dx = d.x1 - d.x0,\n        Dy = d.y1 - d.y0,\n        Rmin = d.dy / 2,\n        Rmax = (Dx*Dx + Dy*Dy) / Math.abs(4*Dy);\n    return [Rmin, Rmax];\n  }\n\n  function link(d) {\n    if (d.points.length === 1) {\n      return toOrFromElsewherePath(d)\n    }\n\n    var path = '';\n    var seg;\n    for (var i = 0; i < d.points.length - 1; ++i) {\n      seg = {\n        x0: d.points[i].x,\n        y0: d.points[i].y,\n        x1: d.points[i + 1].x,\n        y1: d.points[i + 1].y,\n        r0: d.points[i].ro,\n        r1: d.points[i + 1].ri,\n        d0: d.points[i].d,\n        d1: d.points[i + 1].d,\n        dy: d.dy\n      };\n      path += segmentPath(seg);\n    }\n    return path\n  }\n\n  function segmentPath (d) {\n    var dir = (d.d0 || 'r') + (d.d1 || 'r');\n    if (d.source && d.source === d.target) {\n      return selfLink(d);\n    }\n    if (dir === 'rl') {\n      return fbLink(d);\n    }\n    if (dir === 'rd') {\n      return fdLink(d);\n    }\n    if (dir === 'dr') {\n      return dfLink(d);\n    }\n    if (dir === 'lr') {\n      return bfLink(d);\n    }\n\n    // Minimum thickness 2px\n    var h = Math.max(minWidth(d), d.dy) / 2,\n        x0 = d.x0,\n        x1 = d.x1,\n        y0 = d.y0,\n        y1 = d.y1;\n\n    if (x1 < x0) {\n      var assign;\n      (assign = [x1, x0], x0 = assign[0], x1 = assign[1]);\n      var assign$1;\n      (assign$1 = [y1, y0], y0 = assign$1[0], y1 = assign$1[1]);\n    }\n\n    var f = y1 > y0 ? 1 : -1,\n        fx = 1;  // dir === 'll' ? -1 : 1;\n\n    var Rlim = radiusBounds(d),\n          defaultRadius = Math.max(Rlim[0], Math.min(Rlim[1], (x1 - x0)/3));\n\n    var r0 = Math.max(Rlim[0], Math.min(Rlim[1], (d.r0 || defaultRadius))),\n        r1 = Math.max(Rlim[0], Math.min(Rlim[1], (d.r1 || defaultRadius)));\n\n    var dcx = (x1 - x0),\n          dcy = (y1 - y0) - f * (r0 + r1),\n          D = Math.sqrt(dcx*dcx + dcy*dcy);\n\n    var phi = -f * Math.acos(Math.min(1, (r0 + r1) / D)),\n          psi = Math.atan2(dcy, dcx);\n\n    var theta = Math.PI/2 + f * (psi + phi);\n\n    var hs = h * f * Math.sin(theta),\n        hc = h * Math.cos(theta),\n        x2 = x0 + fx * r0 * Math.sin(Math.abs(theta)),\n        x3 = x1 - fx * r1 * Math.sin(Math.abs(theta)),\n        y2 = y0 + r0 * f * (1 - Math.cos(theta)),\n        y3 = y1 - r1 * f * (1 - Math.cos(theta));\n\n    if (isNaN(theta) || Math.abs(theta) < 1e-3) {\n      theta = r0 = r1 = 0;\n      x2 = x0;\n      x3 = x1;\n      y2 = y0;\n      y3 = y1;\n      hs = 0;\n      hc = h;\n    }\n\n    function arc(dir, r) {\n      var f = ( dir * (y1-y0) > 0) ? 1 : 0,\n          rr = (fx * dir * (y1-y0) > 0) ? (r + h) : (r - h);\n      // straight line\n      if (theta === 0) { rr = r; }\n      return \"A\" + rr + \" \" + rr + \" \" + Math.abs(theta) + \" 0 \" + f + \" \";\n    }\n\n    var path;\n    // if (fx * (x2 - x3) < 0 || Math.abs(y1 - y0) > 4*h) {\n    // XXX this causes juddering during transitions\n\n    path =  (\"M\"     + [x0,    y0-h ] + \" \" +\n              arc(+1, r0) + [x2+hs, y2-hc] + \" \" +\n            \"L\"     + [x3+hs, y3-hc] + \" \" +\n              arc(-1, r1) + [x1,    y1-h ] + \" \" +\n            \"L\"     + [x1,    y1+h ] + \" \" +\n              arc(+1, r1) + [x3-hs, y3+hc] + \" \" +\n            \"L\"     + [x2-hs, y2+hc] + \" \" +\n              arc(-1, r0) + [x0,    y0+h ] + \" \" +\n            \"Z\");\n    \n    if (/NaN/.test(path)) {\n      console.error('path NaN', d, path);\n    }\n    return path;\n  }\n\n  function selfLink(d) {\n    var h = Math.max(minWidth(d), d.dy) / 2,\n        r = h*1.5,\n        theta = 2 * Math.PI,\n        x0 = d.x0,\n        y0 = d.y0;\n\n    function arc(dir) {\n      var f = (dir > 0) ? 1 : 0,\n          rr = (dir > 0) ? (r + h) : (r - h);\n      return \"A\" + rr + \" \" + rr + \" \" + Math.abs(theta) + \" 1 \" + f + \" \";\n    }\n\n    return (\"M\"     + [x0+0.1, y0-h] + \" \" +\n            arc(+1) + [x0-0.1, y0-h] + \" \" +\n            \"L\"     + [x0-0.1, y0+h] + \" \" +\n            arc(-1) + [x0+0.1, y0+h] + \" \" +\n            \"Z\");\n  }\n\n  function fbLink(d) {\n    // Minimum thickness 2px\n    var h = Math.max(minWidth(d), d.dy) / 2,\n        x0 = d.x0,\n        x1 = d.x1,\n        y0 = d.y0,\n        y1 = d.y1,\n        Dx = d.x1 - d.x0,\n        Dy = d.y1 - d.y0,\n        //Rlim = radiusBounds(d),\n        defaultRadius = ((d.r0 + d.r1) / 2) || (5 + h), //Math.max(Rlim[0], Math.min(Rlim[1], Dx/3)),\n        r = Math.min(Math.abs(y1-y0)/2.1, defaultRadius), //2*(d.r || defaultRadius),\n        theta = Math.atan2(Dy - 2*r, Dx),\n        l = Math.sqrt(Math.max(0, Dx*Dx + (Dy-2*r)*(Dy-2*r))),\n        f = d.y1 > d.y0 ? 1 : -1,\n        hs = h * Math.sin(theta),\n        hc = h * Math.cos(theta),\n        x2 = d.x0 + r * Math.sin(Math.abs(theta)),\n        x3 = d.x1 + r * Math.sin(Math.abs(theta)),\n        y2 = d.y0 + r * f * (1 - Math.cos(theta)),\n        y3 = d.y1 - r * f * (1 - Math.cos(theta));\n\n    function arc(dir) {\n      var f = (dir * theta > 0) ? 1 : 0,\n          rr = (dir * theta > 0) ? (r + h) : (r - h);\n      // straight line\n      if (theta === 0) { rr = r; }\n      return \"A\" + rr + \" \" + rr + \" \" + Math.abs(theta) + \" 0 \" + f + \" \";\n    }\n\n    return (\"M\"     + [x0,    y0-h ] + \" \" +\n            arc(+1) + [x2+hs, y2-hc] + \" \" +\n            \"L\"     + [x3+hs, y3-hc] + \" \" +\n            arc(+1) + [x1,    y1+h ] + \" \" +\n            \"L\"     + [x1,    y1-h ] + \" \" +\n            arc(-1) + [x3-hs, y3+hc] + \" \" +\n            \"L\"     + [x2-hs, y2+hc] + \" \" +\n            arc(-1) + [x0,    y0+h ] + \" \" +\n            \"Z\");\n  }\n\n  function fdLink(d) {\n    // Minimum thickness 2px\n    var h = Math.max(minWidth(d), d.dy) / 2,\n        x0 = d.x0,\n        x1 = d.x1,\n        y0 = d.y0,\n        y1 = d.y1,\n        Dx = d.x1 - d.x0,\n        Dy = d.y1 - d.y0,\n        theta = Math.PI / 2,\n        r = Math.max(0, x1 - x0),\n        f = d.y1 > d.y0,  // = 1\n        y2 = y0 + r;\n\n    function arc(dir) {\n      var f = (dir * theta > 0) ? 1 : 0,\n          rr = (dir * theta > 0) ? (r + h) : (r - h);\n      // straight line\n      if (theta === 0) { rr = r; }\n      return \"A\" + rr + \" \" + rr + \" \" + Math.abs(theta) + \" 0 \" + f + \" \";\n    }\n\n    return (\"M\"     + [x0,    y0-h ] + \" \" +\n            arc(+1) + [x1+h,  y2   ] + \" \" +\n            \"L\"     + [x1+h,  y1   ] + \" \" +\n            \"\"      + [x1-h,  y1   ] + \" \" +\n            \"\"      + [x1-h,  y2   ] + \" \" +\n            arc(-1) + [x0,    y0+h ] + \" \" +\n            \"Z\");\n  }\n\n  function dfLink(d) {\n    // Minimum thickness 2px\n    var h = Math.max(minWidth(d), d.dy) / 2,\n        x0 = d.x0,\n        x1 = d.x1,\n        y0 = d.y0,\n        y1 = d.y1,\n        Dx = d.x1 - d.x0,\n        Dy = d.y1 - d.y0,\n        theta = Math.PI / 2,\n        r = Math.max(0, x1 - x0),\n        f = d.y1 > d.y0,  // = 1\n        y2 = y1 - r;\n\n    function arc(dir) {\n      var f = (dir * theta > 0) ? 1 : 0,\n          rr = (dir * theta > 0) ? (r + h) : (r - h);\n      // straight line\n      if (theta === 0) { rr = r; }\n      return \"A\" + rr + \" \" + rr + \" \" + Math.abs(theta) + \" 0 \" + f + \" \";\n    }\n\n    return (\"M\"     + [x0-h,  y0   ] + \" \" +\n            \"L\"     + [x0+h,  y0   ] + \" \" +\n            \"\"      + [x0+h,  y2   ] + \" \" +\n            arc(-1) + [x1  ,  y1-h ] + \" \" +\n            \"L\"     + [x1  ,  y1+h ] + \" \" +\n            arc(+1) + [x0-h,  y2   ] + \" \" +\n            \"Z\");\n  }\n\n  function bfLink(d) {\n    // Minimum thickness 2px\n    var h = Math.max(minWidth(d), d.dy) / 2,\n        x0 = d.x0,\n        x1 = d.x1,\n        y0 = d.y0,\n        y1 = d.y1,\n        Dx = d.x1 - d.x0,\n        Dy = d.y1 - d.y0,\n        //Rlim = radiusBounds(d),\n        defaultRadius = ((d.r0 + d.r1) / 2) || (5 + h), //Math.max(Rlim[0], Math.min(Rlim[1], Dx/3)),\n        r = Math.min(Math.abs(Dy)/2.1, defaultRadius), //2*(d.r || defaultRadius),\n        theta = Math.atan2(Dy - 2*r, Dx),\n        l = Math.sqrt(Math.max(0, Dx*Dx + (Dy-2*r)*(Dy-2*r))),\n        f = d.y1 > d.y0 ? 1 : -1,\n        hs = h * Math.sin(theta),\n        hc = h * Math.cos(theta),\n        x2 = d.x0 - r * Math.sin(Math.abs(theta)),\n        x3 = d.x1 - r * Math.sin(Math.abs(theta)),\n        y2 = d.y0 + r * f * (1 - Math.cos(theta)),\n        y3 = d.y1 - r * f * (1 - Math.cos(theta));\n\n    function arc(dir) {\n      var f = (dir * theta > 0) ? 1 : 0,\n          rr = (-dir * theta > 0) ? (r + h) : (r - h);\n      // straight line\n      if (theta === 0) { rr = r; }\n      return \"A\" + rr + \" \" + rr + \" \" + Math.abs(theta) + \" 0 \" + f + \" \";\n    }\n\n    return (\"M\"     + [x0,    y0-h ] + \" \" +\n            arc(-1) + [x2-hs, y2-hc] + \" \" +\n            \"L\"     + [x3-hs, y3-hc] + \" \" +\n            arc(-1) + [x1,    y1+h ] + \" \" +\n            \"L\"     + [x1,    y1-h ] + \" \" +\n            arc(+1) + [x3+hs, y3-hc] + \" \" +\n            \"L\"     + [x2+hs, y2-hc] + \" \" +\n            arc(+1) + [x0,    y0+h ] + \" \" +\n            \"Z\");\n  }\n\n  function toOrFromElsewherePath(d) {\n    var p = d.points[0];\n    var h = Math.max(minWidth(d), d.dy) / 2;\n\n    // XXX draw these properly with curves and appropriate radii\n\n    if (p.style === \"down-right\") {\n      return (\"M\" + [p.x - 20, p.y-h] + \" \" +\n              \"L\" + [p.x, p.y-h] + \" \" +\n              \"L\" + [p.x, p.y+h] + \" \" +\n              \"L\" + [p.x - 20, p.y+h] + \" \" +\n              \"Z\")\n    }\n    if (p.style === \"right-down\") {\n      return (\"M\" + [p.x, p.y-h] + \" \" +\n              \"L\" + [p.x + 20, p.y-h] + \" \" +\n              \"L\" + [p.x + 20, p.y+h] + \" \" +\n              \"L\" + [p.x, p.y+h] + \" \" +\n              \"Z\")\n    }\n  }\n\n  link.minWidth = function (x) {\n    if (arguments.length) {\n      minWidth = required$2(x);\n      return link\n    }\n    return minWidth\n  };\n\n  return link;\n}\n\nfunction required$2 (f) {\n  if (typeof f !== 'function') { throw new Error() }\n  return f\n}\n\nvar sankeyNode = function () {\n  var nodeTitle = function (d) { return d.title !== undefined ? d.title : d.id; };\n  var nodeValue = function (d) { return null; };\n  var nodeVisible = function (d) { return !!nodeTitle(d); };\n\n  function sankeyNode (context) {\n    var selection = context.selection ? context.selection() : context;\n\n    if (selection.select('text').empty()) {\n      selection.append('title');\n      selection.append('line')\n        .attr('x1', 0)\n        .attr('x2', 0);\n      selection.append('rect')\n        .attr('class', 'node-body');\n      selection.append('text')\n        .attr('class', 'node-value')\n        .attr('dy', '.35em')\n        .attr('text-anchor', 'middle');\n      selection.append('text')\n        .attr('class', 'node-title')\n        .attr('dy', '.35em');\n      selection.append('rect')\n        .attr('class', 'node-click-target')\n        .attr('x', -5)\n        .attr('y', -5)\n        .attr('width', 10)\n        .style('fill', 'none')\n        .style('visibility', 'hidden')\n        .style('pointer-events', 'all');\n\n      selection\n        .attr('transform', nodeTransform);\n    }\n\n    selection.each(function (d) {\n      var title = select(this).select('title');\n      var value = select(this).select('.node-value');\n      var text = select(this).select('.node-title');\n      var line = select(this).select('line');\n      var body = select(this).select('.node-body');\n      var clickTarget = select(this).select('.node-click-target');\n\n      // Local var for title position of each node\n      var layoutData = titlePosition(d);\n      layoutData.dy = (d.y0 === d.y1) ? 0 : Math.max(1, d.y1 - d.y0);\n\n      var separateValue = (d.x1 - d.x0) > 2;\n      var titleText = nodeTitle(d) + ((!separateValue && nodeValue(d))\n                                        ? ' (' + nodeValue(d) + ')' : '');\n\n      // Update un-transitioned\n      title\n        .text(titleText);\n\n      value\n        .text(nodeValue)\n        .style('display', separateValue ? 'inline' : 'none');\n\n      text\n        .attr('text-anchor', layoutData.right ? 'end' : 'start')\n        .text(titleText)\n        .each(wrap, 100);\n\n      // Are we in a transition?\n      if (context !== selection) {\n        text = text.transition(context);\n        line = line.transition(context);\n        body = body.transition(context);\n        clickTarget = clickTarget.transition(context);\n      }\n\n      // Update\n      context\n        .attr('transform', nodeTransform);\n\n      line\n        .attr('y1', function (d) { return layoutData.titleAbove ? -5 : 0 })\n        .attr('y2', function (d) { return layoutData.dy })\n        .style('display', function (d) {\n          return (d.y0 === d.y1 || !nodeVisible(d)) ? 'none' : 'inline'\n        });\n\n      clickTarget\n        .attr('height', function (d) { return layoutData.dy + 5 });\n\n      body\n        .attr('width', function (d) { return d.x1 - d.x0 })\n        .attr('height', function (d) { return layoutData.dy });\n\n      text\n        .attr('transform', textTransform)\n        .style('display', function (d) {\n          return (d.y0 === d.y1 || !nodeVisible(d)) ? 'none' : 'inline'\n        });\n\n      value\n        .style('font-size', function (d) { return Math.min(d.x1 - d.x0 - 4, d.y1 - d.y0 - 4) + 'px' })\n        .attr('transform', function (d) {\n          var dx = d.x1 - d.x0;\n          var dy = d.y1 - d.y0;\n          var theta = dx > dy ? 0 : -90;\n          return 'translate(' + (dx / 2) + ',' + (dy / 2) + ') rotate(' + theta + ')'\n        });\n\n      function textTransform (d) {\n        var layout = layoutData;\n        var y = layout.titleAbove ? -10 : (d.y1 - d.y0) / 2;\n        var x;\n        if (layout.titleAbove) {\n          x = (layout.right ? 4 : -4);\n        } else {\n          x = (layout.right ? -4 : d.x1 - d.x0 + 4);\n        }\n        return 'translate(' + x + ',' + y + ')'\n      }\n    });\n  }\n\n  sankeyNode.nodeVisible = function (x) {\n    if (arguments.length) {\n      nodeVisible = required$3(x);\n      return sankeyNode\n    }\n    return nodeVisible\n  };\n\n  sankeyNode.nodeTitle = function (x) {\n    if (arguments.length) {\n      nodeTitle = required$3(x);\n      return sankeyNode\n    }\n    return nodeTitle\n  };\n\n  sankeyNode.nodeValue = function (x) {\n    if (arguments.length) {\n      nodeValue = required$3(x);\n      return sankeyNode\n    }\n    return nodeValue\n  };\n\n  return sankeyNode\n};\n\nfunction nodeTransform (d) {\n  return 'translate(' + d.x0 + ',' + d.y0 + ')'\n}\n\nfunction titlePosition (d) {\n  var titleAbove = false;\n  var right = false;\n\n  // If thin, and there's enough space, put above\n  if (d.spaceAbove > 20 && d.style !== 'type') {\n    titleAbove = true;\n  } else {\n    titleAbove = false;\n  }\n\n  if (d.incoming.length === 0) {\n    right = true;\n    titleAbove = false;\n  } else if (d.outgoing.length === 0) {\n    right = false;\n    titleAbove = false;\n  }\n\n  return {titleAbove: titleAbove, right: right}\n}\n\nfunction wrap (d, width) {\n  var text = select(this);\n  var lines = text.text().split(/\\n/);\n  var lineHeight = 1.1; // ems\n  if (lines.length === 1) { return }\n  text.text(null);\n  lines.forEach(function (line, i) {\n    text.append('tspan')\n      .attr('x', 0)\n      .attr('dy', (i === 0 ? 0.7 - lines.length / 2 : 1) * lineHeight + 'em')\n      .text(line);\n  });\n}\n\nfunction required$3 (f) {\n  if (typeof f !== 'function') { throw new Error() }\n  return f\n}\n\nfunction positionGroup (nodes, group) {\n  var rect = {\n    top: Number.MAX_VALUE,\n    left: Number.MAX_VALUE,\n    bottom: 0,\n    right: 0\n  };\n\n  group.nodes.forEach(function (n) {\n    var node = nodes.get(n);\n    if (!node) { return }\n    if (node.x0 < rect.left) { rect.left = node.x0; }\n    if (node.x1 > rect.right) { rect.right = node.x1; }\n    if (node.y0 < rect.top) { rect.top = node.y0; }\n    if (node.y1 > rect.bottom) { rect.bottom = node.y1; }\n  });\n\n  group.rect = rect;\n  return group\n}\n\n// The reusable SVG component for the sliced Sankey diagram\n\nfunction linkTitleGenerator (nodeTitle, typeTitle, fmt) {\n  return function (d) {\n    var parts = [];\n    var sourceTitle = nodeTitle(d.source);\n    var targetTitle = nodeTitle(d.target);\n    var matTitle = typeTitle(d);\n\n    parts.push((sourceTitle + \"  \" + targetTitle));\n    if (matTitle) { parts.push(matTitle); }\n    parts.push(fmt(d.value));\n    return parts.join('\\n')\n  }\n}\n\nfunction sankeyDiagram () {\n  var margin = {top: 0, right: 0, bottom: 0, left: 0};\n\n  var selectedNode = null;\n  var selectedEdge = null;\n\n  var groups = [];\n\n  var fmt = format('.3s');\n  var node = sankeyNode();\n  var link = sankeyLink();\n\n  var linkColor = function (d) { return null; };\n  var linkTitle = linkTitleGenerator(node.nodeTitle(), function (d) { return d.type; }, fmt);\n  var linkLabel = defaultLinkLabel;\n\n  var listeners = dispatch('selectNode', 'selectGroup', 'selectLink');\n\n  /* Main chart */\n\n  function exports (context) {\n    var selection = context.selection ? context.selection() : context;\n\n    selection.each(function (G) {\n      // Create the skeleton, if it doesn't already exist\n      var svg = select(this);\n\n      var sankey = svg.selectAll('.sankey')\n            .data([{type: 'sankey'}]);\n\n      var sankeyEnter = sankey.enter()\n            .append('g')\n            .classed('sankey', true);\n\n      sankeyEnter.append('g').classed('groups', true);\n      sankeyEnter.append('g').classed('links', true);  // Links below nodes\n      sankeyEnter.append('g').classed('nodes', true);\n      sankeyEnter.append('g').classed('slice-titles', true);  // Slice titles\n\n      sankey = sankey.merge(sankeyEnter);\n\n      // Update margins\n      sankey\n        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n        // .select('.slice-titles')\n        // .attr('transform', 'translate(' + margin.left + ',0)')\n\n      // Groups of nodes\n      var nodeMap = map(G.nodes, function (n) { return n.id; });\n      var groupsPositioned = (groups || []).map(function (g) { return positionGroup(nodeMap, g); });\n\n\n      // All links -- including \"from elsewhere\" and \"to elsewhere\" ones\n      var links = Array.from(G.links);\n      G.nodes.forEach(function (node) {\n        Array.prototype.push.apply(links, node.fromElsewhere || []);\n        Array.prototype.push.apply(links, node.toElsewhere || []);\n      });\n\n      // Render\n      updateNodes(sankey, context, G.nodes);\n      updateLinks(sankey, context, links);\n      updateGroups(svg, groupsPositioned);\n      // updateSlices(svg, layout.slices(nodes));\n\n      // Events\n      svg.on('click', function () {\n        listeners.call('selectNode', this, null);\n        listeners.call('selectLink', this, null);\n      });\n    });\n  }\n\n  function updateNodes (sankey, context, nodes) {\n    var nodeSel = sankey\n        .select('.nodes')\n        .selectAll('.node')\n        .data(nodes, function (d) { return d.id; });\n\n    // EXIT\n    nodeSel.exit().remove();\n\n    nodeSel = nodeSel.merge(\n      nodeSel.enter()\n        .append('g')\n        .attr('class', 'node')\n        .call(node)\n        .on('click', selectNode));\n\n    if (context instanceof transition) {\n      nodeSel.transition(context)\n        .call(node);\n    } else {\n      nodeSel.call(node);\n    }\n  }\n\n  function updateLinks (sankey, context, edges) {\n    var linkSel = sankey\n        .select('.links')\n        .selectAll('.link')\n        .data(edges, function (d) { return d.source.id + '-' + d.target.id + '-' + d.type; });\n\n    // EXIT\n\n    linkSel.exit().remove();\n\n    // ENTER\n\n    var linkEnter = linkSel.enter()\n        .append('g')\n        .attr('class', 'link')\n        .on('click', selectLink);\n\n    linkEnter.append('path')\n      .attr('d', link)\n      .style('fill', 'white')\n      .each(function (d) { this._current = d; });\n\n    linkEnter.append('title');\n\n    linkEnter.append('text')\n      .attr('class', 'label')\n      .attr('dy', '0.35em')\n      .attr('x', function (d) { return d.points[0].x + 4; })\n      .attr('y', function (d) { return d.points[0].y; });\n\n    // UPDATE\n\n    linkSel = linkSel.merge(linkEnter);\n\n    // Non-transition updates\n    linkSel.classed('selected', function (d) { return d.id === selectedEdge; });\n    linkSel.sort(linkOrder);\n\n    // Transition updates, if available\n    if (context instanceof transition) {\n      linkSel = linkSel.transition(context);\n      linkSel\n        .select('path')\n        .style('fill', linkColor)\n        .each(function (d) {\n          select(this)\n            .transition(context)\n            .attrTween('d', interpolateLink);\n        });\n    } else {\n      linkSel\n        .select('path')\n        .style('fill', linkColor)\n        .attr('d', link);\n    }\n\n    linkSel.select('title')\n      .text(linkTitle);\n\n    linkSel.select('.label')\n      .text(linkLabel)\n      .attr('x', function (d) { return d.points[0].x + 4; })\n      .attr('y', function (d) { return d.points[0].y; });\n  }\n\n  // function updateSlices(svg, slices) {\n  //   var slice = svg.select('.slice-titles').selectAll('.slice')\n  //         .data(slices, function(d) { return d.id; });\n\n  //   var textWidth = (slices.length > 1 ?\n  //                    0.9 * (slices[1].x - slices[0].x) :\n  //                    null);\n\n  //   slice.enter().append('g')\n  //     .attr('class', 'slice')\n  //     .append('foreignObject')\n  //     .attr('requiredFeatures',\n  //           'http://www.w3.org/TR/SVG11/feature#Extensibility')\n  //     .attr('height', margin.top)\n  //     .attr('class', 'title')\n  //     .append('xhtml:div')\n  //     .style('text-align', 'center')\n  //     .style('word-wrap', 'break-word');\n  //   // .text(pprop('sliceMetadata', 'title'));\n\n  //   slice\n  //     .attr('transform', function(d) {\n  //       return 'translate(' + (d.x - textWidth / 2) + ',0)'; })\n  //     .select('foreignObject')\n  //     .attr('width', textWidth)\n  //     .select('div');\n  //   // .text(pprop('sliceMetadata', 'title'));\n\n  //   slice.exit().remove();\n  // }\n\n  function updateGroups (svg, groups) {\n    var group = svg.select('.groups').selectAll('.group')\n      .data(groups);\n\n    // EXIT\n    group.exit().remove();\n\n    // ENTER\n    var enter = group.enter().append('g')\n            .attr('class', 'group');\n            // .on('click', selectGroup);\n\n    enter.append('rect');\n    enter.append('text')\n      .attr('x', -10)\n      .attr('y', -25);\n\n    group = group.merge(enter);\n\n    group\n      .style('display', function (d) { return d.title ? 'inline' : 'none'; })\n      .attr('transform', function (d) { return (\"translate(\" + (d.rect.left) + \",\" + (d.rect.top) + \")\"); })\n      .select('rect')\n      .attr('x', -10)\n      .attr('y', -20)\n      .attr('width', function (d) { return d.rect.right - d.rect.left + 20; })\n      .attr('height', function (d) { return d.rect.bottom - d.rect.top + 30; });\n\n    group.select('text')\n      .text(function (d) { return d.title; });\n  }\n\n  function interpolateLink (b) {\n    // XXX should limit radius better\n    b.points.forEach(function (p) {\n      if (p.ri > 1e3) { p.ri = 1e3; }\n      if (p.ro > 1e3) { p.ro = 1e3; }\n    });\n    var interp = interpolate(linkGeom(this._current), b);\n    var that = this;\n    return function (t) {\n      that._current = interp(t);\n      return link(that._current)\n    }\n  }\n\n  function linkGeom (l) {\n    return {\n      points: l.points,\n      dy: l.dy\n    }\n  }\n\n  function linkOrder (a, b) {\n    if (a.id === selectedEdge) { return +1 }\n    if (b.id === selectedEdge) { return -1 }\n    if (!a.source || a.target && a.target.direction === 'd') { return -1 }\n    if (!b.source || b.target && b.target.direction === 'd') { return +1 }\n    if (!a.target || a.source && a.source.direction === 'd') { return -1 }\n    if (!b.target || b.source && b.source.direction === 'd') { return +1 }\n    return a.dy - b.dy\n  }\n\n  function selectLink (d) {\n    event.stopPropagation();\n    var el = select(this).node();\n    listeners.call('selectLink', el, d);\n  }\n\n  function selectNode (d) {\n    event.stopPropagation();\n    var el = select(this).node();\n    listeners.call('selectNode', el, d);\n  }\n\n  // function selectGroup(d) {\n  //   d3.event.stopPropagation();\n  //   var el = d3.select(this)[0][0];\n  //   dispatch.selectGroup.call(el, d);\n  // }\n\n  exports.margins = function (_x) {\n    if (!arguments.length) { return margin }\n    margin = {\n      top: _x.top === undefined ? margin.top : _x.top,\n      left: _x.left === undefined ? margin.left : _x.left,\n      bottom: _x.bottom === undefined ? margin.bottom : _x.bottom,\n      right: _x.right === undefined ? margin.right : _x.right\n    };\n    return this\n  };\n\n  exports.groups = function (_x) {\n    if (!arguments.length) { return groups }\n    groups = _x;\n    return this\n  };\n\n  // Node styles and title\n  exports.nodeTitle = function (_x) {\n    if (!arguments.length) { return node.nodeTitle() }\n    node.nodeTitle(_x);\n    linkTitle = linkTitleGenerator(_x, function (d) { return d.type; }, fmt);\n    return this\n  };\n\n  exports.nodeValue = function (_x) {\n    if (!arguments.length) { return node.nodeValue() }\n    node.nodeValue(_x);\n    return this\n  };\n\n  // Link styles and titles\n  exports.linkTitle = function (_x) {\n    if (!arguments.length) { return linkTitle }\n    linkTitle = _x;\n    return this\n  };\n\n  exports.linkLabel = function (_x) {\n    if (!arguments.length) { return linkLabel }\n    linkLabel = _x;\n    return this\n  };\n\n  exports.linkColor = function (_x) {\n    if (!arguments.length) { return linkColor }\n    linkColor = _x;\n    return this\n  };\n\n  exports.linkMinWidth = function (_x) {\n    if (!arguments.length) { return link.minWidth() }\n    link.minWidth(_x);\n    return this\n  };\n\n  exports.selectNode = function (_x) {\n    selectedNode = _x;\n    return this\n  };\n\n  exports.selectLink = function (_x) {\n    selectedEdge = _x;\n    return this\n  };\n\n  exports.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? exports : value\n  };\n\n  return exports\n}\n\nfunction defaultLinkLabel (d) {\n  return null\n}\n\nexport { sankeyLayout as sankey, positionNodesVertically as sankeyPositionJustified, positionNodesVertically$1 as sankeyPositionRelaxation, sankeyLink, sankeyNode, sankeyDiagram, linkTitleGenerator as sankeyLinkTitle };\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","<template lang=\"pug\">\r\n.sankey-container(:class=\"{'is-thumbnail': thumbnail}\")\r\n\r\n  //- .labels(v-if=\"!thumbnail\")\r\n  //-   h3.center {{ vizDetails.title }}\r\n  //-   h5.center {{ vizDetails.description }}\r\n\r\n  svg.chart-area(:id=\"cleanConfigId\" :class=\"{'is-thumbnail': thumbnail}\")\r\n\r\n  .labels(v-if=\"!thumbnail\")\r\n    p.center: b {{ totalTrips.toLocaleString() }} {{ $t('total') }}\r\n\r\n  b-switch.switcher(v-if=\"!thumbnail\" v-model=\"onlyShowChanges\") {{ $t('showChanges')}}\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nconst i18n = {\r\n  messages: {\r\n    en: { total: 'total', showChanges: 'Only show changes' },\r\n    de: { total: 'Insgesamt', showChanges: 'Nur nderungen zeigen' },\r\n  },\r\n}\r\n\r\nimport { defineComponent } from 'vue'\r\n\r\nimport yaml from 'yaml'\r\nimport { sankey, sankeyDiagram } from '@simwrapper/d3-sankey-diagram'\r\nimport { select } from 'd3-selection'\r\nimport { scaleOrdinal } from 'd3-scale'\r\nimport {\r\n  interpolateRainbow as interpolator,\r\n  schemeCategory10 as colorScheme,\r\n} from 'd3-scale-chromatic'\r\n\r\nimport Papa from '@simwrapper/papaparse'\r\n\r\nimport globalStore from '@/store'\r\nimport { FileSystemConfig, VisualizationPlugin } from '@/Globals'\r\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\r\n\r\ninterface SankeyYaml {\r\n  csv: string\r\n  title?: string\r\n  description?: string\r\n}\r\n\r\nconst MyComponent = defineComponent({\r\n  name: 'SankeyPlugin',\r\n  i18n,\r\n  props: {\r\n    root: { type: String, required: true },\r\n    subfolder: { type: String, required: true },\r\n    yamlConfig: String,\r\n    thumbnail: Boolean,\r\n    config: Object as any,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      globalState: globalStore.state,\r\n      vizDetails: { csv: '', title: '', description: '' } as SankeyYaml,\r\n      loadingText: '',\r\n      jsonChart: {} as any,\r\n      totalTrips: 0,\r\n      cleanConfigId: `sankey-${Math.floor(1e12 * Math.random())}` as any,\r\n      onlyShowChanges: false,\r\n      csvData: [] as any[],\r\n      colorRamp: [] as string[],\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    fileApi(): HTTPFileSystem {\r\n      return new HTTPFileSystem(this.fileSystem, globalStore)\r\n    },\r\n\r\n    fileSystem(): FileSystemConfig {\r\n      const svnProject: FileSystemConfig[] = this.$store.state.svnProjects.filter(\r\n        (a: FileSystemConfig) => a.slug === this.root\r\n      )\r\n      if (svnProject.length === 0) {\r\n        console.log('no such project')\r\n        throw Error\r\n      }\r\n      return svnProject[0]\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    'globalState.resizeEvents'() {\r\n      this.changeDimensions()\r\n    },\r\n\r\n    yamlConfig() {\r\n      this.getVizDetails()\r\n    },\r\n\r\n    subfolder() {\r\n      this.getVizDetails()\r\n    },\r\n\r\n    onlyShowChanges() {\r\n      this.jsonChart = this.processInputs()\r\n      this.doD3()\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    changeDimensions() {\r\n      if (this.jsonChart?.nodes) this.doD3()\r\n    },\r\n\r\n    async getVizDetails() {\r\n      if (this.config) {\r\n        this.vizDetails = Object.assign({}, this.config)\r\n        this.$emit('title', this.vizDetails.title)\r\n        return\r\n      }\r\n      // might be a project config:\r\n      this.loadingText = 'Loading config...'\r\n      const config = this.yamlConfig ?? ''\r\n      const filename = config.indexOf('/') > -1 ? config : this.subfolder + '/' + config\r\n\r\n      const text = await this.fileApi.getFileText(filename)\r\n      this.vizDetails = yaml.parse(text)\r\n\r\n      this.$emit('title', this.vizDetails.title)\r\n    },\r\n\r\n    async loadFiles(): Promise<any[]> {\r\n      this.loadingText = 'Loading files...'\r\n      try {\r\n        const rawText = await this.fileApi.getFileText(this.subfolder + '/' + this.vizDetails.csv)\r\n\r\n        const content = Papa.parse(rawText, {\r\n          // using header:false because we don't care what\r\n          // the column names are: we expect \"from,to,value\" in cols 0,1,2.\r\n          header: false,\r\n          dynamicTyping: true,\r\n          skipEmptyLines: true,\r\n        })\r\n        return content.data\r\n      } catch (err) {\r\n        const e = err as any\r\n        console.error({ e })\r\n        this.loadingText = '' + e\r\n\r\n        // maybe it failed because password?\r\n        if (this.fileSystem && this.fileSystem.needPassword && e.status === 401) {\r\n          globalStore.commit('requestLogin', this.fileSystem.slug)\r\n        }\r\n      }\r\n      return []\r\n    },\r\n\r\n    processInputs() {\r\n      this.loadingText = 'Building node graph...'\r\n\r\n      const fromNodes: any[] = []\r\n      const toNodes: any[] = []\r\n      const links: any[] = []\r\n      this.totalTrips = 0\r\n\r\n      try {\r\n        for (const cols of this.csvData.slice(1) as any[]) {\r\n          if (!fromNodes.includes(cols[0])) fromNodes.push(cols[0])\r\n          if (!toNodes.includes(cols[1])) toNodes.push(cols[1])\r\n\r\n          const value = cols[2]\r\n\r\n          if (value === 0) continue\r\n          if (value < 0) {\r\n            console.warn('Data contains NEGATIVE numbers!!!')\r\n            continue\r\n          }\r\n\r\n          // Don't include non-changes in the graph if we are hiding them\r\n          if (this.onlyShowChanges && cols[0] === cols[1]) continue\r\n\r\n          links.push([cols[0], cols[1], value])\r\n          this.totalTrips += value\r\n        }\r\n      } catch (err) {\r\n        const e = err as any\r\n        console.error(e)\r\n      }\r\n\r\n      // build js object\r\n      const fromOrder = [] as number[]\r\n      const toOrder = [] as number[]\r\n\r\n      const answer = {\r\n        nodes: [] as { id: any; title: string }[],\r\n        links: [] as { source: any; target: any; value: number }[],\r\n        // alignTypes: true,\r\n        ordering: [[fromOrder], [toOrder]],\r\n      }\r\n\r\n      const fromLookup: any = {}\r\n      const toLookup: any = {}\r\n\r\n      fromNodes.forEach((title: string, i: number) => {\r\n        answer.nodes.push({ id: i, title })\r\n        fromLookup[title] = i\r\n        fromOrder.push(i)\r\n      })\r\n\r\n      toNodes.forEach((title: string, i: number) => {\r\n        const offset = i + fromNodes.length\r\n        answer.nodes.push({ id: offset, title })\r\n        toLookup[title] = offset\r\n        toOrder.push(offset)\r\n      })\r\n\r\n      for (const link of links) {\r\n        answer.links.push({\r\n          source: fromLookup[link[0]],\r\n          target: toLookup[link[1]],\r\n          value: link[2],\r\n        })\r\n      }\r\n\r\n      const numColors = fromNodes.length\r\n      const colors = [...Array(numColors).keys()].map(i => {\r\n        const solidColor = interpolator(i / numColors)\r\n        const opacityColor = solidColor.replace(/rgb(.*)\\)/, 'rgba$1, 0.7)')\r\n        return opacityColor\r\n      })\r\n\r\n      this.colorRamp = colors\r\n\r\n      return answer\r\n    },\r\n\r\n    getMaxLabelWidth() {\r\n      const canvas = document.createElement('canvas')\r\n      const context = canvas.getContext('2d')\r\n      if (!context) return 120\r\n\r\n      context.font = '16px Arial'\r\n\r\n      let max = 0\r\n\r\n      for (const node of this.jsonChart.nodes) {\r\n        const text = node.title\r\n        const width = context.measureText(text).width\r\n        max = Math.max(max, width)\r\n      }\r\n\r\n      return max\r\n    },\r\n\r\n    doD3() {\r\n      const data = this.jsonChart\r\n      // data.alignTypes = true\r\n      // data.alignLinkTypes = true\r\n\r\n      // figure out dimensions, depending on if we are in a dashboard or not\r\n      let box = document.querySelector(`#${this.cleanConfigId}`) as Element\r\n      let width = box ? box.clientWidth : 100\r\n      let height = box ? box.clientHeight : 100\r\n\r\n      let labelWidth = 5 + this.getMaxLabelWidth() // this.thumbnail ? 60 : 125\r\n\r\n      const layout = sankey()\r\n        .nodeWidth(8)\r\n        .ordering(data.ordering)\r\n        .extent([\r\n          [labelWidth, 0],\r\n          [width - labelWidth, height],\r\n        ])\r\n\r\n      const diagram = sankeyDiagram().linkColor((link: any) => this.colorRamp[link.source.id])\r\n\r\n      select('#' + this.cleanConfigId)\r\n        .datum(layout(data))\r\n        .call(diagram)\r\n        .attr('preserveAspectRatio', 'xMinYMin meet')\r\n        .attr('viewBox', `0 0 ${width} ${height}`)\r\n    },\r\n  },\r\n\r\n  async mounted() {\r\n    await this.getVizDetails()\r\n    this.csvData = await this.loadFiles()\r\n    this.jsonChart = this.processInputs()\r\n\r\n    window.addEventListener('resize', this.changeDimensions)\r\n\r\n    this.doD3()\r\n  },\r\n\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.changeDimensions)\r\n  },\r\n})\r\n\r\nexport default MyComponent\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n\r\n.sankey-container {\r\n  padding-top: 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.sankey-container.is-thumbnail {\r\n  padding-top: 0;\r\n  height: $thumbnailHeight;\r\n}\r\n\r\nh1 {\r\n  margin: 0px auto;\r\n  font-size: 1.5rem;\r\n}\r\n\r\nh3 {\r\n  margin: 0px auto;\r\n}\r\n\r\nh4,\r\np {\r\n  margin: 1rem 1rem;\r\n}\r\n\r\n.details {\r\n  font-size: 12px;\r\n}\r\n\r\n.bigtitle {\r\n  font-weight: bold;\r\n  font-style: italic;\r\n  font-size: 20px;\r\n  margin: 20px 0px;\r\n}\r\n\r\n.info-header {\r\n  background-color: #097c43;\r\n  padding: 0.5rem 0rem;\r\n  border-top: solid 1px #888;\r\n  border-bottom: solid 1px #888;\r\n}\r\n\r\n/* from sankey example */\r\n.node rect {\r\n  cursor: move;\r\n  fill-opacity: 0.9;\r\n  shape-rendering: crispEdges;\r\n}\r\n\r\n.node text {\r\n  pointer-events: none;\r\n  text-shadow: 0 1px 0 #fff;\r\n}\r\n\r\n.link {\r\n  fill: none;\r\n  stroke: #000;\r\n  stroke-opacity: 0.2;\r\n}\r\n\r\n.link:hover {\r\n  stroke-opacity: 0.4;\r\n}\r\n\r\n.center {\r\n  text-align: center;\r\n}\r\n\r\n.labels {\r\n  padding: 0rem 1rem;\r\n\r\n  p {\r\n    padding-top: 0;\r\n    margin: 0px 0px;\r\n  }\r\n}\r\n\r\n.switcher {\r\n  margin: 0.5rem auto 0.5rem 1rem;\r\n}\r\n\r\n.chart-area {\r\n  height: 100%;\r\n  width: 100%;\r\n  flex: 1;\r\n  margin: 0 auto;\r\n}\r\n\r\n.chart-area.is-thumbnail {\r\n  padding: 0rem 0rem;\r\n  margin: 0 0;\r\n}\r\n</style>\r\n","\r\n.sankey-container(:class=\"{'is-thumbnail': thumbnail}\")\r\n\r\n  //- .labels(v-if=\"!thumbnail\")\r\n  //-   h3.center {{ vizDetails.title }}\r\n  //-   h5.center {{ vizDetails.description }}\r\n\r\n  svg.chart-area(:id=\"cleanConfigId\" :class=\"{'is-thumbnail': thumbnail}\")\r\n\r\n  .labels(v-if=\"!thumbnail\")\r\n    p.center: b {{ totalTrips.toLocaleString() }} {{ $t('total') }}\r\n\r\n  b-switch.switcher(v-if=\"!thumbnail\" v-model=\"onlyShowChanges\") {{ $t('showChanges')}}\r\n\r\n"],"names":["timeout","callback","delay","time","t","Timer","restart","elapsed","stop","ascending$1","a","b","NaN","compare","f","max","values2","valueof","value","max2","n","length","i","sum","sum2","ascending","d","x","_listCacheClear","this","__data__","size","eq_1","other","eq","require$$0","_assocIndexOf","array","key","assocIndexOf","splice","Array","prototype","listCacheClear","listCacheDelete","data","index","pop","call","listCacheGet","listCacheHas","listCacheSet","push","ListCache$4","entries","clear","entry","set","ListCache","get","has","_ListCache","_stackClear","_stackDelete","result","_stackGet","_stackHas","_freeGlobal","global","Object","freeGlobal","freeSelf","self","_root","Function","_Symbol","Symbol","objectProto","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","_getRawTag","isOwn","tag","unmasked","e","getRawTag","require$$1","objectToString","_baseGetTag","isObject_1","type","baseGetTag","isObject","uid","isFunction_1","coreJsData","maskSrcKey","exec","keys","IE_PROTO","_isMasked","func","funcToString","_toSource","isFunction","isMasked","require$$2","toSource","require$$3","reIsHostCtor","funcProto","reIsNative","RegExp","replace","baseIsNative","test","getValue","object2","_getNative","_Map","_nativeCreate","nativeCreate","_hashClear","_hashDelete","_hashGet","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash$1","Hash","Map","isKeyable","_getMapData","map2","map","getMapData","mapCacheClear","hash","string","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","size2","MapCache$3","MapCache","_MapCache","stackClear","stackDelete","stackGet","stackHas","require$$4","stackSet","pairs","LARGE_ARRAY_SIZE","Stack$3","Stack","_Stack","_arrayEach","iteratee","getNative","_defineProperty","defineProperty","_baseAssignValue","configurable","enumerable","writable","baseAssignValue","_assignValue","objValue","assignValue","_copyObject","source","props","customizer","isNew","newValue","_baseTimes","isObjectLike_1","isObjectLike","root2","stubFalse2","freeExports","freeModule","Buffer","isBuffer2","baseIsArguments","propertyIsEnumerable","isArguments_1","arguments","isArray_1","isArray","exports","nodeType","module","isBuffer","reIsUint","_isIndex","isLength_1","isLength","typedArrayTags","_baseIsTypedArray","_baseUnary","freeGlobal2","freeProcess","process","nodeUtil2","types","require","binding","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","isTypedArray","isTypedArray_1","baseTimes","isArguments","isIndex","require$$5","_arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","_isPrototype","Ctor","constructor","_overArg","transform2","arg","nativeKeys","isPrototype","_baseKeys","isArrayLike_1","arrayLikeKeys","baseKeys","isArrayLike","keys_1","copyObject","_baseAssign","nativeKeysIn","baseKeysIn","isProto","keysIn_1","keysIn","_baseAssignIn","allocUnsafe","buffer","isDeep","slice","copy","_copyArray","_arrayFilter","predicate","resIndex","stubArray_1","arrayFilter","stubArray","nativeGetSymbols","getOwnPropertySymbols","_getSymbols","symbol","getSymbols","_copySymbols","_arrayPush","offset","_getPrototype","getPrototypeOf","arrayPush","getPrototype","getSymbolsIn","_copySymbolsIn","_baseGetAllKeys","keysFunc","symbolsFunc","baseGetAllKeys","_getAllKeys","_getAllKeysIn","_DataView","_Promise","_Set","DataView","Promise","Set","WeakMap","require$$6","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","dataViewTag","mapTag","setTag","weakMapTag","_getTag","_initCloneArray","input","_Uint8Array","Uint8Array","_cloneArrayBuffer","arrayBuffer","byteLength","cloneArrayBuffer","_cloneDataView","dataView","byteOffset","reFlags","_cloneRegExp","regexp","lastIndex","symbolProto","symbolValueOf","valueOf","cloneDataView","cloneRegExp","cloneSymbol","cloneTypedArray","typedArray","_initCloneByTag","arrayBufferTag","boolTag","dateTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","numberTag","stringTag","regexpTag","symbolTag","objectCreate","create","_baseCreate","proto2","baseCreate","_initCloneObject","baseIsMap","nodeIsMap","isMap","isMap_1","baseIsSet","nodeIsSet","isSet","arrayEach","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","require$$7","copySymbolsIn","require$$8","getAllKeys","require$$9","getAllKeysIn","require$$10","require$$11","initCloneArray","require$$12","initCloneByTag","require$$13","initCloneObject","require$$14","require$$15","require$$16","require$$17","require$$18","require$$20","require$$21","cloneableTags","baseClone","baseClone$1","bitmask","stack","isFlat","isFull","isFunc","stacked","forEach","subValue","add","key2","clone_1","constant_1","baseFor","fromRight","iterable","createBaseFor","_baseForOwn","_baseEach","eachFunc","collection","createBaseEach","identity_1","identity","baseEach","castFunction","each","_baseFilter","collection2","setCacheAdd","setCacheHas","SetCache$2","SetCache","_SetCache","_cacheHas","cache","arraySome","cacheHas","_equalArrays","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othValue2","othIndex","_setToArray","set2","equalArrays","mapToArray","setToArray","_equalByTag","name","message","convert","COMPARE_UNORDERED_FLAG","equalByTag","equalObjects","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","objectTag","baseIsEqualDeep","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","_baseIsEqual","baseIsEqual$2","baseIsEqual","_isStrictComparable","isStrictComparable","_matchesStrictComparable","srcValue","baseIsMatch","matchData","noCustomizer","COMPARE_PARTIAL_FLAG","getMatchData","matchesStrictComparable","_baseMatches","isSymbol_1","isSymbol","reIsDeepProp","reIsPlainProp","_isKey","memoize$1","resolver","TypeError","memoized","args","apply","memoize","Cache","rePropName","reEscapeChar","_stringToPath","memoizeCapped","string2","charCodeAt","match","number2","quote","subString","_arrayMap","arrayMap","symbolToString","baseToString","baseToString$1","isKey","stringToPath","_castPath","_toKey","castPath","toKey","_baseGet","path","baseGet","_hasPath","hasFunc","isArray$8","baseHasIn","hasPath","defaultValue","hasIn","_baseProperty","baseProperty","basePropertyDeep","baseMatches","baseMatchesProperty","property","_baseIteratee","baseFilter","baseIteratee","filter_1","baseHas","has_1","isEmpty_1","isUndefined_1","baseMap","map_1","arrayReduce","accumulator","initAccum","baseReduce","reduce_1","isString_1","_asciiSize","reHasUnicode","_hasUnicode","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsSeq","join","rsSymbol","reUnicode","asciiSize","hasUnicode","unicodeSize","isString","stringSize","size_1","baseForOwn","transform_1","isArrLike","object3","spreadableSymbol","isConcatSpreadable","isFlattenable","_baseFlatten","baseFlatten$1","depth","isStrict","baseFlatten","thisArg","nativeMax","Math","_overRest","start2","otherArgs","constant","_baseSetToString","nativeNow","Date","now","setToString","count","lastCalled","stamp","remaining","shortOut","overRest","_baseRest","baseFindIndex","fromIndex","baseIsNaN","strictIndexOf","baseIndexOf","_arrayIncludes","_arrayIncludesWith","comparator","noop","createSet","Set$1","arrayIncludes","arrayIncludesWith","baseUniq","includes","isCommon","outer","computed","seenIndex","isArrayLikeObject","union_1","arrays","baseValues","lodash","values_1","clone","filter","isEmpty","isUndefined","reduce","transform","union","values","window","_","lodash_1","graph","Graph","Graph$2","opts","_isDirected","directed","_isMultigraph","multigraph","_isCompound","compound","_label","_defaultNodeLabelFn","_defaultEdgeLabelFn","_nodes","_parent","_children","_in","_preds","_out","_sucs","_edgeObjs","_edgeLabels","incrementOrInitEntry","k","decrementOrRemoveEntry","edgeArgsToId","isDirected","v_","w_","v","w","tmp","_$b","edgeArgsToObj","edgeObj","edgeObjToId","_nodeCount","_edgeCount","isMultigraph","isCompound","setGraph","label","setDefaultNodeLabel","newDefault","nodeCount","nodes","sources","self2","sinks","setNodes","vs","setNode","node","hasNode","removeNode","removeEdge","_removeFromParentsChildList","children","child","setParent","parent","Error","ancestor","predecessors","predsV","successors","sucsV","neighbors","preds","isLeaf","filterNodes","filter2","copy2","setEdge","edge","parents","findParent","setDefaultEdgeLabel","edgeCount","edges","setPath","valueSpecified","arg0","freeze","hasEdge","inEdges","u","inV","outEdges","outV","nodeEdges","concat","lib","version","json","write","g","json2","options","writeNodes","writeEdges","read","nodeValue","edgeValue","components_1","cmpt","visited","cmpts","dfs2","_$9","priorityQueue","PriorityQueue","PriorityQueue$2","_arr","_keyIndices","priority","min","keyIndices","arr","_decrease","removeMin","_swap","min2","_heapify","decrease","l","r","largest","j","origArrI","origArrJ","dijkstra_1","weightFn","edgeFn","vEntry","results","pq","updateNeighbors","wEntry","weight","distance","predecessor","v2","Number","POSITIVE_INFINITY","runDijkstra","DEFAULT_WEIGHT_FUNC","dijkstra","dijkstraAll_1","weightFunc","edgeFunc","acc","tarjan_1","onStack","lowlink","w2","tarjan","findCycles_1","floydWarshall_1","rowK","rowI","ik","kj","ij","altDistance","runFloydWarshall","topsort_1","topsort","topsort$1","_$2","visit","CycleException","dfs_1","order","navigation","bind","_$1","doDfs","doDfs$1","postorder2","dfs","graphlib","alg","components","dijkstraAll","findCycles","floydWarshall","isAcyclic","postorder","preorder","prim","pri","edgeWeight","init2","o","nest","sortValues","rollup","nest2","keys2","sortKeys","apply2","createResult","setResult","sort","keyValue","valuesByKey","values3","sortKey","object","createObject","setObject","createMap","setMap","remove","property2","empty","proto","set$1","define$1","factory","extend$1","definition","Color$1","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex$1","rgb","formatHex","color_formatRgb$1","formatRgb","color$1","format2","m","trim","toLowerCase","parseInt","rgbn","Rgb","rgba","hsla","rgbn$1","rgba$1","rgbConvert$1","Color","color","opacity","rgb$2","rgbConvert","Rgb$1","rgb_formatHex$1","hex","rgb_formatRgb$1","isNaN","round","hex$1","hsla$1","h","s","Hsl","hslConvert$1","Hsl$1","hsl2rgb$1","m1","m2","constant$2","gamma$1","y","nogamma","pow","exponential","nogamma$1","linear","define","channels","assign","displayable","color_formatHex","formatHsl","hslConvert","color_formatRgb","extend","darker","rgb_formatHex","rgb_formatRgb","hsl2rgb","rgb$1","color2","gamma","rgb2","end","colorRgb","rgbGamma","numberArray","c","genericArray","nb","na","date","setTime","number","reA","reB","am","bm","bs","bi","q","one","zero","i2","interpolate$1","isView","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","prefix2","indexOf","space","local","creatorInherit","document2","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","creator","none","selector","selector2","querySelector","selectorAll","querySelectorAll","matcher","matches","sparse","update","EnterNode","datum","_next","appendChild","insertBefore","next","bindIndex","group","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","attrRemove$1","removeAttribute","attrRemoveNS$1","removeAttributeNS","attrConstant$1","setAttribute","attrConstantNS$1","setAttributeNS","attrFunction$1","attrFunctionNS$1","defaultView","document","styleRemove$1","style","removeProperty","styleConstant$1","setProperty","styleFunction$1","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","split","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant$1","textFunction$1","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","constantNull","removeChild","selection_cloneShallow","clone2","cloneNode","selection_cloneDeep","contains","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","contextListener","event2","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames","typenames","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap2","addEventListener","dispatchEvent","params","window2","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","Selection$1","groups","_groups","_parents","selection","Selection","select","select2","subgroups","subnode","subgroup","selectAll","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","onenter","onupdate","onexit","append","merge","selection2","groups0","groups1","m0","merges","group0","group1","compareNode","sortgroups","sortgroup","attr","getAttributeNS","attrRemoveNS","attrRemove","attrFunctionNS","attrFunction","attrConstantNS","attrConstant","styleRemove","styleFunction","styleConstant","classed","text","textFunction","textConstant","html","create2","insert","before","deep","dispatch","emptyOn","emptyTween","schedule","id2","timing","schedules","__transition","tween","schedule2","state","timer","tick","duration","ease","init","interpolateRgb","rgb$12","rgbGamma2","interpolateNumber","interpolateString","cssNode","cssRoot","cssView","svgNode","degrees","PI","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","sqrt","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","translate","scale","interpolateTransformCss","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition2","_id","interpolate","interpolate2","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","t0","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","start","styleInterpolate","styleTween","textInterpolate","textTween","id","Transition","_name","transition","newId","selection_prototype","inherit2","id0","id1","styleNull","listener0","remove2","styleMaybeRemove","that","reject","cancel","interrupt","defaultTiming","inherit","makeAcyclic","G","v0","tree","thread","findSpanningTree","V","W","u$1","nodeRelationship","reversed","delta","edgeIdString","assignRanks","rankSets","GG","ensureSmin","set$$1","nodeSets","sourceSet","targetSet","backwards","groupedGraph","temp","addTemporaryEdges","queue","marked","rank","loop","shift","some","assignInitialRanks","moveRight","moveSourcesRight","groupedNode","countCrossings","orderA","orderB","north","south","southSeq","firstIndex","treeSize","floor","countBetweenCrossings","swapNodes","improved","count0","allCrossings$1","transpose","medianValue","positions","left","right","neighbourPositions","includeLoops","thisRank","otherRank","sortByPositions","origOrder","sortNodes$1","sweepDirection","r2","medians","neighbour","loop$1","medians$1","r$1","sortNodes","maxIterations","ranks","getRanks","nodeRanks","initialOrdering","best","allCrossings","addDummyNodes","dummyChains","dummies","target","dummyNodes2","dummyNodes","addDummyEdge","points","origEdge","origLabel","dummy","normaliseEdge","removeDummyNodes","dummyEdges","dummyEdge","dy","x0","y0","r0","d0","r1s","r1","x1","ro","ri","y1","d1","nestGraph","maxRank","maxBand","band","nested","j$1","bandValues","Nb","total","positionHorizontally","width","nodeWidth","dx","defaultSeparation","required$1","prepareNodePorts","sortPorts","ports","getOrSet","side","port","incoming","outgoing","targetPortId","direction","targetPort","sourcePortId","sourcePort","fromElsewhere","toElsewhere","fromElsewhereDy","link","west","east","linkDirection","head","orderEdges","compareDirection","orderEdgesOne","da","db","abs","localeCompare","findFirst","links","p","jmid","sweepCurvatureInwards","rr","Rmin","Rmax","i$1","layoutLinks","sy","ty","setEdgeEndpoints","setEdgeEndCurvatures","setEdgeCurvatures","Dx","Dy","Infinity","maximumRadiusOfCurvature","links2","buildGraph","graph2","nodeId","nodeBackwards","sourceId","targetId","linkType","linkValue","idAndPort","defaultNodes","defaultLinks","defaultNodeId","defaultNodeBackwards","defaultSourceId","defaultTargetId","defaultLinkType","defaultSortPorts","sankeyLayout","ordering","nodePosition","whitespace","verticalLayout","separation","layout","totalHeight","layer","bandHeight","margin","height","gaps","kg","yy","prevGap","MAX_VALUE","spaceAbove","spaceBelow","forceY","positionNodesVertically","sankey","setNodeValues","pos","setWidths","applyOrdering","maybeScaleToFit","addLinkEndpoints","copyResultsToGraph","maxValue","ordering2","d2","doOrderLinks","required","extent","unshift","defaultMinWidth","sankeyLink","minWidth","toOrFromElsewherePath","segmentPath","dir","theta","arc","selfLink","defaultRadius","hs","sin","hc","cos","x2","x3","y2","y3","f2","fbLink","fdLink","dfLink","bfLink","assign$1","Rlim","radiusBounds","dcx","dcy","D","phi","acos","psi","dir2","console","error","required$2","active","empty2","nodeTransform","wrap","lines","line","required$3","linkTitleGenerator","nodeTitle","typeTitle","fmt","parts","sourceTitle","targetTitle","matTitle","sankeyDiagram","top","bottom","selectedEdge","format","title","nodeVisible","sankeyNode2","context","body","clickTarget","layoutData","titleAbove","titlePosition","separateValue","titleText","sankeyNode","linkColor","linkTitle","linkLabel","defaultLinkLabel","listeners","sankeyEnter","nodeMap","groupsPositioned","rect","from","node2","nodeSel","selectNode","updateNodes","linkSel","linkEnter","selectLink","_current","linkOrder","interpolateLink","updateLinks","groups2","updateGroups","interp","stopPropagation","el","margins","_x","linkMinWidth","MyComponent","defineComponent","i18n","messages","en","showChanges","de","subfolder","yamlConfig","thumbnail","Boolean","config","globalState","globalStore","vizDetails","csv","description","loadingText","jsonChart","totalTrips","cleanConfigId","random","onlyShowChanges","csvData","colorRamp","fileApi","HTTPFileSystem","fileSystem","svnProject","$store","svnProjects","slug","log","watch","changeDimensions","getVizDetails","processInputs","doD3","methods","_a","$emit","filename","getFileText","yaml","loadFiles","rawText","Papa","header","dynamicTyping","skipEmptyLines","err","needPassword","status","commit","fromNodes","toNodes","cols","warn","fromOrder","toOrder","answer","fromLookup","toLookup","numColors","colors","interpolator","getMaxLabelWidth","getContext","font","measureText","box","clientWidth","clientHeight","labelWidth","diagram","mounted","beforeDestroy","_vm","_h","$createElement","_c","_self","staticClass","class","attrs","_e","_v","_s","toLocaleString","$t","model","$$v","expression"],"mappings":"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"}