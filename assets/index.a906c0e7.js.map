{"version":3,"file":"index.a906c0e7.js","sources":["../../node_modules/read-blob/index.js"],"sourcesContent":["/* global FileReader, Blob */\n\nvar methods = {\n  arraybuffer: 'readAsArrayBuffer',\n  dataurl: 'readAsDataURL',\n  text: 'readAsText'\n};\n\nfunction readBlob (blob, type, cb) {\n  var promise;\n\n  if (typeof type !== 'string') {\n    cb = type;\n    type = 'arraybuffer';\n  }\n\n  if (!(blob instanceof Blob)) {\n    var err = new Error('first argument is not a blob');\n    if (cb) {\n      cb(err);\n      return;\n    } else {\n      return Promise.reject(err);\n    }\n  }\n\n  if (!cb) {\n    promise = new Promise(function (resolve, reject) {\n      cb = function (err, result) {\n        if (err) reject(err);\n        else resolve(result);\n      };\n    });\n  }\n\n  var method = methods[type.toLowerCase()];\n  var reader = new FileReader();\n\n  reader.addEventListener('loadend', function onend (e) {\n    reader.removeEventListener('loadend', onend);\n    if (e.error) {\n      cb(e.error);\n    } else {\n      cb(null, reader.result);\n    }\n  });\n\n  if (method) {\n    reader[method](blob);\n  } else {\n    // assume the output value is a text encoding\n    reader.readAsText(blob, type);\n  }\n\n  return promise;\n}\n\nmodule.exports = readBlob;\n\n// add arraybuffer, dataurl, and text methods\n// as aliases to their options counterpart\nObject.keys(methods).forEach(function (type) {\n  readBlob[type] = function (blob, cb) {\n    return readBlob(blob, type, cb);\n  };\n});\n"],"names":["methods","arraybuffer","dataurl","text","readBlob","blob","type","cb","promise","Blob","err","Error","Promise","reject","resolve","err2","result","method","toLowerCase","reader","FileReader","addEventListener","onend","e","removeEventListener","error","readAsText","readBlob_1","Object","keys","forEach"],"mappings":"AAEA,IAAIA,EAAU,CACZC,YAAa,oBACbC,QAAS,gBACTC,KAAM,cAGR,SAAmBC,EAAAC,EAAMC,EAAMC,GACzB,IAAAC,EAOA,GALgB,iBAATF,IACJC,EAAAD,EACEA,EAAA,8BAGaG,MAAO,CACvB,IAAAC,EAAM,IAAIC,MAAM,gCACpB,OAAIJ,OACCA,EAAAG,GAGIE,QAAQC,OAAOH,GAIrBH,IACHC,EAAU,IAAII,SAAQ,SAAUE,EAASD,GAClCN,EAAA,SAAUQ,EAAKC,GACdD,EAAYF,EAAAE,GACHD,EAAAE,QAKf,IAAAC,EAASjB,EAAQM,EAAKY,eACtBC,EAAS,IAAIC,WAkBV,OAhBAD,EAAAE,iBAAiB,WAAW,SAAAC,EAAgBC,GACjDJ,EAAOK,oBAAoB,UAAWF,GAClCC,EAAEE,MACJlB,EAAGgB,EAAEE,OAELlB,EAAG,KAAMY,EAAOH,WAIhBC,EACFE,EAAOF,GAAQZ,GAGfc,EAAOO,WAAWrB,EAAMC,GAGnBE,MAGTmB,EAAiBvB,EAIjBwB,OAAOC,KAAK7B,GAAS8B,SAAQ,SAAUxB,GAC5BF,EAAAE,GAAQ,SAAUD,EAAME,GACxB,OAAAH,EAASC,EAAMC,EAAMC"}