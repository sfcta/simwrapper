var n={value:function(){}};function t(){for(var n,t=0,r=arguments.length,o={};t<r;++t){if(!(n=arguments[t]+"")||n in o||/[\s.]/.test(n))throw new Error("illegal type: "+n);o[n]=[]}return new e(o)}function e(n){this._=n}function r(n,t){return n.trim().split(/^|\s+/).map((function(n){var e="",r=n.indexOf(".");if(r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:e}}))}function o(n,t){for(var e,r=0,o=n.length;r<o;++r)if((e=n[r]).name===t)return e.value}function i(t,e,r){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=n,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=r&&t.push({name:e,value:r}),t}e.prototype=t.prototype={constructor:e,on:function(n,t){var e,l=this._,a=r(n+"",l),u=-1,f=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<f;)if(e=(n=a[u]).type)l[e]=i(l[e],n.name,t);else if(null==t)for(e in l)l[e]=i(l[e],n.name,null);return this}for(;++u<f;)if((e=(n=a[u]).type)&&(e=o(l[e],n.name)))return e},copy:function(){var n={},t=this._;for(var r in t)n[r]=t[r].slice();return new e(n)},call:function(n,t){if((e=arguments.length-2)>0)for(var e,r,o=new Array(e),i=0;i<e;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(i=0,e=(r=this._[n]).length;i<e;++i)r[i].value.apply(t,o)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,i=r.length;o<i;++o)r[o].value.apply(t,e)}};var l,a,u=0,f=0,c=0,s=0,h=0,p=0,w="object"==typeof performance&&performance.now?performance:Date,_="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function y(){return h||(_(m),h=w.now()+p)}function m(){h=0}function v(){this._call=this._time=this._next=null}function x(n,t,e){var r=new v;return r.restart(n,t,e),r}function g(){h=(s=w.now())+p,u=f=0;try{!function(){y(),++u;for(var n,t=l;t;)(n=h-t._time)>=0&&t._call.call(null,n),t=t._next;--u}()}finally{u=0,function(){var n,t,e=l,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:l=t);a=n,b(r)}(),h=0}}function d(){var n=w.now(),t=n-s;t>1e3&&(p-=t,s=n)}function b(n){u||(f&&(f=clearTimeout(f)),n-h>24?(n<1/0&&(f=setTimeout(g,n-w.now()-p)),c&&(c=clearInterval(c))):(c||(s=w.now(),c=setInterval(d,1e3)),u=1,_(g)))}v.prototype=x.prototype={constructor:v,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?y():+e)+(null==t?0:+t),this._next||a===this||(a?a._next=this:l=this,a=this),this._call=n,this._time=e,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}};export{v as T,t as d,y as n,x as t};
//# sourceMappingURL=timer.8d793420.js.map
