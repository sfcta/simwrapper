var e=Object.defineProperty,t=(t,s,o)=>(((t,s,o)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[s]=o})(t,"symbol"!=typeof s?s+"":s,o),o);import{s,V as o,a as r,b as a,W as l,C as i,m as n,g as c,c as d,d as u,B as h}from"./vendor.f3ad446a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const m=localStorage.getItem("locale")?""+localStorage.getItem("locale"):(navigator.language||navigator.userLanguage).startsWith("de")?"de":"en",p={light:{version:8,layers:[],sources:{}},dark:{version:8,layers:[],sources:{}}},g="pk.eyJ1Ijoic2ZjdGEiLCJhIjoiY2ozdXBhNm1mMDFkaTJ3dGRmZHFqanRuOCJ9.KDmACTJBGNA6l0CyPi1Luw";var f,b,v,L;(b=f||(f={}))[b.INFO=0]="INFO",b[b.WARNING=1]="WARNING",b[b.ERROR=2]="ERROR",(L=v||(v={}))[L.NUMBER=0]="NUMBER",L[L.STRING=1]="STRING",L[L.BOOLEAN=2]="BOOLEAN",L[L.DATE=3]="DATE",L[L.LOOKUP=4]="LOOKUP";const y="'Titillium Web', 'Roboto', 'Open Sans', Avenir, Arial, Helvetica, sans-serif";var S,w,k,E,C,F;(w=S||(S={})).LightMode="light",w.DarkMode="dark",(E=k||(k={})).Susceptible="susceptible",E.InfectedButNotContagious="infectedButNotContagious",E.Contagious="contagious",(F=C||(C={}))[F.line=0]="line",F[F.box=1]="box";const _={},O=window.location,M=O.hostname,R=`${O.protocol}//${M}`;function I(e,t){const o=t||"fs"+(1+Object.keys(P.state.localFileHandles).length),r={name:e.name,slug:o,description:"Local folder",handle:e,baseURL:""};return $.unshift(r),P.commit("addLocalFileSystem",{key:r.slug,handle:e}),console.log("WRITING ALL FILE HANDLES"),s("fs",P.state.localFileHandles),r.slug}const $=[{name:M+" live folders",slug:"live",description:'Files served using "simwrapper here"',baseURL:R+":9039/_f_",hidden:!0},{name:"Localhost",slug:"local",description:'Files on this computer, shared with "simwrapper serve"',baseURL:"http://localhost:8000",thumbnail:"/simwrapper/images/thumb-localfiles.jpg"},{name:"SFCTA Prospector",slug:"champ",description:"Shared CHAMP model runs",baseURL:"http://prospector/champ_runs"},{name:"Sample Data",slug:"samples",description:"Some test data for SFCTA",baseURL:"https://svn.vsp.tu-berlin.de/repos/public-svn/shared/billy/simwrapper/sample-data",thumbnail:"/simwrapper/images/thumb-localfiles.jpg"}];for(let te=8e3;te<8500;te++)$.push({name:"Localhost "+te,slug:`${te}`,description:"Localhost "+te,description_de:"Localhost "+te,baseURL:"http://localhost:"+te,hidden:!0});for(let te=9039;te<9100;te++)$.push({name:M+te,slug:`${te}`,description:M+te,description_de:M+te,baseURL:R+`:${te}/_f_`,hidden:!0});o.use(r);var P=new r.Store({state:{app:"SimWrapper",debug:!1,authAttempts:0,breadcrumbs:[],credentials:{fake:"fake"},dashboardWidth:"",isFullScreen:!1,isFullWidth:!1,isShowingLeftBar:!1,isDarkMode:!1,mapStyles:{light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/vsp-tu-berlin/ckek59op0011219pbwfar1rex"},needLoginForUrl:"",statusErrors:[],statusWarnings:[],statusMessage:"Loading",svnProjects:$,visualizationTypes:new Map,colorScheme:S.LightMode,locale:"en",localFileHandles:[],runFolders:{},runFolderCount:0,resizeEvents:0,viewState:{initial:!0,pitch:0,bearing:0,maxZoom:22,longitude:-122.4,latitude:37.78,zoom:10}},mutations:{updateRunFolders(e,t){e.runFolderCount=t.number,e.runFolders=t.folders},requestLogin(e,t){e.needLoginForUrl=t},registerPlugin(e,t){e.visualizationTypes.set(t.kebabName,t)},setBreadCrumbs(e,t){e.breadcrumbs=t},setCredentials(e,t){const s=btoa(`${t.username}:${t.pw}`);e.credentials[t.url]=s,e.authAttempts++},setFullScreen(e,t){e.isFullScreen=t},setMapStyles(e,t){e.mapStyles=t},setMapCamera(e,t){t.jump?e.viewState.initial&&(e.viewState=t):e.viewState=t},error(e,t){e.statusErrors.length&&e.statusErrors[e.statusErrors.length-1].msg===t||(e.statusErrors.push({msg:t,desc:""}),e.isShowingLeftBar=!0)},setStatus(e,t){var s;(null==(s=t.desc)?void 0:s.length)||(t.desc="");const o={msg:t.msg,desc:t.desc};t.type===f.INFO?e.statusMessage=t.msg:t.type===f.WARNING?e.statusWarnings.length&&e.statusWarnings[e.statusWarnings.length-1].msg===t.msg||e.statusWarnings.push(o):e.statusErrors.length&&e.statusErrors[e.statusErrors.length-1].msg===t.msg||(e.statusErrors.push(o),e.isShowingLeftBar=!0)},clearError(e,t){e.statusErrors.length>=t&&e.statusErrors.splice(t,1)},clearAllErrors(e){e.statusErrors=[],e.statusWarnings=[]},resize(e){e.resizeEvents+=1},rotateColors(e){e.colorScheme=e.colorScheme===S.DarkMode?S.LightMode:S.DarkMode,console.log("NEW COLORS:",e.colorScheme),e.isDarkMode=e.colorScheme===S.DarkMode,localStorage.setItem("colorscheme",e.colorScheme),document.body.style.backgroundColor=e.colorScheme===S.LightMode?"#edebe4":"#2d3133"},setLocale(e,t){e.locale=t.toLocaleLowerCase(),localStorage.setItem("locale",e.locale)},addLocalFileSystem(e,t){e.localFileHandles.unshift(t)},setLocalFileSystem(e,t){e.localFileHandles=t},setShowLeftBar(e,t){e.isShowingLeftBar=t},toggleShowLeftBar(e){e.isShowingLeftBar=!e.isShowingLeftBar},setDashboardWidth(e,t){e.dashboardWidth=t},setFullWidth(e,t){e.isFullWidth=t},toggleFullWidth(e){e.isFullWidth=!e.isFullWidth}},actions:{},modules:{},getters:{mapStyle:e=>e.isDarkMode?e.mapStyles.dark:e.mapStyles.light}});const N={},W=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/simwrapper/${e}`)in N)return;N[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};o.use(a);const D="/simwrapper/",U=new a({mode:"history",base:"/",routes:[{path:D+"gist/:id",component:()=>W((()=>import("./GistView.36385174.js")),["assets/GistView.36385174.js","assets/GistView.bc95859c.css","assets/vendor.f3ad446a.js","assets/DashBoard.11230987.js","assets/DashBoard.c7e070b7.css"]),props:e=>({id:e.params.id})},{path:D+"*",component:()=>W((()=>import("./ScreenSplitter.007a8c70.js")),["assets/ScreenSplitter.007a8c70.js","assets/ScreenSplitter.11c71368.css","assets/vendor.f3ad446a.js","assets/DashBoard.11230987.js","assets/DashBoard.c7e070b7.css"])},{path:"*",redirect:D}],scrollBehavior:(e,t,s)=>s||{x:0,y:0}});var A=Object.defineProperty,j=Object.getOwnPropertyDescriptor,B=(e,t,s,o)=>{for(var r,a=o>1?void 0:o?j(t,s):t,l=e.length-1;l>=0;l--)(r=e[l])&&(a=(o?r(t,s,a):r(a))||a);return o&&a&&A(t,s,a),a};let T=class extends o{constructor(){super(...arguments),t(this,"globalState",P.state),t(this,"username",""),t(this,"password",""),t(this,"expandOnHover",!0),t(this,"fullheight",!0),t(this,"fullwidth",!1),t(this,"mobile","reduce"),t(this,"reduce",!1),t(this,"overlay",!0),t(this,"right",!1),t(this,"theme","is-light"),t(this,"projects",this.globalState.svnProjects),t(this,"subfolders",[{name:"hello"}]),t(this,"open",!1)}showLoginPanel(){this.open=""!==this.globalState.needLoginForUrl}panelMayBeClosing(){this.open||P.commit("requestLogin","")}get whichLogin(){try{return this.globalState.svnProjects.filter((e=>e.url===this.globalState.needLoginForUrl))[0].name}catch(e){}return"this site"}clickedLogin(){P.commit("setCredentials",{url:this.globalState.needLoginForUrl,username:this.username,pw:this.password}),this.globalState.needLoginForUrl=""}};B([l("globalState.needLoginForUrl")],T.prototype,"showLoginPanel",1),B([l("open")],T.prototype,"panelMayBeClosing",1),T=B([i({components:{},props:{}})],T);function x(e,t,s,o,r,a,l,i){var n,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),o&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),l?(n=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},c._ssrRegister=n):r&&(n=i?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),n)if(c.functional){c._injectStyles=n;var d=c.render;c.render=function(e,t){return n.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,n):[n]}return{exports:e,options:c}}const H={};var z=x(T,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sidebar-page"},[s("section",{staticClass:"sidebar-layout"},[s("b-sidebar",{attrs:{type:"is-light",fullheight:e.fullheight,fullwidth:e.fullwidth,overlay:e.overlay,right:e.right,open:e.open},on:{"update:open":function(t){e.open=t}}},[s("div",{staticClass:"all-stuff"},[s("div",{staticClass:"block"},[s("a",{attrs:{href:"/"}},[s("img",{staticClass:"vsp-logo",attrs:{src:"/simwrapper/assets/vsp-logo-left.88042ade.png",alt:"TU Berlin VSP Department"}})])]),s("b-menu-list",{attrs:{label:"Login Required"}}),s("p",{staticClass:"my-label"},[e._v(e._s(e.whichLogin)+": access to this site requires a login.")]),s("b-menu-list",{attrs:{label:"Username"}}),s("b-input",{attrs:{placeholder:"VSP username",maxlength:"30"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("b-menu-list",{attrs:{label:"Password"}}),s("b-input",{attrs:{type:"password","password-reveal":""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("b-button",{staticClass:"my-space is-primary",attrs:{disabled:!e.username||!e.password},on:{click:e.clickedLogin}},[e._v("Login")])],1)])],1)])}),[],!1,G,"900a1920",null,null);function G(e){for(let t in H)this[t]=H[t]}var K=function(){return z.exports}(),V=Object.defineProperty,q=Object.getOwnPropertyDescriptor;n.accessToken=g;let J=class extends o{constructor(){super(...arguments),t(this,"state",P.state)}async mounted(){const e=localStorage.getItem("colorscheme")?localStorage.getItem("colorscheme"):(window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)")).matches?S.DarkMode:S.LightMode;e===S.DarkMode&&this.$store.commit("rotateColors"),document.body.style.backgroundColor=e===S.LightMode?"#edebe4":"#2d3133",this.toggleFullScreen(!0),this.setOnlineOrOfflineMode(),await this.setupLocalFiles(),document.addEventListener("keydown",this.toggleUIPanels)}beforeDestroy(){document.removeEventListener("keyup",this.toggleUIPanels)}toggleUIPanels(e){e.altKey&&e.shiftKey&&81===e.keyCode&&(console.log("QUICKVIEW"),this.$store.commit("toggleShowLeftBar"),this.$store.commit("resize")),e.altKey&&e.shiftKey&&87===e.keyCode&&(console.log("WIIIDE"),this.$store.commit("toggleFullWidth"),this.$store.commit("resize"))}async setupLocalFiles(){if(console.log(12341235125),P.state.localFileHandles.length)return;const e=await c("fs");if(e&&e.length)for(const t of e)I(t.handle,t.key)}setOnlineOrOfflineMode(){fetch("https://raw.githubusercontent.com/simwrapper/simwrapper/master/package.json").then((e=>{console.log("online!!")})).catch((e=>{console.log("offline!"),this.$store.commit("setMapStyles",p)}))}get topNavLinks(){return[{name:"scout",url:""}].concat(this.state.svnProjects)}removeAllErrors(){this.$store.commit("clearAllErrors")}toggleLocale(){const e="en"===this.state.locale?"de":"en";this.$store.commit("setLocale",e),this.$root.$i18n.locale=e}toggleTheme(){this.$store.commit("rotateColors")}get isDarkMode(){return this.state.colorScheme==S.DarkMode}toggleFullScreen(e){e?(document.body.classList.add("full-screen-page"),document.documentElement.style.overflowY="auto"):(document.body.classList.remove("full-screen-page"),document.documentElement.style.overflowY=null)}};J=((e,t,s,o)=>{for(var r,a=o>1?void 0:o?q(t,s):t,l=e.length-1;l>=0;l--)(r=e[l])&&(a=(o?r(t,s,a):r(a))||a);return o&&a&&V(t,s,a),a})([i({i18n:{messages:{en:{light:"light",dark:"dark",share:"share"},de:{light:"hell",dark:"dark",share:"teilen"}}},components:{LoginPanel:K}})],J);const X={};var Y=x(J,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{"full-page-app":!0,"dark-mode":e.isDarkMode},attrs:{id:"main-app"}},[s("div",{staticClass:"center-area"},[s("login-panel",{staticClass:"login-panel"}),s("router-view",{staticClass:"main-content"}),e._m(0)],1)])}),[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticStyle:{"text-justify":"center",margin:"auto auto","font-size":"2rem"}},[s("i",[e._v("• S i m W r a p p e r •")])])}],!1,Z,null,null,null);function Z(e){for(let t in X)this[t]=X[t]}var Q=function(){return Y.exports}();P.commit("setLocale",m),o.use(d),o.use(u),o.use(h,{defaultIconPack:"mdi",defaultInputHasCounter:!1}),o.config.productionTip=!1;const ee=new d({locale:m,fallbackLocale:"en"});new o({i18n:ee,router:U,store:P,render:e=>e(Q)}).$mount("#app");export{S as C,v as D,C as L,g as M,_ as R,f as S,y as U,I as a,$ as f,P as g,x as n};
//# sourceMappingURL=index.da44a904.js.map
