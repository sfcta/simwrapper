{"version":3,"file":"ZoomButtons.e860a156.js","sources":["../../src/components/MapScale.vue","../../src/components/MapScale.vue?vue&type=template&lang.js","../../src/components/ZoomButtons.vue","../../src/components/ZoomButtons.vue?vue&type=template&lang.js","../../src/assets/images/sw_plus_dm.jpg","../../src/assets/images/sw_plus.jpg","../../src/assets/images/sw_minus_dm.jpg","../../src/assets/images/sw_minus.jpg","../../src/assets/images/sw_north_arrow_dm.png","../../src/assets/images/sw_north_arrow.png"],"sourcesContent":["<template lang=\"pug\">\r\n.map-scale(v-show=\"showScale\")\r\n\r\n  .feet(:style=\"{width: `${miles.pixels}px`}\")\r\n    p {{miles.length}}&nbsp;{{miles.label}}\r\n\r\n  .meters(:style=\"{width: `${metric.pixels}px`}\")\r\n    p {{metric.length}}&nbsp;{{metric.label}}\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport globalStore from '@/store'\r\n\r\nconst breakpointsMetric = [\r\n  { pixels: 10000, factor: 0.01, length: 10, label: 'm' },\r\n  { pixels: 5000, factor: 0.02, length: 20, label: 'm' },\r\n  { pixels: 2000, factor: 0.05, length: 50, label: 'm' },\r\n  { pixels: 1000, factor: 0.1, length: 100, label: 'm' },\r\n  { pixels: 500, factor: 0.2, length: 200, label: 'm' },\r\n  { pixels: 250, factor: 0.5, length: 500, label: 'm' },\r\n  { pixels: 100, factor: 1, length: 1, label: 'km' },\r\n  { pixels: 50, factor: 2, length: 2, label: 'km' },\r\n  { pixels: 20, factor: 5, length: 5, label: 'km' },\r\n  { pixels: 8, factor: 10, length: 10, label: 'km' },\r\n  { pixels: 4, factor: 20, length: 20, label: 'km' },\r\n  { pixels: 2, factor: 50, length: 50, label: 'km' },\r\n  { pixels: 1, factor: 100, length: 100, label: 'km' },\r\n]\r\n\r\nconst breakpointsMiles = [\r\n  { pixels: 20000, factor: 0.003787878, length: 20, label: 'ft' },\r\n  { pixels: 10000, factor: 0.00946969696, length: 50, label: 'ft' },\r\n  { pixels: 5000, factor: 0.0189393939, length: 100, label: 'ft' },\r\n  { pixels: 2500, factor: 0.04734848, length: 250, label: 'ft' },\r\n  { pixels: 1000, factor: 0.09469696, length: 500, label: 'ft' },\r\n  { pixels: 500, factor: 0.18939393, length: 1000, label: 'ft' },\r\n  { pixels: 300, factor: 0.25, length: 0.25, label: 'mi' },\r\n  { pixels: 180, factor: 0.5, length: 0.5, label: 'mi' },\r\n  { pixels: 80, factor: 1, length: 1, label: 'mi' },\r\n  { pixels: 40, factor: 2, length: 2, label: 'mi' },\r\n  { pixels: 20, factor: 5, length: 5, label: 'mi' },\r\n  { pixels: 8, factor: 10, length: 10, label: 'mi' },\r\n  { pixels: 4, factor: 25, length: 25, label: 'mi' },\r\n  { pixels: 1.5, factor: 50, length: 50, label: 'mi' },\r\n]\r\n\r\nexport default defineComponent({\r\n  name: 'MapScale',\r\n  data: () => {\r\n    return {\r\n      globalState: globalStore.state,\r\n      showScale: false,\r\n      metric: { pixels: 100, length: 1000, label: 'm' },\r\n      miles: { pixels: 100, length: 1000, label: 'mi' },\r\n    }\r\n  },\r\n  mounted() {\r\n    this.zoomChanged()\r\n  },\r\n  watch: {\r\n    'globalState.viewState.zoom'() {\r\n      this.zoomChanged()\r\n    },\r\n    'globalState.viewState.pitch'() {\r\n      this.zoomChanged()\r\n    },\r\n    'globalState.viewState.latitude'() {\r\n      this.zoomChanged()\r\n    },\r\n  },\r\n  methods: {\r\n    zoomChanged() {\r\n      // hide scale if map is pitched forward\r\n      if (this.globalState.viewState.pitch > 15 || this.globalState.viewState.zoom < 5) {\r\n        this.showScale = false\r\n        return\r\n      }\r\n\r\n      this.showScale = true\r\n\r\n      // generate scale based on latitude and zoom\r\n      // https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#Resolution_and_Scale\r\n      const metersPerPixelAtEquator = 156543.03\r\n      const latitude = (Math.PI / 180.0) * this.globalState.viewState.latitude\r\n      const zoomLevel = this.globalState.viewState.zoom\r\n      const metersPerPixel = (metersPerPixelAtEquator * Math.cos(latitude)) / 2.0 ** zoomLevel\r\n\r\n      const pixelsForOneKM = (window.devicePixelRatio * 1000) / metersPerPixel\r\n      this.calculateBestMeasurements(pixelsForOneKM)\r\n    },\r\n    calculateBestMeasurements(pixelsForOneKM: number) {\r\n      // Metric: use either km or meters\r\n      let scaleMetric = { pixels: pixelsForOneKM / 200, length: 5, label: 'm' }\r\n\r\n      for (let i = 0; i < breakpointsMetric.length; i++) {\r\n        const breakpoint = breakpointsMetric[i]\r\n        if (pixelsForOneKM > breakpoint.pixels) break\r\n        scaleMetric = {\r\n          pixels: pixelsForOneKM * breakpoint.factor,\r\n          length: breakpoint.length,\r\n          label: breakpoint.label,\r\n        }\r\n      }\r\n\r\n      // U.S.: use either feet or miles\r\n      const pixelsForOneMile = pixelsForOneKM * 1.609344\r\n      let scaleMiles = { pixels: (10 * pixelsForOneMile) / 5280, length: 10, label: 'ft' }\r\n\r\n      for (let i = 0; i < breakpointsMiles.length; i++) {\r\n        const breakpoint = breakpointsMiles[i]\r\n        if (pixelsForOneMile > breakpoint.pixels) break\r\n        scaleMiles = {\r\n          pixels: pixelsForOneMile * breakpoint.factor,\r\n          length: breakpoint.length,\r\n          label: breakpoint.label,\r\n        }\r\n      }\r\n\r\n      this.metric = scaleMetric\r\n      this.miles = scaleMiles\r\n    },\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n\r\n.map-scale {\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow-x: hidden;\r\n  pointer-events: none;\r\n  margin-bottom: 2px;\r\n}\r\n\r\np {\r\n  margin: 0px 0px;\r\n  padding: 1px 4px;\r\n  font-size: 0.8rem;\r\n  color: var(--textBold);\r\n  text-align: right;\r\n}\r\n\r\n.feet {\r\n  margin-left: auto;\r\n  background-color: var(--scaleBg);\r\n  border-left: var(--scaleBorder);\r\n  border-right: var(--scaleBorder);\r\n  border-bottom: var(--scaleBorder);\r\n}\r\n\r\n.meters {\r\n  margin-left: auto;\r\n  margin-top: -1px;\r\n  background-color: var(--scaleBg);\r\n  border-left: var(--scaleBorder);\r\n  border-right: var(--scaleBorder);\r\n  border-top: var(--scaleBorder);\r\n}\r\n\r\n@media only screen and (max-width: 640px) {\r\n}\r\n</style>\r\n","\r\n.map-scale(v-show=\"showScale\")\r\n\r\n  .feet(:style=\"{width: `${miles.pixels}px`}\")\r\n    p {{miles.length}}&nbsp;{{miles.label}}\r\n\r\n  .meters(:style=\"{width: `${metric.pixels}px`}\")\r\n    p {{metric.length}}&nbsp;{{metric.label}}\r\n\r\n","<template lang=\"pug\">\r\n.map-complications(:style=\"cornerSettings\")\r\n\r\n  map-scale.map-scale\r\n\r\n  .zoom-buttons\r\n    .button-single.button-top\r\n      img.img-button(v-if=\"globalState.isDarkMode\"\r\n          :title=\"$t('in')\"\r\n          @click=\"zoomIn()\"\r\n          src=\"@/assets/images/sw_plus_dm.jpg\")\r\n      img.img-button(v-else\r\n          :title=\"$t('in')\"\r\n          @click=\"zoomIn()\"\r\n          src=\"@/assets/images/sw_plus.jpg\")\r\n\r\n    .button-single\r\n      img.img-button(v-if=\"globalState.isDarkMode\" @click=\"zoomOut()\"\r\n          :title=\"$t('out')\"\r\n          src=\"@/assets/images/sw_minus_dm.jpg\")\r\n      img.img-button(v-else @click=\"zoomOut()\"\r\n          :title=\"$t('out')\"\r\n          src=\"@/assets/images/sw_minus.jpg\")\r\n\r\n    .button-single.button-bottom(v-if=\"globalState.isDarkMode\" :style=\"{ background: `rgb(43,60,78)`, border: '1px solid rgb(119,119,119)'}\")\r\n      img.img-button(v-if=\"globalState.isDarkMode\" @click=\"setNorth()\"\r\n          :title=\"$t('center')\"\r\n          src=\"@/assets/images/sw_north_arrow_dm.png\"\r\n          :style=\"{transform: `rotate(${arrowRotation}deg)`, background: `rgb(43,60,78)`, height: '21px'}\"\r\n      )\r\n    .button-single.button-bottom(v-if=\"!globalState.isDarkMode\" :style=\"{border: '1px solid rgb(224,224,224)'}\")\r\n      img.img-button(@click=\"setNorth()\"\r\n          :title=\"$t('center')\"\r\n          src=\"@/assets/images/sw_north_arrow.png\"\r\n          :style=\"{transform: `rotate(${arrowRotation}deg)`, height: '21px'}\"\r\n      )\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nconst i18n = {\r\n  messages: {\r\n    en: { in: 'Zoom in', out: 'Zoom out', center: 'North' },\r\n    de: { in: 'Einzoomen', out: 'Auszoomen', center: 'Norden' },\r\n  },\r\n}\r\n\r\nimport { defineComponent } from 'vue'\r\nimport globalStore from '@/store'\r\nimport MapScale from '@/components/MapScale.vue'\r\n\r\nenum Corner {\r\n  TOP,\r\n  BOTTOM,\r\n}\r\n\r\nexport default defineComponent({\r\n  name: 'ZoomButtons',\r\n  i18n,\r\n  components: { MapScale },\r\n  props: {\r\n    corner: String,\r\n  },\r\n  data: () => {\r\n    return {\r\n      globalState: globalStore.state,\r\n      zoomInFactor: 0.5,\r\n      zoomOutFactor: 0.5,\r\n      maxZoomIn: 20,\r\n      maxZoomOut: 0,\r\n      arrowRotation: 0,\r\n      location: Corner.TOP,\r\n      smooth: [\r\n        0.0125, 0.025, 0.05, 0.1, 0.15, 0.2, 0.3, 0.4, 0.6, 0.7, 0.8, 0.85, 0.9, 0.95, 0.975,\r\n        0.9875, 1.0,\r\n      ],\r\n    }\r\n  },\r\n  mounted() {\r\n    // default zoom buttons are in bottom-right\r\n    if (this.corner && this.corner.startsWith('top')) this.location = Corner.TOP\r\n    if (this.corner && this.corner.startsWith('bottom')) this.location = Corner.BOTTOM\r\n  },\r\n  watch: {\r\n    'globalState.viewState.bearing'() {\r\n      this.updateNorthArrow()\r\n    },\r\n  },\r\n  computed: {\r\n    cornerSettings(): any {\r\n      let style = {\r\n        display: 'flex',\r\n        right: '7px',\r\n      }\r\n\r\n      if (this.location == Corner.TOP) {\r\n        style = Object.assign(style, {\r\n          flexDirection: 'row',\r\n          top: '5px',\r\n        })\r\n      }\r\n\r\n      if (this.location == Corner.BOTTOM) {\r\n        style = Object.assign(style, {\r\n          flexDirection: 'column-reverse',\r\n          bottom: '32px',\r\n        })\r\n      }\r\n\r\n      return style\r\n    },\r\n  },\r\n  methods: {\r\n    setNorth() {\r\n      const currentMapDirection = globalStore.state.viewState\r\n      for (let i = 0; i < this.smooth.length; i++) {\r\n        setTimeout(() => {\r\n          const mergedMap = Object.assign({}, currentMapDirection, {\r\n            bearing: currentMapDirection.bearing - this.smooth[i] * currentMapDirection.bearing,\r\n            pitch: currentMapDirection.pitch - this.smooth[i] * currentMapDirection.pitch,\r\n          })\r\n          globalStore.commit('setMapCamera', mergedMap)\r\n        }, 24 * i)\r\n      }\r\n    },\r\n\r\n    zoomIn() {\r\n      let currentZoom = globalStore.state.viewState.zoom\r\n      if (currentZoom + this.zoomInFactor <= this.maxZoomIn) {\r\n        for (let i = 0; i < this.smooth.length; i++) {\r\n          setTimeout(() => {\r\n            const newDirection = { zoom: currentZoom + this.smooth[i] * this.zoomInFactor }\r\n            const currentMapDirection = globalStore.state.viewState\r\n            const mergedMap = Object.assign({}, currentMapDirection, newDirection)\r\n            globalStore.commit('setMapCamera', mergedMap)\r\n          }, 16.67 * i)\r\n        }\r\n      }\r\n    },\r\n\r\n    zoomOut() {\r\n      var currentZoom = globalStore.state.viewState.zoom\r\n      if (currentZoom - this.zoomOutFactor >= this.maxZoomOut) {\r\n        for (let i = 0; i < this.smooth.length; i++) {\r\n          setTimeout(() => {\r\n            const newDirection = { zoom: currentZoom - this.smooth[i] * this.zoomInFactor }\r\n            const currentMapDirection = globalStore.state.viewState\r\n            const mergedMap = Object.assign({}, currentMapDirection, newDirection)\r\n            globalStore.commit('setMapCamera', mergedMap)\r\n          }, 16.67 * i)\r\n        }\r\n      }\r\n    },\r\n\r\n    updateNorthArrow() {\r\n      this.arrowRotation = -1 * this.globalState.viewState.bearing\r\n    },\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n\r\n.map-complications {\r\n  position: absolute;\r\n  pointer-events: none;\r\n  cursor: pointer;\r\n  zoom: -5;\r\n}\r\n\r\n.zoom-buttons {\r\n  padding-left: 7px;\r\n  margin-left: auto;\r\n  pointer-events: auto;\r\n  z-index: 2;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.button-single:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.button-single {\r\n  width: 24px;\r\n  height: 24px;\r\n  text-align: center;\r\n  border: var(--borderZoomButtons);\r\n  background-color: var(--bgBold);\r\n  overflow: hidden;\r\n}\r\n\r\n.img-button {\r\n  height: 22px;\r\n}\r\n\r\n.button-top {\r\n  border-bottom-width: 0px;\r\n  border-top-left-radius: 4px;\r\n  border-top-right-radius: 4px;\r\n  margin-bottom: -1px;\r\n}\r\n\r\n.button-bottom {\r\n  border-top-width: 0px;\r\n  border-bottom-left-radius: 4px;\r\n  border-bottom-right-radius: 4px;\r\n  height: 23px;\r\n  margin-top: -1px;\r\n}\r\n\r\n.map-scale {\r\n  margin-top: 1px;\r\n}\r\n\r\n@media only screen and (max-width: 640px) {\r\n}\r\n</style>\r\n","\r\n.map-complications(:style=\"cornerSettings\")\r\n\r\n  map-scale.map-scale\r\n\r\n  .zoom-buttons\r\n    .button-single.button-top\r\n      img.img-button(v-if=\"globalState.isDarkMode\"\r\n          :title=\"$t('in')\"\r\n          @click=\"zoomIn()\"\r\n          src=\"@/assets/images/sw_plus_dm.jpg\")\r\n      img.img-button(v-else\r\n          :title=\"$t('in')\"\r\n          @click=\"zoomIn()\"\r\n          src=\"@/assets/images/sw_plus.jpg\")\r\n\r\n    .button-single\r\n      img.img-button(v-if=\"globalState.isDarkMode\" @click=\"zoomOut()\"\r\n          :title=\"$t('out')\"\r\n          src=\"@/assets/images/sw_minus_dm.jpg\")\r\n      img.img-button(v-else @click=\"zoomOut()\"\r\n          :title=\"$t('out')\"\r\n          src=\"@/assets/images/sw_minus.jpg\")\r\n\r\n    .button-single.button-bottom(v-if=\"globalState.isDarkMode\" :style=\"{ background: `rgb(43,60,78)`, border: '1px solid rgb(119,119,119)'}\")\r\n      img.img-button(v-if=\"globalState.isDarkMode\" @click=\"setNorth()\"\r\n          :title=\"$t('center')\"\r\n          src=\"@/assets/images/sw_north_arrow_dm.png\"\r\n          :style=\"{transform: `rotate(${arrowRotation}deg)`, background: `rgb(43,60,78)`, height: '21px'}\"\r\n      )\r\n    .button-single.button-bottom(v-if=\"!globalState.isDarkMode\" :style=\"{border: '1px solid rgb(224,224,224)'}\")\r\n      img.img-button(@click=\"setNorth()\"\r\n          :title=\"$t('center')\"\r\n          src=\"@/assets/images/sw_north_arrow.png\"\r\n          :style=\"{transform: `rotate(${arrowRotation}deg)`, height: '21px'}\"\r\n      )\r\n\r\n\r\n","export default \"__VITE_ASSET__addc2ce2__\"","export default \"__VITE_ASSET__c32d0b8a__\"","export default \"__VITE_ASSET__92f86065__\"","export default \"__VITE_ASSET__5b756579__\"","export default \"__VITE_ASSET__aa6d011c__\"","export default \"__VITE_ASSET__5b7b9814__\""],"names":["breakpointsMetric","pixels","factor","length","label","breakpointsMiles","__vue2_script$1","defineComponent","name","data","globalState","globalStore","state","showScale","metric","miles","mounted","this","zoomChanged","watch","methods","viewState","pitch","zoom","latitude","Math","PI","zoomLevel","metersPerPixel","cos","pixelsForOneKM","window","devicePixelRatio","calculateBestMeasurements","scaleMetric","i","breakpoint","pixelsForOneMile","scaleMiles","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","style","width","_v","_s","Corner","Corner2","__vue2_script","i18n","messages","en","in","out","center","de","components","MapScale","props","corner","String","zoomInFactor","zoomOutFactor","maxZoomIn","maxZoomOut","arrowRotation","location","smooth","startsWith","updateNorthArrow","computed","cornerSettings","display","right","Object","assign","flexDirection","top","bottom","setNorth","currentMapDirection","setTimeout","mergedMap","bearing","commit","zoomIn","currentZoom","newDirection","zoomOut","isDarkMode","attrs","title","$t","src","on","click","$event","background","border","transform","height","_e"],"mappings":"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"}