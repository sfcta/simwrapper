import{j as t,o as n,d as e}from"./vendor.e9c367ae.js";import{b as r}from"./index.3d2ad359.js";import{T as o,d as i,t as a,n as u}from"./timer.8d793420.js";import{b as s}from"./defaultLocale.52699303.js";import{P as c}from"./papaparse.min.963a9bc8.js";import{g as f,n as l}from"./index.2deacc07.js";import{H as h}from"./HTTPFileSystem.e57ad358.js";import{i as d}from"./rainbow.63463756.js";function p(t,n,e){var r=new o;return n=null==n?0:+n,r.restart((function(e){r.stop(),t(e+n)}),n,e),r}function v(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var g,y;function m(t,n){var e,r,o=t.length,i=-1;if(null==n){for(;++i<o;)if(null!=(e=t[i])&&e>=e)for(r=e;++i<o;)null!=(e=t[i])&&e>r&&(r=e)}else for(;++i<o;)if(null!=(e=n(t[i],i,t))&&e>=e)for(r=e;++i<o;)null!=(e=n(t[i],i,t))&&e>r&&(r=e);return r}function b(t,n){var e,r=t.length,o=-1,i=0;if(null==n)for(;++o<r;)(e=+t[o])&&(i+=e);else for(;++o<r;)(e=+n(t[o],o,t))&&(i+=e);return i}1===(g=v).length&&(y=g,g=function(t,n){return v(y(t),n)});var _=function(){this.__data__=[],this.size=0};var w=function(t,n){return t===n||t!=t&&n!=n},x=w;var E=function(t,n){for(var e=t.length;e--;)if(x(t[e][0],n))return e;return-1},k=E,j=Array.prototype.splice;var M=E;var A=E;var N=E;var O=_,S=function(t){var n=this.__data__,e=k(n,t);return!(e<0)&&(e==n.length-1?n.pop():j.call(n,e,1),--this.size,!0)},C=function(t){var n=this.__data__,e=M(n,t);return e<0?void 0:n[e][1]},L=function(t){return A(this.__data__,t)>-1},P=function(t,n){var e=this.__data__,r=N(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this};function I(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}I.prototype.clear=O,I.prototype.delete=S,I.prototype.get=C,I.prototype.has=L,I.prototype.set=P;var D=I,z=D;var T=function(){this.__data__=new z,this.size=0};var $=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e};var V=function(t){return this.__data__.get(t)};var R=function(t){return this.__data__.has(t)},F="object"==typeof t&&t&&t.Object===Object&&t,U=F,q="object"==typeof self&&self&&self.Object===Object&&self,B=U||q||Function("return this")(),H=B.Symbol,X=H,G=Object.prototype,W=G.hasOwnProperty,Y=G.toString,Z=X?X.toStringTag:void 0;var K=function(t){var n=W.call(t,Z),e=t[Z];try{t[Z]=void 0;var r=!0}catch(i){}var o=Y.call(t);return r&&(n?t[Z]=e:delete t[Z]),o},Q=Object.prototype.toString;var J=K,tt=function(t){return Q.call(t)},nt=H?H.toStringTag:void 0;var et=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":nt&&nt in Object(t)?J(t):tt(t)};var rt=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)},ot=et,it=rt;var at,ut=function(t){if(!it(t))return!1;var n=ot(t);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},st=B["__core-js_shared__"],ct=(at=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+at:"";var ft=function(t){return!!ct&&ct in t},lt=Function.prototype.toString;var ht=function(t){if(null!=t){try{return lt.call(t)}catch(n){}try{return t+""}catch(n){}}return""},dt=ut,pt=ft,vt=rt,gt=ht,yt=/^\[object .+?Constructor\]$/,mt=Function.prototype,bt=Object.prototype,_t=mt.toString,wt=bt.hasOwnProperty,xt=RegExp("^"+_t.call(wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Et=function(t){return!(!vt(t)||pt(t))&&(dt(t)?xt:yt).test(gt(t))},kt=function(t,n){return null==t?void 0:t[n]};var jt=function(t,n){var e=kt(t,n);return Et(e)?e:void 0},Mt=jt(B,"Map"),At=jt(Object,"create"),Nt=At;var Ot=function(){this.__data__=Nt?Nt(null):{},this.size=0};var St=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},Ct=At,Lt=Object.prototype.hasOwnProperty;var Pt=function(t){var n=this.__data__;if(Ct){var e=n[t];return"__lodash_hash_undefined__"===e?void 0:e}return Lt.call(n,t)?n[t]:void 0},It=At,Dt=Object.prototype.hasOwnProperty;var zt=At;var Tt=Ot,$t=St,Vt=Pt,Rt=function(t){var n=this.__data__;return It?void 0!==n[t]:Dt.call(n,t)},Ft=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=zt&&void 0===n?"__lodash_hash_undefined__":n,this};function Ut(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}Ut.prototype.clear=Tt,Ut.prototype.delete=$t,Ut.prototype.get=Vt,Ut.prototype.has=Rt,Ut.prototype.set=Ft;var qt=Ut,Bt=D,Ht=Mt;var Xt=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t};var Gt=function(t,n){var e=t.__data__;return Xt(n)?e["string"==typeof n?"string":"hash"]:e.map},Wt=Gt;var Yt=Gt;var Zt=Gt;var Kt=Gt;var Qt=function(){this.size=0,this.__data__={hash:new qt,map:new(Ht||Bt),string:new qt}},Jt=function(t){var n=Wt(this,t).delete(t);return this.size-=n?1:0,n},tn=function(t){return Yt(this,t).get(t)},nn=function(t){return Zt(this,t).has(t)},en=function(t,n){var e=Kt(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this};function rn(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}rn.prototype.clear=Qt,rn.prototype.delete=Jt,rn.prototype.get=tn,rn.prototype.has=nn,rn.prototype.set=en;var on=rn,an=D,un=Mt,sn=on;var cn=D,fn=T,ln=$,hn=V,dn=R,pn=function(t,n){var e=this.__data__;if(e instanceof an){var r=e.__data__;if(!un||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new sn(r)}return e.set(t,n),this.size=e.size,this};function vn(t){var n=this.__data__=new cn(t);this.size=n.size}vn.prototype.clear=fn,vn.prototype.delete=ln,vn.prototype.get=hn,vn.prototype.has=dn,vn.prototype.set=pn;var gn=vn;var yn=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t},mn=jt,bn=function(){try{var t=mn(Object,"defineProperty");return t({},"",{}),t}catch(n){}}(),_n=bn;var wn=function(t,n,e){"__proto__"==n&&_n?_n(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e},xn=wn,En=w,kn=Object.prototype.hasOwnProperty;var jn=function(t,n,e){var r=t[n];kn.call(t,n)&&En(r,e)&&(void 0!==e||n in t)||xn(t,n,e)},Mn=jn,An=wn;var Nn=function(t,n,e,r){var o=!e;e||(e={});for(var i=-1,a=n.length;++i<a;){var u=n[i],s=r?r(e[u],t[u],u,e,t):void 0;void 0===s&&(s=t[u]),o?An(e,u,s):Mn(e,u,s)}return e};var On=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r};var Sn=function(t){return null!=t&&"object"==typeof t},Cn=et,Ln=Sn;var Pn,In,Dn,zn,Tn,$n,Vn,Rn,Fn=function(t){return Ln(t)&&"[object Arguments]"==Cn(t)},Un=Sn,qn=Object.prototype,Bn=qn.hasOwnProperty,Hn=qn.propertyIsEnumerable,Xn=Fn(function(){return arguments}())?Fn:function(t){return Un(t)&&Bn.call(t,"callee")&&!Hn.call(t,"callee")},Gn=Array.isArray,Wn={exports:{}};Pn=Wn,Dn=B,zn=function(){return!1},Tn=(In=Wn.exports)&&!In.nodeType&&In,$n=Tn&&Pn&&!Pn.nodeType&&Pn,Vn=$n&&$n.exports===Tn?Dn.Buffer:void 0,Rn=(Vn?Vn.isBuffer:void 0)||zn,Pn.exports=Rn;var Yn=/^(?:0|[1-9]\d*)$/;var Zn=function(t,n){var e=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&Yn.test(t))&&t>-1&&t%1==0&&t<n};var Kn=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Qn=et,Jn=Kn,te=Sn,ne={};ne["[object Float32Array]"]=ne["[object Float64Array]"]=ne["[object Int8Array]"]=ne["[object Int16Array]"]=ne["[object Int32Array]"]=ne["[object Uint8Array]"]=ne["[object Uint8ClampedArray]"]=ne["[object Uint16Array]"]=ne["[object Uint32Array]"]=!0,ne["[object Arguments]"]=ne["[object Array]"]=ne["[object ArrayBuffer]"]=ne["[object Boolean]"]=ne["[object DataView]"]=ne["[object Date]"]=ne["[object Error]"]=ne["[object Function]"]=ne["[object Map]"]=ne["[object Number]"]=ne["[object Object]"]=ne["[object RegExp]"]=ne["[object Set]"]=ne["[object String]"]=ne["[object WeakMap]"]=!1;var ee=function(t){return te(t)&&Jn(t.length)&&!!ne[Qn(t)]};var re=function(t){return function(n){return t(n)}},oe={exports:{}};!function(t,n){var e=F,r=n&&!n.nodeType&&n,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r&&e.process,a=function(){try{var t=o&&o.require&&o.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(n){}}();t.exports=a}(oe,oe.exports);var ie=ee,ae=re,ue=oe.exports,se=ue&&ue.isTypedArray,ce=se?ae(se):ie,fe=On,le=Xn,he=Gn,de=Wn.exports,pe=Zn,ve=ce,ge=Object.prototype.hasOwnProperty;var ye=function(t,n){var e=he(t),r=!e&&le(t),o=!e&&!r&&de(t),i=!e&&!r&&!o&&ve(t),a=e||r||o||i,u=a?fe(t.length,String):[],s=u.length;for(var c in t)!n&&!ge.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||pe(c,s))||u.push(c);return u},me=Object.prototype;var be=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||me)};var _e=function(t,n){return function(e){return t(n(e))}},we=_e(Object.keys,Object),xe=be,Ee=we,ke=Object.prototype.hasOwnProperty;var je=function(t){if(!xe(t))return Ee(t);var n=[];for(var e in Object(t))ke.call(t,e)&&"constructor"!=e&&n.push(e);return n},Me=ut,Ae=Kn;var Ne=function(t){return null!=t&&Ae(t.length)&&!Me(t)},Oe=ye,Se=je,Ce=Ne;var Le=function(t){return Ce(t)?Oe(t):Se(t)},Pe=Nn,Ie=Le;var De=function(t,n){return t&&Pe(n,Ie(n),t)};var ze=rt,Te=be,$e=function(t){var n=[];if(null!=t)for(var e in Object(t))n.push(e);return n},Ve=Object.prototype.hasOwnProperty;var Re=ye,Fe=function(t){if(!ze(t))return $e(t);var n=Te(t),e=[];for(var r in t)("constructor"!=r||!n&&Ve.call(t,r))&&e.push(r);return e},Ue=Ne;var qe=function(t){return Ue(t)?Re(t,!0):Fe(t)},Be=Nn,He=qe;var Xe=function(t,n){return t&&Be(n,He(n),t)},Ge={exports:{}};!function(t,n){var e=B,r=n&&!n.nodeType&&n,o=r&&t&&!t.nodeType&&t,i=o&&o.exports===r?e.Buffer:void 0,a=i?i.allocUnsafe:void 0;t.exports=function(t,n){if(n)return t.slice();var e=t.length,r=a?a(e):new t.constructor(e);return t.copy(r),r}}(Ge,Ge.exports);var We=function(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n};var Ye=function(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var a=t[e];n(a,e,t)&&(i[o++]=a)}return i};var Ze=function(){return[]},Ke=Ye,Qe=Ze,Je=Object.prototype.propertyIsEnumerable,tr=Object.getOwnPropertySymbols,nr=tr?function(t){return null==t?[]:(t=Object(t),Ke(tr(t),(function(n){return Je.call(t,n)})))}:Qe,er=Nn,rr=nr;var or=function(t,n){return er(t,rr(t),n)};var ir=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t},ar=_e(Object.getPrototypeOf,Object),ur=ir,sr=ar,cr=nr,fr=Ze,lr=Object.getOwnPropertySymbols?function(t){for(var n=[];t;)ur(n,cr(t)),t=sr(t);return n}:fr,hr=Nn,dr=lr;var pr=function(t,n){return hr(t,dr(t),n)},vr=ir,gr=Gn;var yr=function(t,n,e){var r=n(t);return gr(t)?r:vr(r,e(t))},mr=yr,br=nr,_r=Le;var wr=function(t){return mr(t,_r,br)},xr=yr,Er=lr,kr=qe;var jr=function(t){return xr(t,kr,Er)},Mr=jt(B,"DataView"),Ar=jt(B,"Promise"),Nr=jt(B,"Set"),Or=Mr,Sr=Mt,Cr=Ar,Lr=Nr,Pr=jt(B,"WeakMap"),Ir=et,Dr=ht,zr=Dr(Or),Tr=Dr(Sr),$r=Dr(Cr),Vr=Dr(Lr),Rr=Dr(Pr),Fr=Ir;(Or&&"[object DataView]"!=Fr(new Or(new ArrayBuffer(1)))||Sr&&"[object Map]"!=Fr(new Sr)||Cr&&"[object Promise]"!=Fr(Cr.resolve())||Lr&&"[object Set]"!=Fr(new Lr)||Pr&&"[object WeakMap]"!=Fr(new Pr))&&(Fr=function(t){var n=Ir(t),e="[object Object]"==n?t.constructor:void 0,r=e?Dr(e):"";if(r)switch(r){case zr:return"[object DataView]";case Tr:return"[object Map]";case $r:return"[object Promise]";case Vr:return"[object Set]";case Rr:return"[object WeakMap]"}return n});var Ur=Fr,qr=Object.prototype.hasOwnProperty;var Br=function(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&qr.call(t,"index")&&(e.index=t.index,e.input=t.input),e},Hr=B.Uint8Array,Xr=Hr;var Gr=function(t){var n=new t.constructor(t.byteLength);return new Xr(n).set(new Xr(t)),n},Wr=Gr;var Yr=function(t,n){var e=n?Wr(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)},Zr=/\w*$/;var Kr=function(t){var n=new t.constructor(t.source,Zr.exec(t));return n.lastIndex=t.lastIndex,n},Qr=H?H.prototype:void 0,Jr=Qr?Qr.valueOf:void 0;var to=Gr;var no=Gr,eo=Yr,ro=Kr,oo=function(t){return Jr?Object(Jr.call(t)):{}},io=function(t,n){var e=n?to(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)};var ao=function(t,n,e){var r=t.constructor;switch(n){case"[object ArrayBuffer]":return no(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return eo(t,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return io(t,e);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ro(t);case"[object Set]":return new r;case"[object Symbol]":return oo(t)}},uo=rt,so=Object.create,co=function(){function t(){}return function(n){if(!uo(n))return{};if(so)return so(n);t.prototype=n;var e=new t;return t.prototype=void 0,e}}(),fo=co,lo=ar,ho=be;var po=function(t){return"function"!=typeof t.constructor||ho(t)?{}:fo(lo(t))},vo=Ur,go=Sn;var yo=function(t){return go(t)&&"[object Map]"==vo(t)},mo=re,bo=oe.exports,_o=bo&&bo.isMap,wo=_o?mo(_o):yo,xo=Ur,Eo=Sn;var ko=function(t){return Eo(t)&&"[object Set]"==xo(t)},jo=re,Mo=oe.exports,Ao=Mo&&Mo.isSet,No=Ao?jo(Ao):ko,Oo=gn,So=yn,Co=jn,Lo=De,Po=Xe,Io=Ge.exports,Do=We,zo=or,To=pr,$o=wr,Vo=jr,Ro=Ur,Fo=Br,Uo=ao,qo=po,Bo=Gn,Ho=Wn.exports,Xo=wo,Go=rt,Wo=No,Yo=Le,Zo=qe,Ko={};Ko["[object Arguments]"]=Ko["[object Array]"]=Ko["[object ArrayBuffer]"]=Ko["[object DataView]"]=Ko["[object Boolean]"]=Ko["[object Date]"]=Ko["[object Float32Array]"]=Ko["[object Float64Array]"]=Ko["[object Int8Array]"]=Ko["[object Int16Array]"]=Ko["[object Int32Array]"]=Ko["[object Map]"]=Ko["[object Number]"]=Ko["[object Object]"]=Ko["[object RegExp]"]=Ko["[object Set]"]=Ko["[object String]"]=Ko["[object Symbol]"]=Ko["[object Uint8Array]"]=Ko["[object Uint8ClampedArray]"]=Ko["[object Uint16Array]"]=Ko["[object Uint32Array]"]=!0,Ko["[object Error]"]=Ko["[object Function]"]=Ko["[object WeakMap]"]=!1;var Qo=function t(n,e,r,o,i,a){var u,s=1&e,c=2&e,f=4&e;if(r&&(u=i?r(n,o,i,a):r(n)),void 0!==u)return u;if(!Go(n))return n;var l=Bo(n);if(l){if(u=Fo(n),!s)return Do(n,u)}else{var h=Ro(n),d="[object Function]"==h||"[object GeneratorFunction]"==h;if(Ho(n))return Io(n,s);if("[object Object]"==h||"[object Arguments]"==h||d&&!i){if(u=c||d?{}:qo(n),!s)return c?To(n,Po(u,n)):zo(n,Lo(u,n))}else{if(!Ko[h])return i?n:{};u=Uo(n,h,s)}}a||(a=new Oo);var p=a.get(n);if(p)return p;a.set(n,u),Wo(n)?n.forEach((function(o){u.add(t(o,e,r,o,n,a))})):Xo(n)&&n.forEach((function(o,i){u.set(i,t(o,e,r,i,n,a))}));var v=l?void 0:(f?c?Vo:$o:c?Zo:Yo)(n);return So(v||n,(function(o,i){v&&(o=n[i=o]),Co(u,i,t(o,e,r,i,n,a))})),u};var Jo=function(t){return Qo(t,4)};var ti=function(t){return function(){return t}};var ni=function(t){return function(n,e,r){for(var o=-1,i=Object(n),a=r(n),u=a.length;u--;){var s=a[t?u:++o];if(!1===e(i[s],s,i))break}return n}}(),ei=Le;var ri=function(t,n){return t&&ni(t,n,ei)},oi=Ne;var ii=function(t,n){return function(e,r){if(null==e)return e;if(!oi(e))return t(e,r);for(var o=e.length,i=n?o:-1,a=Object(e);(n?i--:++i<o)&&!1!==r(a[i],i,a););return e}}(ri);var ai=function(t){return t},ui=ai;var si=yn,ci=ii,fi=function(t){return"function"==typeof t?t:ui},li=Gn;var hi=function(t,n){return(li(t)?si:ci)(t,fi(n))},di=ii;var pi=function(t,n){var e=[];return di(t,(function(t,r,o){n(t,r,o)&&e.push(t)})),e};var vi=on,gi=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},yi=function(t){return this.__data__.has(t)};function mi(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new vi;++n<e;)this.add(t[n])}mi.prototype.add=mi.prototype.push=gi,mi.prototype.has=yi;var bi=mi;var _i=function(t,n){return t.has(n)},wi=bi,xi=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1},Ei=_i;var ki=function(t,n,e,r,o,i){var a=1&e,u=t.length,s=n.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(t),f=i.get(n);if(c&&f)return c==n&&f==t;var l=-1,h=!0,d=2&e?new wi:void 0;for(i.set(t,n),i.set(n,t);++l<u;){var p=t[l],v=n[l];if(r)var g=a?r(v,p,l,n,t,i):r(p,v,l,t,n,i);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!xi(n,(function(t,n){if(!Ei(d,n)&&(p===t||o(p,t,e,r,i)))return d.push(n)}))){h=!1;break}}else if(p!==v&&!o(p,v,e,r,i)){h=!1;break}}return i.delete(t),i.delete(n),h};var ji=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e},Mi=Hr,Ai=w,Ni=ki,Oi=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e},Si=ji,Ci=H?H.prototype:void 0,Li=Ci?Ci.valueOf:void 0;var Pi=function(t,n,e,r,o,i,a){switch(e){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=n.byteLength||!i(new Mi(t),new Mi(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ai(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var u=Oi;case"[object Set]":var s=1&r;if(u||(u=Si),t.size!=n.size&&!s)return!1;var c=a.get(t);if(c)return c==n;r|=2,a.set(t,n);var f=Ni(u(t),u(n),r,o,i,a);return a.delete(t),f;case"[object Symbol]":if(Li)return Li.call(t)==Li.call(n)}return!1},Ii=wr,Di=Object.prototype.hasOwnProperty;var zi=gn,Ti=ki,$i=Pi,Vi=function(t,n,e,r,o,i){var a=1&e,u=Ii(t),s=u.length;if(s!=Ii(n).length&&!a)return!1;for(var c=s;c--;){var f=u[c];if(!(a?f in n:Di.call(n,f)))return!1}var l=i.get(t),h=i.get(n);if(l&&h)return l==n&&h==t;var d=!0;i.set(t,n),i.set(n,t);for(var p=a;++c<s;){var v=t[f=u[c]],g=n[f];if(r)var y=a?r(g,v,f,n,t,i):r(v,g,f,t,n,i);if(!(void 0===y?v===g||o(v,g,e,r,i):y)){d=!1;break}p||(p="constructor"==f)}if(d&&!p){var m=t.constructor,b=n.constructor;m==b||!("constructor"in t)||!("constructor"in n)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return i.delete(t),i.delete(n),d},Ri=Ur,Fi=Gn,Ui=Wn.exports,qi=ce,Bi="[object Object]",Hi=Object.prototype.hasOwnProperty;var Xi=function(t,n,e,r,o,i){var a=Fi(t),u=Fi(n),s=a?"[object Array]":Ri(t),c=u?"[object Array]":Ri(n),f=(s="[object Arguments]"==s?Bi:s)==Bi,l=(c="[object Arguments]"==c?Bi:c)==Bi,h=s==c;if(h&&Ui(t)){if(!Ui(n))return!1;a=!0,f=!1}if(h&&!f)return i||(i=new zi),a||qi(t)?Ti(t,n,e,r,o,i):$i(t,n,s,e,r,o,i);if(!(1&e)){var d=f&&Hi.call(t,"__wrapped__"),p=l&&Hi.call(n,"__wrapped__");if(d||p){var v=d?t.value():t,g=p?n.value():n;return i||(i=new zi),o(v,g,e,r,i)}}return!!h&&(i||(i=new zi),Vi(t,n,e,r,o,i))},Gi=Sn;var Wi=function t(n,e,r,o,i){return n===e||(null==n||null==e||!Gi(n)&&!Gi(e)?n!=n&&e!=e:Xi(n,e,r,o,t,i))},Yi=gn,Zi=Wi;var Ki=rt;var Qi=function(t){return t==t&&!Ki(t)},Ji=Qi,ta=Le;var na=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}},ea=function(t,n,e,r){var o=e.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=e[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var s=(u=e[o])[0],c=t[s],f=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var l=new Yi;if(r)var h=r(c,f,s,t,n,l);if(!(void 0===h?Zi(f,c,3,r,l):h))return!1}}return!0},ra=function(t){for(var n=ta(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,Ji(o)]}return n},oa=na;var ia=function(t){var n=ra(t);return 1==n.length&&n[0][2]?oa(n[0][0],n[0][1]):function(e){return e===t||ea(e,t,n)}},aa=et,ua=Sn;var sa=function(t){return"symbol"==typeof t||ua(t)&&"[object Symbol]"==aa(t)},ca=Gn,fa=sa,la=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ha=/^\w*$/;var da=function(t,n){if(ca(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!fa(t))||(ha.test(t)||!la.test(t)||null!=n&&t in Object(n))},pa=on;function va(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return e.cache=i.set(o,a)||i,a};return e.cache=new(va.Cache||pa),e}va.Cache=pa;var ga=va;var ya=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ma=/\\(\\)?/g,ba=function(t){var n=ga(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(ya,(function(t,e,r,o){n.push(r?o.replace(ma,"$1"):e||t)})),n}));var _a=function(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o},wa=_a,xa=Gn,Ea=sa,ka=H?H.prototype:void 0,ja=ka?ka.toString:void 0;var Ma=function t(n){if("string"==typeof n)return n;if(xa(n))return wa(n,t)+"";if(Ea(n))return ja?ja.call(n):"";var e=n+"";return"0"==e&&1/n==-Infinity?"-0":e};var Aa=Gn,Na=da,Oa=ba,Sa=function(t){return null==t?"":Ma(t)};var Ca=function(t,n){return Aa(t)?t:Na(t,n)?[t]:Oa(Sa(t))},La=sa;var Pa=function(t){if("string"==typeof t||La(t))return t;var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},Ia=Ca,Da=Pa;var za=function(t,n){for(var e=0,r=(n=Ia(n,t)).length;null!=t&&e<r;)t=t[Da(n[e++])];return e&&e==r?t:void 0},Ta=za;var $a=Ca,Va=Xn,Ra=Gn,Fa=Zn,Ua=Kn,qa=Pa;var Ba=function(t,n,e){for(var r=-1,o=(n=$a(n,t)).length,i=!1;++r<o;){var a=qa(n[r]);if(!(i=null!=t&&e(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&Ua(o)&&Fa(a,o)&&(Ra(t)||Va(t))},Ha=function(t,n){return null!=t&&n in Object(t)},Xa=Ba;var Ga=Wi,Wa=function(t,n,e){var r=null==t?void 0:Ta(t,n);return void 0===r?e:r},Ya=function(t,n){return null!=t&&Xa(t,n,Ha)},Za=da,Ka=Qi,Qa=na,Ja=Pa;var tu=function(t){return function(n){return null==n?void 0:n[t]}},nu=za;var eu=tu,ru=function(t){return function(n){return nu(n,t)}},ou=da,iu=Pa;var au=ia,uu=function(t,n){return Za(t)&&Ka(n)?Qa(Ja(t),n):function(e){var r=Wa(e,t);return void 0===r&&r===n?Ya(e,t):Ga(n,r,3)}},su=ai,cu=Gn,fu=function(t){return ou(t)?eu(iu(t)):ru(t)};var lu=function(t){return"function"==typeof t?t:null==t?su:"object"==typeof t?cu(t)?uu(t[0],t[1]):au(t):fu(t)},hu=Ye,du=pi,pu=lu,vu=Gn;var gu=function(t,n){return(vu(t)?hu:du)(t,pu(n))},yu=Object.prototype.hasOwnProperty;var mu=function(t,n){return null!=t&&yu.call(t,n)},bu=Ba;var _u=function(t,n){return null!=t&&bu(t,n,mu)},wu=je,xu=Ur,Eu=Xn,ku=Gn,ju=Ne,Mu=Wn.exports,Au=be,Nu=ce,Ou=Object.prototype.hasOwnProperty;var Su=function(t){if(null==t)return!0;if(ju(t)&&(ku(t)||"string"==typeof t||"function"==typeof t.splice||Mu(t)||Nu(t)||Eu(t)))return!t.length;var n=xu(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(Au(t))return!wu(t).length;for(var e in t)if(Ou.call(t,e))return!1;return!0};var Cu=function(t){return void 0===t},Lu=ii,Pu=Ne;var Iu=_a,Du=lu,zu=function(t,n){var e=-1,r=Pu(t)?Array(t.length):[];return Lu(t,(function(t,o,i){r[++e]=n(t,o,i)})),r},Tu=Gn;var $u=function(t,n){return(Tu(t)?Iu:zu)(t,Du(n))};var Vu=function(t,n,e,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(e=t[++o]);++o<i;)e=n(e,t[o],o,t);return e},Ru=ii,Fu=lu,Uu=function(t,n,e,r,o){return o(t,(function(t,o,i){e=r?(r=!1,t):n(e,t,o,i)})),e},qu=Gn;var Bu=function(t,n,e){var r=qu(t)?Vu:Uu,o=arguments.length<3;return r(t,Fu(n),e,o,Ru)},Hu=et,Xu=Gn,Gu=Sn;var Wu=function(t){return"string"==typeof t||!Xu(t)&&Gu(t)&&"[object String]"==Hu(t)},Yu=tu("length"),Zu=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ku=function(t){return Zu.test(t)},Qu="[\\ud800-\\udfff]",Ju="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ts="\\ud83c[\\udffb-\\udfff]",ns="[^\\ud800-\\udfff]",es="(?:\\ud83c[\\udde6-\\uddff]){2}",rs="[\\ud800-\\udbff][\\udc00-\\udfff]",os="(?:"+Ju+"|"+ts+")"+"?",is="[\\ufe0e\\ufe0f]?"+os+("(?:\\u200d(?:"+[ns,es,rs].join("|")+")[\\ufe0e\\ufe0f]?"+os+")*"),as="(?:"+[ns+Ju+"?",Ju,es,rs,Qu].join("|")+")",us=RegExp(ts+"(?="+ts+")|"+as+is,"g");var ss=Yu,cs=Ku,fs=function(t){for(var n=us.lastIndex=0;us.test(t);)++n;return n};var ls=je,hs=Ur,ds=Ne,ps=Wu,vs=function(t){return cs(t)?fs(t):ss(t)};var gs=function(t){if(null==t)return 0;if(ds(t))return ps(t)?vs(t):t.length;var n=hs(t);return"[object Map]"==n||"[object Set]"==n?t.size:ls(t).length},ys=yn,ms=co,bs=ri,_s=lu,ws=ar,xs=Gn,Es=Wn.exports,ks=ut,js=rt,Ms=ce;var As=function(t,n,e){var r=xs(t),o=r||Es(t)||Ms(t);if(n=_s(n),null==e){var i=t&&t.constructor;e=o?r?new i:[]:js(t)&&ks(i)?ms(ws(t)):{}}return(o?ys:bs)(t,(function(t,r,o){return n(e,t,r,o)})),e},Ns=Xn,Os=Gn,Ss=H?H.isConcatSpreadable:void 0;var Cs=ir,Ls=function(t){return Os(t)||Ns(t)||!!(Ss&&t&&t[Ss])};var Ps=function t(n,e,r,o,i){var a=-1,u=n.length;for(r||(r=Ls),i||(i=[]);++a<u;){var s=n[a];e>0&&r(s)?e>1?t(s,e-1,r,o,i):Cs(i,s):o||(i[i.length]=s)}return i};var Is=function(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)},Ds=Math.max;var zs=function(t,n,e){return n=Ds(void 0===n?t.length-1:n,0),function(){for(var r=arguments,o=-1,i=Ds(r.length-n,0),a=Array(i);++o<i;)a[o]=r[n+o];o=-1;for(var u=Array(n+1);++o<n;)u[o]=r[o];return u[n]=e(a),Is(t,this,u)}},Ts=ti,$s=bn,Vs=$s?function(t,n){return $s(t,"toString",{configurable:!0,enumerable:!1,value:Ts(n),writable:!0})}:ai,Rs=Date.now;var Fs=function(t){var n=0,e=0;return function(){var r=Rs(),o=16-(r-e);if(e=r,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}(Vs),Us=ai,qs=zs,Bs=Fs;var Hs=function(t,n){return Bs(qs(t,n,Us),t+"")};var Xs=function(t,n,e,r){for(var o=t.length,i=e+(r?1:-1);r?i--:++i<o;)if(n(t[i],i,t))return i;return-1},Gs=function(t){return t!=t},Ws=function(t,n,e){for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1};var Ys=function(t,n,e){return n==n?Ws(t,n,e):Xs(t,Gs,e)};var Zs=function(t,n){return!!(null==t?0:t.length)&&Ys(t,n,0)>-1};var Ks=function(t,n,e){for(var r=-1,o=null==t?0:t.length;++r<o;)if(e(n,t[r]))return!0;return!1};var Qs=Nr,Js=function(){},tc=Qs&&1/ji(new Qs([,-0]))[1]==1/0?function(t){return new Qs(t)}:Js,nc=bi,ec=Zs,rc=Ks,oc=_i,ic=tc,ac=ji;var uc=Ne,sc=Sn;var cc=Ps,fc=function(t,n,e){var r=-1,o=ec,i=t.length,a=!0,u=[],s=u;if(e)a=!1,o=rc;else if(i>=200){var c=n?null:ic(t);if(c)return ac(c);a=!1,o=oc,s=new nc}else s=n?[]:u;t:for(;++r<i;){var f=t[r],l=n?n(f):f;if(f=e||0!==f?f:0,a&&l==l){for(var h=s.length;h--;)if(s[h]===l)continue t;n&&s.push(l),u.push(f)}else o(s,l,e)||(s!==u&&s.push(l),u.push(f))}return u},lc=function(t){return sc(t)&&uc(t)},hc=Hs((function(t){return fc(cc(t,1,lc,!0))})),dc=_a;var pc=function(t,n){return dc(n,(function(n){return t[n]}))},vc=Le;var gc,yc=function(t){return null==t?[]:pc(t,vc(t))};if("function"==typeof n)try{gc={clone:Jo,constant:ti,each:hi,filter:gu,has:_u,isArray:Gn,isEmpty:Su,isFunction:ut,isUndefined:Cu,keys:Le,map:$u,reduce:Bu,size:gs,transform:As,union:hc,values:yc}}catch(iv){}gc||(gc=window._);var mc=gc,bc=mc,_c=wc;function wc(t){this._isDirected=!bc.has(t,"directed")||t.directed,this._isMultigraph=!!bc.has(t,"multigraph")&&t.multigraph,this._isCompound=!!bc.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=bc.constant(void 0),this._defaultEdgeLabelFn=bc.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function xc(t,n){t[n]?t[n]++:t[n]=1}function Ec(t,n){--t[n]||delete t[n]}function kc(t,n,e,r){var o=""+n,i=""+e;if(!t&&o>i){var a=o;o=i,i=a}return o+""+i+""+(bc.isUndefined(r)?"\0":r)}function jc(t,n,e,r){var o=""+n,i=""+e;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function Mc(t,n){return kc(t,n.v,n.w,n.name)}wc.prototype._nodeCount=0,wc.prototype._edgeCount=0,wc.prototype.isDirected=function(){return this._isDirected},wc.prototype.isMultigraph=function(){return this._isMultigraph},wc.prototype.isCompound=function(){return this._isCompound},wc.prototype.setGraph=function(t){return this._label=t,this},wc.prototype.graph=function(){return this._label},wc.prototype.setDefaultNodeLabel=function(t){return bc.isFunction(t)||(t=bc.constant(t)),this._defaultNodeLabelFn=t,this},wc.prototype.nodeCount=function(){return this._nodeCount},wc.prototype.nodes=function(){return bc.keys(this._nodes)},wc.prototype.sources=function(){var t=this;return bc.filter(this.nodes(),(function(n){return bc.isEmpty(t._in[n])}))},wc.prototype.sinks=function(){var t=this;return bc.filter(this.nodes(),(function(n){return bc.isEmpty(t._out[n])}))},wc.prototype.setNodes=function(t,n){var e=arguments,r=this;return bc.each(t,(function(t){e.length>1?r.setNode(t,n):r.setNode(t)})),this},wc.prototype.setNode=function(t,n){return bc.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=n),this):(this._nodes[t]=arguments.length>1?n:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\0",this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},wc.prototype.node=function(t){return this._nodes[t]},wc.prototype.hasNode=function(t){return bc.has(this._nodes,t)},wc.prototype.removeNode=function(t){var n=this;if(bc.has(this._nodes,t)){var e=function(t){n.removeEdge(n._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],bc.each(this.children(t),(function(t){n.setParent(t)})),delete this._children[t]),bc.each(bc.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],bc.each(bc.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},wc.prototype.setParent=function(t,n){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(bc.isUndefined(n))n="\0";else{for(var e=n+="";!bc.isUndefined(e);e=this.parent(e))if(e===t)throw new Error("Setting "+n+" as parent of "+t+" would create a cycle");this.setNode(n)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=n,this._children[n][t]=!0,this},wc.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},wc.prototype.parent=function(t){if(this._isCompound){var n=this._parent[t];if("\0"!==n)return n}},wc.prototype.children=function(t){if(bc.isUndefined(t)&&(t="\0"),this._isCompound){var n=this._children[t];if(n)return bc.keys(n)}else{if("\0"===t)return this.nodes();if(this.hasNode(t))return[]}},wc.prototype.predecessors=function(t){var n=this._preds[t];if(n)return bc.keys(n)},wc.prototype.successors=function(t){var n=this._sucs[t];if(n)return bc.keys(n)},wc.prototype.neighbors=function(t){var n=this.predecessors(t);if(n)return bc.union(n,this.successors(t))},wc.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},wc.prototype.filterNodes=function(t){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});n.setGraph(this.graph());var e=this;bc.each(this._nodes,(function(e,r){t(r)&&n.setNode(r,e)})),bc.each(this._edgeObjs,(function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,e.edge(t))}));var r={};function o(t){var i=e.parent(t);return void 0===i||n.hasNode(i)?(r[t]=i,i):i in r?r[i]:o(i)}return this._isCompound&&bc.each(n.nodes(),(function(t){n.setParent(t,o(t))})),n},wc.prototype.setDefaultEdgeLabel=function(t){return bc.isFunction(t)||(t=bc.constant(t)),this._defaultEdgeLabelFn=t,this},wc.prototype.edgeCount=function(){return this._edgeCount},wc.prototype.edges=function(){return bc.values(this._edgeObjs)},wc.prototype.setPath=function(t,n){var e=this,r=arguments;return bc.reduce(t,(function(t,o){return r.length>1?e.setEdge(t,o,n):e.setEdge(t,o),o})),this},wc.prototype.setEdge=function(){var t,n,e,r,o=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(t=i.v,n=i.w,e=i.name,2===arguments.length&&(r=arguments[1],o=!0)):(t=i,n=arguments[1],e=arguments[3],arguments.length>2&&(r=arguments[2],o=!0)),t=""+t,n=""+n,bc.isUndefined(e)||(e=""+e);var a=kc(this._isDirected,t,n,e);if(bc.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=r),this;if(!bc.isUndefined(e)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(n),this._edgeLabels[a]=o?r:this._defaultEdgeLabelFn(t,n,e);var u=jc(this._isDirected,t,n,e);return t=u.v,n=u.w,Object.freeze(u),this._edgeObjs[a]=u,xc(this._preds[n],t),xc(this._sucs[t],n),this._in[n][a]=u,this._out[t][a]=u,this._edgeCount++,this},wc.prototype.edge=function(t,n,e){var r=1===arguments.length?Mc(this._isDirected,arguments[0]):kc(this._isDirected,t,n,e);return this._edgeLabels[r]},wc.prototype.hasEdge=function(t,n,e){var r=1===arguments.length?Mc(this._isDirected,arguments[0]):kc(this._isDirected,t,n,e);return bc.has(this._edgeLabels,r)},wc.prototype.removeEdge=function(t,n,e){var r=1===arguments.length?Mc(this._isDirected,arguments[0]):kc(this._isDirected,t,n,e),o=this._edgeObjs[r];return o&&(t=o.v,n=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],Ec(this._preds[n],t),Ec(this._sucs[t],n),delete this._in[n][r],delete this._out[t][r],this._edgeCount--),this},wc.prototype.inEdges=function(t,n){var e=this._in[t];if(e){var r=bc.values(e);return n?bc.filter(r,(function(t){return t.v===n})):r}},wc.prototype.outEdges=function(t,n){var e=this._out[t];if(e){var r=bc.values(e);return n?bc.filter(r,(function(t){return t.w===n})):r}},wc.prototype.nodeEdges=function(t,n){var e=this.inEdges(t,n);if(e)return e.concat(this.outEdges(t,n))};var Ac={Graph:_c,version:"2.1.8"},Nc=mc,Oc=_c,Sc={write:function(t){var n={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Cc(t),edges:Lc(t)};Nc.isUndefined(t.graph())||(n.value=Nc.clone(t.graph()));return n},read:function(t){var n=new Oc(t.options).setGraph(t.value);return Nc.each(t.nodes,(function(t){n.setNode(t.v,t.value),t.parent&&n.setParent(t.v,t.parent)})),Nc.each(t.edges,(function(t){n.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),n}};function Cc(t){return Nc.map(t.nodes(),(function(n){var e=t.node(n),r=t.parent(n),o={v:n};return Nc.isUndefined(e)||(o.value=e),Nc.isUndefined(r)||(o.parent=r),o}))}function Lc(t){return Nc.map(t.edges(),(function(n){var e=t.edge(n),r={v:n.v,w:n.w};return Nc.isUndefined(n.name)||(r.name=n.name),Nc.isUndefined(e)||(r.value=e),r}))}var Pc=mc,Ic=function(t){var n,e={},r=[];function o(r){Pc.has(e,r)||(e[r]=!0,n.push(r),Pc.each(t.successors(r),o),Pc.each(t.predecessors(r),o))}return Pc.each(t.nodes(),(function(t){n=[],o(t),n.length&&r.push(n)})),r};var Dc=mc,zc=Tc;function Tc(){this._arr=[],this._keyIndices={}}Tc.prototype.size=function(){return this._arr.length},Tc.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},Tc.prototype.has=function(t){return Dc.has(this._keyIndices,t)},Tc.prototype.priority=function(t){var n=this._keyIndices[t];if(void 0!==n)return this._arr[n].priority},Tc.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},Tc.prototype.add=function(t,n){var e=this._keyIndices;if(t=String(t),!Dc.has(e,t)){var r=this._arr,o=r.length;return e[t]=o,r.push({key:t,priority:n}),this._decrease(o),!0}return!1},Tc.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},Tc.prototype.decrease=function(t,n){var e=this._keyIndices[t];if(n>this._arr[e].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[e].priority+" New: "+n);this._arr[e].priority=n,this._decrease(e)},Tc.prototype._heapify=function(t){var n=this._arr,e=2*t,r=e+1,o=t;e<n.length&&(o=n[e].priority<n[o].priority?e:o,r<n.length&&(o=n[r].priority<n[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},Tc.prototype._decrease=function(t){for(var n,e=this._arr,r=e[t].priority;0!==t&&!(e[n=t>>1].priority<r);)this._swap(t,n),t=n},Tc.prototype._swap=function(t,n){var e=this._arr,r=this._keyIndices,o=e[t],i=e[n];e[t]=i,e[n]=o,r[i.key]=t,r[o.key]=n};var $c=zc,Vc=function(t,n,e,r){return function(t,n,e,r){var o,i,a={},u=new $c,s=function(t){var n=t.v!==o?t.v:t.w,r=a[n],s=e(t),c=i.distance+s;if(s<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+s);c<r.distance&&(r.distance=c,r.predecessor=o,u.decrease(n,c))};t.nodes().forEach((function(t){var e=t===n?0:Number.POSITIVE_INFINITY;a[t]={distance:e},u.add(t,e)}));for(;u.size()>0&&(o=u.removeMin(),(i=a[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(s);return a}(t,String(n),e||Rc,r||function(n){return t.outEdges(n)})},Rc=mc.constant(1);var Fc=Vc,Uc=mc,qc=function(t,n,e){return Uc.transform(t.nodes(),(function(r,o){r[o]=Fc(t,o,n,e)}),{})};var Bc=mc,Hc=function(t){var n=0,e=[],r={},o=[];function i(a){var u=r[a]={onStack:!0,lowlink:n,index:n++};if(e.push(a),t.successors(a).forEach((function(t){Bc.has(r,t)?r[t].onStack&&(u.lowlink=Math.min(u.lowlink,r[t].index)):(i(t),u.lowlink=Math.min(u.lowlink,r[t].lowlink))})),u.lowlink===u.index){var s,c=[];do{s=e.pop(),r[s].onStack=!1,c.push(s)}while(a!==s);o.push(c)}}return t.nodes().forEach((function(t){Bc.has(r,t)||i(t)})),o};var Xc=mc,Gc=Hc,Wc=function(t){return Xc.filter(Gc(t),(function(n){return n.length>1||1===n.length&&t.hasEdge(n[0],n[0])}))};var Yc=function(t,n,e){return function(t,n,e){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(n){t!==n&&(r[t][n]={distance:Number.POSITIVE_INFINITY})})),e(t).forEach((function(e){var o=e.v===t?e.w:e.v,i=n(e);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var n=r[t];o.forEach((function(e){var i=r[e];o.forEach((function(e){var r=i[t],o=n[e],a=i[e],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(t,n||Zc,e||function(n){return t.outEdges(n)})},Zc=mc.constant(1);var Kc=mc,Qc=Jc;function Jc(t){var n={},e={},r=[];if(Kc.each(t.sinks(),(function o(i){if(Kc.has(e,i))throw new tf;Kc.has(n,i)||(e[i]=!0,n[i]=!0,Kc.each(t.predecessors(i),o),delete e[i],r.push(i))})),Kc.size(n)!==t.nodeCount())throw new tf;return r}function tf(){}Jc.CycleException=tf,tf.prototype=new Error;var nf=Qc;var ef=mc,rf=function(t,n,e){ef.isArray(n)||(n=[n]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),o=[],i={};return ef.each(n,(function(n){if(!t.hasNode(n))throw new Error("Graph does not have node: "+n);of(t,n,"post"===e,i,r,o)})),o};function of(t,n,e,r,o,i){ef.has(r,n)||(r[n]=!0,e||i.push(n),ef.each(o(n),(function(n){of(t,n,e,r,o,i)})),e&&i.push(n))}var af=rf;var uf=rf;var sf=mc,cf=_c,ff=zc;var lf={Graph:Ac.Graph,json:Sc,alg:{components:Ic,dijkstra:Vc,dijkstraAll:qc,findCycles:Wc,floydWarshall:Yc,isAcyclic:function(t){try{nf(t)}catch(iv){if(iv instanceof nf.CycleException)return!1;throw iv}return!0},postorder:function(t,n){return af(t,n,"post")},preorder:function(t,n){return uf(t,n,"pre")},prim:function(t,n){var e,r=new cf,o={},i=new ff;function a(t){var r=t.v===e?t.w:t.v,a=i.priority(r);if(void 0!==a){var u=n(t);u<a&&(o[r]=e,i.decrease(r,u))}}if(0===t.nodeCount())return r;sf.each(t.nodes(),(function(t){i.add(t,Number.POSITIVE_INFINITY),r.setNode(t)})),i.decrease(t.nodes()[0],0);var u=!1;for(;i.size()>0;){if(e=i.removeMin(),sf.has(o,e))r.setEdge(e,o[e]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(e).forEach(a)}return r},tarjan:Hc,topsort:Qc},version:Ac.version};function hf(){}function df(t,n){var e=new hf;if(t instanceof hf)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==n)for(;++o<i;)e.set(o,t[o]);else for(;++o<i;)e.set(n(r=t[o],o,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function pf(){var t,n,e,r=[],o=[];function i(e,o,a,u){if(o>=r.length)return null!=t&&e.sort(t),null!=n?n(e):e;for(var s,c,f,l=-1,h=e.length,d=r[o++],p=df(),v=a();++l<h;)(f=p.get(s=d(c=e[l])+""))?f.push(c):p.set(s,[c]);return p.each((function(t,n){u(v,n,i(t,o,a,u))})),v}function a(t,e){if(++e>r.length)return t;var i,u=o[e-1];return null!=n&&e>=r.length?i=t.entries():(i=[],t.each((function(t,n){i.push({key:n,values:a(t,e)})}))),null!=u?i.sort((function(t,n){return u(t.key,n.key)})):i}return e={object:function(t){return i(t,0,vf,gf)},map:function(t){return i(t,0,yf,mf)},entries:function(t){return a(i(t,0,yf,mf),0)},key:function(t){return r.push(t),e},sortKeys:function(t){return o[r.length-1]=t,e},sortValues:function(n){return t=n,e},rollup:function(t){return n=t,e}}}function vf(){return{}}function gf(t,n,e){t[n]=e}function yf(){return df()}function mf(t,n,e){t.set(n,e)}function bf(){}hf.prototype=df.prototype={constructor:hf,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var _f=df.prototype;function wf(t,n){var e=new bf;if(t instanceof bf)t.each((function(t){e.add(t)}));else if(t){var r=-1,o=t.length;if(null==n)for(;++r<o;)e.add(t[r]);else for(;++r<o;)e.add(n(t[r],r,t))}return e}function xf(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Ef(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function kf(){}bf.prototype=wf.prototype={constructor:bf,has:_f.has,add:function(t){return this["$"+(t+="")]=t,this},remove:_f.remove,clear:_f.clear,values:_f.keys,size:_f.size,empty:_f.empty,each:_f.each};var jf=1/.7,Mf="\\s*([+-]?\\d+)\\s*",Af="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Of=/^#([0-9a-f]{3,8})$/,Sf=new RegExp("^rgb\\("+[Mf,Mf,Mf]+"\\)$"),Cf=new RegExp("^rgb\\("+[Nf,Nf,Nf]+"\\)$"),Lf=new RegExp("^rgba\\("+[Mf,Mf,Mf,Af]+"\\)$"),Pf=new RegExp("^rgba\\("+[Nf,Nf,Nf,Af]+"\\)$"),If=new RegExp("^hsl\\("+[Af,Nf,Nf]+"\\)$"),Df=new RegExp("^hsla\\("+[Af,Nf,Nf,Af]+"\\)$"),zf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tf(){return this.rgb().formatHex()}function $f(){return this.rgb().formatRgb()}function Vf(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Of.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Rf(n):3===e?new Bf(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Ff(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Ff(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Sf.exec(t))?new Bf(n[1],n[2],n[3],1):(n=Cf.exec(t))?new Bf(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Lf.exec(t))?Ff(n[1],n[2],n[3],n[4]):(n=Pf.exec(t))?Ff(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=If.exec(t))?Wf(n[1],n[2]/100,n[3]/100,1):(n=Df.exec(t))?Wf(n[1],n[2]/100,n[3]/100,n[4]):zf.hasOwnProperty(t)?Rf(zf[t]):"transparent"===t?new Bf(NaN,NaN,NaN,0):null}function Rf(t){return new Bf(t>>16&255,t>>8&255,255&t,1)}function Ff(t,n,e,r){return r<=0&&(t=n=e=NaN),new Bf(t,n,e,r)}function Uf(t){return t instanceof kf||(t=Vf(t)),t?new Bf((t=t.rgb()).r,t.g,t.b,t.opacity):new Bf}function qf(t,n,e,r){return 1===arguments.length?Uf(t):new Bf(t,n,e,null==r?1:r)}function Bf(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Hf(){return"#"+Gf(this.r)+Gf(this.g)+Gf(this.b)}function Xf(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Gf(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Wf(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Zf(t,n,e,r)}function Yf(t){if(t instanceof Zf)return new Zf(t.h,t.s,t.l,t.opacity);if(t instanceof kf||(t=Vf(t)),!t)return new Zf;if(t instanceof Zf)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),i=Math.max(n,e,r),a=NaN,u=i-o,s=(i+o)/2;return u?(a=n===i?(e-r)/u+6*(e<r):e===i?(r-n)/u+2:(n-e)/u+4,u/=s<.5?i+o:2-i-o,a*=60):u=s>0&&s<1?0:a,new Zf(a,u,s,t.opacity)}function Zf(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Kf(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Qf(t){return function(){return t}}function Jf(t){return 1==(t=+t)?tl:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Qf(isNaN(n)?e:n)}}function tl(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Qf(isNaN(t)?n:t)}xf(kf,Vf,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tf,formatHex:Tf,formatHsl:function(){return Yf(this).formatHsl()},formatRgb:$f,toString:$f}),xf(Bf,qf,Ef(kf,{brighter:function(t){return t=null==t?jf:Math.pow(jf,t),new Bf(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Bf(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hf,formatHex:Hf,formatRgb:Xf,toString:Xf})),xf(Zf,(function(t,n,e,r){return 1===arguments.length?Yf(t):new Zf(t,n,e,null==r?1:r)}),Ef(kf,{brighter:function(t){return t=null==t?jf:Math.pow(jf,t),new Zf(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zf(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new Bf(Kf(t>=240?t-240:t+120,o,r),Kf(t,o,r),Kf(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var nl=function t(n){var e=Jf(n);function r(t,n){var r=e((t=qf(t)).r,(n=qf(n)).r),o=e(t.g,n.g),i=e(t.b,n.b),a=tl(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=o(n),t.b=i(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function el(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,o=n.slice();return function(i){for(e=0;e<r;++e)o[e]=t[e]*(1-i)+n[e]*i;return o}}function rl(t,n){var e,r=n?n.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(e=0;e<o;++e)i[e]=fl(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<o;++e)a[e]=i[e](t);return a}}function ol(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function il(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function al(t,n){var e,r={},o={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=fl(t[e],n[e]):o[e]=n[e];return function(t){for(e in r)o[e]=r[e](t);return o}}var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(ul.source,"g");function cl(t,n){var e,r,o,i=ul.lastIndex=sl.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=ul.exec(t))&&(r=sl.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:il(e,r)})),i=sl.lastIndex;return i<n.length&&(o=n.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function fl(t,n){var e,r,o=typeof n;return null==n||"boolean"===o?Qf(n):("number"===o?il:"string"===o?(e=Vf(n))?(n=e,nl):cl:n instanceof Vf?nl:n instanceof Date?ol:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?rl:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?al:il:el))(t,n)}var ll="http://www.w3.org/1999/xhtml",hl={svg:"http://www.w3.org/2000/svg",xhtml:ll,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dl(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),hl.hasOwnProperty(n)?{space:hl[n],local:t}:t}function pl(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ll&&n.documentElement.namespaceURI===ll?n.createElement(t):n.createElementNS(e,t)}}function vl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gl(t){var n=dl(t);return(n.local?vl:pl)(n)}function yl(){}function ml(t){return null==t?yl:function(){return this.querySelector(t)}}function bl(){return[]}function _l(t){return null==t?bl:function(){return this.querySelectorAll(t)}}function wl(t){return function(){return this.matches(t)}}function xl(t){return new Array(t.length)}function El(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}El.prototype={constructor:El,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function kl(t,n,e,r,o,i){for(var a,u=0,s=n.length,c=i.length;u<c;++u)(a=n[u])?(a.__data__=i[u],r[u]=a):e[u]=new El(t,i[u]);for(;u<s;++u)(a=n[u])&&(o[u]=a)}function jl(t,n,e,r,o,i,a){var u,s,c,f={},l=n.length,h=i.length,d=new Array(l);for(u=0;u<l;++u)(s=n[u])&&(d[u]=c="$"+a.call(s,s.__data__,u,n),c in f?o[u]=s:f[c]=s);for(u=0;u<h;++u)(s=f[c="$"+a.call(t,i[u],u,i)])?(r[u]=s,s.__data__=i[u],f[c]=null):e[u]=new El(t,i[u]);for(u=0;u<l;++u)(s=n[u])&&f[d[u]]===s&&(o[u]=s)}function Ml(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Al(t){return function(){this.removeAttribute(t)}}function Nl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ol(t,n){return function(){this.setAttribute(t,n)}}function Sl(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Cl(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Ll(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Pl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Il(t){return function(){this.style.removeProperty(t)}}function Dl(t,n,e){return function(){this.style.setProperty(t,n,e)}}function zl(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Tl(t,n){return t.style.getPropertyValue(n)||Pl(t).getComputedStyle(t,null).getPropertyValue(n)}function $l(t){return function(){delete this[t]}}function Vl(t,n){return function(){this[t]=n}}function Rl(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Fl(t){return t.trim().split(/^|\s+/)}function Ul(t){return t.classList||new ql(t)}function ql(t){this._node=t,this._names=Fl(t.getAttribute("class")||"")}function Bl(t,n){for(var e=Ul(t),r=-1,o=n.length;++r<o;)e.add(n[r])}function Hl(t,n){for(var e=Ul(t),r=-1,o=n.length;++r<o;)e.remove(n[r])}function Xl(t){return function(){Bl(this,t)}}function Gl(t){return function(){Hl(this,t)}}function Wl(t,n){return function(){(n.apply(this,arguments)?Bl:Hl)(this,t)}}function Yl(){this.textContent=""}function Zl(t){return function(){this.textContent=t}}function Kl(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Ql(){this.innerHTML=""}function Jl(t){return function(){this.innerHTML=t}}function th(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function nh(){this.nextSibling&&this.parentNode.appendChild(this)}function eh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rh(){return null}function oh(){var t=this.parentNode;t&&t.removeChild(this)}function ih(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ah(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}ql.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var uh={},sh=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(uh={mouseenter:"mouseover",mouseleave:"mouseout"}));function ch(t,n,e){return t=fh(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function fh(t,n,e){return function(r){var o=sh;sh=r;try{t.call(this,this.__data__,n,e)}finally{sh=o}}}function lh(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function hh(t){return function(){var n=this.__on;if(n){for(var e,r=0,o=-1,i=n.length;r<i;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++o]=e:this.removeEventListener(e.type,e.listener,e.capture);++o?n.length=o:delete this.__on}}}function dh(t,n,e){var r=uh.hasOwnProperty(t.type)?ch:fh;return function(o,i,a){var u,s=this.__on,c=r(n,i,a);if(s)for(var f=0,l=s.length;f<l;++f)if((u=s[f]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function ph(t,n,e){var r=Pl(t),o=r.CustomEvent;"function"==typeof o?o=new o(n,e):(o=r.document.createEvent("Event"),e?(o.initEvent(n,e.bubbles,e.cancelable),o.detail=e.detail):o.initEvent(n,!1,!1)),t.dispatchEvent(o)}function vh(t,n){return function(){return ph(this,t,n)}}function gh(t,n){return function(){return ph(this,t,n.apply(this,arguments))}}var yh=[null];function mh(t,n){this._groups=t,this._parents=n}function bh(){return new mh([[document.documentElement]],yh)}function _h(t){return"string"==typeof t?new mh([[document.querySelector(t)]],[document.documentElement]):new mh([[t]],yh)}mh.prototype=bh.prototype={constructor:mh,select:function(t){"function"!=typeof t&&(t=ml(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a,u=n[o],s=u.length,c=r[o]=new Array(s),f=0;f<s;++f)(i=u[f])&&(a=t.call(i,i.__data__,f,u))&&("__data__"in i&&(a.__data__=i.__data__),c[f]=a);return new mh(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=_l(t));for(var n=this._groups,e=n.length,r=[],o=[],i=0;i<e;++i)for(var a,u=n[i],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),o.push(a));return new mh(r,o)},filter:function(t){"function"!=typeof t&&(t=wl(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],u=a.length,s=r[o]=[],c=0;c<u;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&s.push(i);return new mh(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),f=-1,this.each((function(t){p[++f]=t})),p;var e,r=n?jl:kl,o=this._parents,i=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=i.length,u=new Array(a),s=new Array(a),c=new Array(a),f=0;f<a;++f){var l=o[f],h=i[f],d=h.length,p=t.call(l,l&&l.__data__,f,o),v=p.length,g=s[f]=new Array(v),y=u[f]=new Array(v);r(l,h,g,y,c[f]=new Array(d),p,n);for(var m,b,_=0,w=0;_<v;++_)if(m=g[_]){for(_>=w&&(w=_+1);!(b=y[w])&&++w<v;);m._next=b||null}}return(u=new mh(u,o))._enter=s,u._exit=c,u},enter:function(){return new mh(this._enter||this._groups.map(xl),this._parents)},exit:function(){return new mh(this._exit||this._groups.map(xl),this._parents)},join:function(t,n,e){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(o=n(o)),null==e?i.remove():e(i),r&&o?r.merge(o).order():o},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var s,c=n[u],f=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(s=c[d]||f[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new mh(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,o=t[n],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Ml);for(var e=this._groups,r=e.length,o=new Array(r),i=0;i<r;++i){for(var a,u=e[i],s=u.length,c=o[i]=new Array(s),f=0;f<s;++f)(a=u[f])&&(c[f]=a);c.sort(n)}return new mh(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var o,i=n[e],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,n){var e=dl(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?Nl:Al:"function"==typeof n?e.local?Ll:Cl:e.local?Sl:Ol)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Il:"function"==typeof n?zl:Dl)(t,n,null==e?"":e)):Tl(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?$l:"function"==typeof n?Rl:Vl)(t,n)):this.node()[t]},classed:function(t,n){var e=Fl(t+"");if(arguments.length<2){for(var r=Ul(this.node()),o=-1,i=e.length;++o<i;)if(!r.contains(e[o]))return!1;return!0}return this.each(("function"==typeof n?Wl:n?Xl:Gl)(e,n))},text:function(t){return arguments.length?this.each(null==t?Yl:("function"==typeof t?Kl:Zl)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ql:("function"==typeof t?th:Jl)(t)):this.node().innerHTML},raise:function(){return this.each(nh)},lower:function(){return this.each(eh)},append:function(t){var n="function"==typeof t?t:gl(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:gl(t),r=null==n?rh:"function"==typeof n?n:ml(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(oh)},clone:function(t){return this.select(t?ah:ih)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,o,i=lh(t+""),a=i.length;if(!(arguments.length<2)){for(u=n?dh:hh,null==e&&(e=!1),r=0;r<a;++r)this.each(u(i[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,f=u.length;c<f;++c)for(r=0,s=u[c];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?gh:vh)(t,n))}};var wh=i("start","end","cancel","interrupt"),xh=[];function Eh(t,n,e,r,o,i){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,o=t.__transition;function i(t){e.state=1,e.timer.restart(u,e.delay,e.time),e.delay<=t&&u(t-e.delay)}function u(i){var a,f,l,h;if(1!==e.state)return c();for(a in o)if((h=o[a]).name===e.name){if(3===h.state)return p(u);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[a]):+a<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[a])}if(p((function(){3===e.state&&(e.state=4,e.timer.restart(s,e.delay,e.time),s(i))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),a=0,f=-1;a<l;++a)(h=e.tween[a].value.call(t,t.__data__,e.index,e.group))&&(r[++f]=h);r.length=f+1}}function s(n){for(var o=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(c),e.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var r in e.state=6,e.timer.stop(),delete o[n],o)return;delete t.__transition}o[n]=e,e.timer=a(i,0,e.time)}(t,e,{name:n,index:r,group:o,on:wh,tween:xh,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function kh(t,n){var e=Mh(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function jh(t,n){var e=Mh(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Mh(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Ah(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Nh(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Oh(){}var Sh=1/.7,Ch="\\s*([+-]?\\d+)\\s*",Lh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ph="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ih=/^#([0-9a-f]{3,8})$/,Dh=new RegExp("^rgb\\("+[Ch,Ch,Ch]+"\\)$"),zh=new RegExp("^rgb\\("+[Ph,Ph,Ph]+"\\)$"),Th=new RegExp("^rgba\\("+[Ch,Ch,Ch,Lh]+"\\)$"),$h=new RegExp("^rgba\\("+[Ph,Ph,Ph,Lh]+"\\)$"),Vh=new RegExp("^hsl\\("+[Lh,Ph,Ph]+"\\)$"),Rh=new RegExp("^hsla\\("+[Lh,Ph,Ph,Lh]+"\\)$"),Fh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Uh(){return this.rgb().formatHex()}function qh(){return this.rgb().formatRgb()}function Bh(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ih.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Hh(n):3===e?new Yh(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Xh(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Xh(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Dh.exec(t))?new Yh(n[1],n[2],n[3],1):(n=zh.exec(t))?new Yh(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Th.exec(t))?Xh(n[1],n[2],n[3],n[4]):(n=$h.exec(t))?Xh(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Vh.exec(t))?Jh(n[1],n[2]/100,n[3]/100,1):(n=Rh.exec(t))?Jh(n[1],n[2]/100,n[3]/100,n[4]):Fh.hasOwnProperty(t)?Hh(Fh[t]):"transparent"===t?new Yh(NaN,NaN,NaN,0):null}function Hh(t){return new Yh(t>>16&255,t>>8&255,255&t,1)}function Xh(t,n,e,r){return r<=0&&(t=n=e=NaN),new Yh(t,n,e,r)}function Gh(t){return t instanceof Oh||(t=Bh(t)),t?new Yh((t=t.rgb()).r,t.g,t.b,t.opacity):new Yh}function Wh(t,n,e,r){return 1===arguments.length?Gh(t):new Yh(t,n,e,null==r?1:r)}function Yh(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Zh(){return"#"+Qh(this.r)+Qh(this.g)+Qh(this.b)}function Kh(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Qh(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Jh(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new nd(t,n,e,r)}function td(t){if(t instanceof nd)return new nd(t.h,t.s,t.l,t.opacity);if(t instanceof Oh||(t=Bh(t)),!t)return new nd;if(t instanceof nd)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),i=Math.max(n,e,r),a=NaN,u=i-o,s=(i+o)/2;return u?(a=n===i?(e-r)/u+6*(e<r):e===i?(r-n)/u+2:(n-e)/u+4,u/=s<.5?i+o:2-i-o,a*=60):u=s>0&&s<1?0:a,new nd(a,u,s,t.opacity)}function nd(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ed(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function rd(t){return function(){return t}}function od(t){return 1==(t=+t)?id:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):rd(isNaN(n)?e:n)}}function id(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):rd(isNaN(t)?n:t)}Ah(Oh,Bh,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Uh,formatHex:Uh,formatHsl:function(){return td(this).formatHsl()},formatRgb:qh,toString:qh}),Ah(Yh,Wh,Nh(Oh,{brighter:function(t){return t=null==t?Sh:Math.pow(Sh,t),new Yh(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yh(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zh,formatHex:Zh,formatRgb:Kh,toString:Kh})),Ah(nd,(function(t,n,e,r){return 1===arguments.length?td(t):new nd(t,n,e,null==r?1:r)}),Nh(Oh,{brighter:function(t){return t=null==t?Sh:Math.pow(Sh,t),new nd(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nd(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,o=2*e-r;return new Yh(ed(t>=240?t-240:t+120,o,r),ed(t,o,r),ed(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ad=function t(n){var e=od(n);function r(t,n){var r=e((t=Wh(t)).r,(n=Wh(n)).r),o=e(t.g,n.g),i=e(t.b,n.b),a=id(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=o(n),t.b=i(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function ud(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var sd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cd=new RegExp(sd.source,"g");function fd(t,n){var e,r,o,i=sd.lastIndex=cd.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=sd.exec(t))&&(r=cd.exec(n));)(o=r.index)>i&&(o=n.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:ud(e,r)})),i=cd.lastIndex;return i<n.length&&(o=n.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}var ld,hd,dd,pd,vd=180/Math.PI,gd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yd(t,n,e,r,o,i){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(n,t)*vd,skewX:Math.atan(s)*vd,scaleX:a,scaleY:u}}function md(t,n,e,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],s=[];return i=t(i),a=t(a),function(t,r,o,i,a,u){if(t!==o||r!==i){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:ud(t,o)},{i:s-2,x:ud(r,i)})}else(o||i)&&a.push("translate("+o+n+i+e)}(i.translateX,i.translateY,a.translateX,a.translateY,u,s),function(t,n,e,i){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),i.push({i:e.push(o(e)+"rotate(",null,r)-2,x:ud(t,n)})):n&&e.push(o(e)+"rotate("+n+r)}(i.rotate,a.rotate,u,s),function(t,n,e,i){t!==n?i.push({i:e.push(o(e)+"skewX(",null,r)-2,x:ud(t,n)}):n&&e.push(o(e)+"skewX("+n+r)}(i.skewX,a.skewX,u,s),function(t,n,e,r,i,a){if(t!==e||n!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:ud(t,e)},{i:u-2,x:ud(n,r)})}else 1===e&&1===r||i.push(o(i)+"scale("+e+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,s),i=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var bd=md((function(t){return"none"===t?gd:(ld||(ld=document.createElement("DIV"),hd=document.documentElement,dd=document.defaultView),ld.style.transform=t,t=dd.getComputedStyle(hd.appendChild(ld),null).getPropertyValue("transform"),hd.removeChild(ld),yd(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),_d=md((function(t){return null==t?gd:(pd||(pd=document.createElementNS("http://www.w3.org/2000/svg","g")),pd.setAttribute("transform",t),(t=pd.transform.baseVal.consolidate())?yd((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):gd)}),", ",")",")");function wd(t,n){var e,r;return function(){var o=jh(this,t),i=o.tween;if(i!==e)for(var a=0,u=(r=e=i).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}o.tween=r}}function xd(t,n,e){var r,o;if("function"!=typeof e)throw new Error;return function(){var i=jh(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:n,value:e},s=0,c=o.length;s<c;++s)if(o[s].name===n){o[s]=u;break}s===c&&o.push(u)}i.tween=o}}function Ed(t,n,e){var r=t._id;return t.each((function(){var t=jh(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Mh(t,r).value[n]}}function kd(t,n){var e;return("number"==typeof n?ud:n instanceof Bh?ad:(e=Bh(n))?(n=e,ad):fd)(t,n)}function jd(t){return function(){this.removeAttribute(t)}}function Md(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ad(t,n,e){var r,o,i=e+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function Nd(t,n,e){var r,o,i=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function Od(t,n,e){var r,o,i;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===o?i:(o=u,i=n(r=a,s));this.removeAttribute(t)}}function Sd(t,n,e){var r,o,i;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===o?i:(o=u,i=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Cd(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Ld(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Pd(t,n){var e,r;function o(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Ld(t,o)),e}return o._value=n,o}function Id(t,n){var e,r;function o(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Cd(t,o)),e}return o._value=n,o}function Dd(t,n){return function(){kh(this,t).delay=+n.apply(this,arguments)}}function zd(t,n){return n=+n,function(){kh(this,t).delay=n}}function Td(t,n){return function(){jh(this,t).duration=+n.apply(this,arguments)}}function $d(t,n){return n=+n,function(){jh(this,t).duration=n}}function Vd(t,n){if("function"!=typeof n)throw new Error;return function(){jh(this,t).ease=n}}function Rd(t,n,e){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?kh:jh;return function(){var a=i(this,t),u=a.on;u!==r&&(o=(r=u).copy()).on(n,e),a.on=o}}var Fd=bh.prototype.constructor;function Ud(t){return function(){this.style.removeProperty(t)}}function qd(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Bd(t,n,e){var r,o;function i(){var i=n.apply(this,arguments);return i!==o&&(r=(o=i)&&qd(t,i,e)),r}return i._value=n,i}function Hd(t){return function(n){this.textContent=t.call(this,n)}}function Xd(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&Hd(r)),n}return r._value=t,r}var Gd=0;function Wd(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Yd(t){return bh().transition(t)}function Zd(){return++Gd}var Kd=bh.prototype;Wd.prototype=Yd.prototype={constructor:Wd,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ml(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,s,c=r[a],f=c.length,l=i[a]=new Array(f),h=0;h<f;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),l[h]=s,Eh(l[h],n,e,h,l,Mh(u,e)));return new Wd(i,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=_l(t));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var s,c=r[u],f=c.length,l=0;l<f;++l)if(s=c[l]){for(var h,d=t.call(s,s.__data__,l,c),p=Mh(s,e),v=0,g=d.length;v<g;++v)(h=d[v])&&Eh(h,n,e,v,d,p);i.push(d),a.push(s)}return new Wd(i,a,n,e)},filter:function(t){"function"!=typeof t&&(t=wl(t));for(var n=this._groups,e=n.length,r=new Array(e),o=0;o<e;++o)for(var i,a=n[o],u=a.length,s=r[o]=[],c=0;c<u;++c)(i=a[c])&&t.call(i,i.__data__,c,a)&&s.push(i);return new Wd(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,o=e.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var s,c=n[u],f=e[u],l=c.length,h=a[u]=new Array(l),d=0;d<l;++d)(s=c[d]||f[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new Wd(a,this._parents,this._name,this._id)},selection:function(){return new Fd(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Zd(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],s=u.length,c=0;c<s;++c)if(a=u[c]){var f=Mh(a,n);Eh(a,t,e,c,u,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Wd(r,this._parents,t,e)},call:Kd.call,nodes:Kd.nodes,node:Kd.node,size:Kd.size,empty:Kd.empty,each:Kd.each,on:function(t,n){var e=this._id;return arguments.length<2?Mh(this.node(),e).on.on(t):this.each(Rd(e,t,n))},attr:function(t,n){var e=dl(t),r="transform"===e?_d:kd;return this.attrTween(t,"function"==typeof n?(e.local?Sd:Od)(e,r,Ed(this,"attr."+t,n)):null==n?(e.local?Md:jd)(e):(e.local?Nd:Ad)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=dl(t);return this.tween(e,(r.local?Pd:Id)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?bd:kd;return null==n?this.styleTween(t,function(t,n){var e,r,o;return function(){var i=Tl(this,t),a=(this.style.removeProperty(t),Tl(this,t));return i===a?null:i===e&&a===r?o:o=n(e=i,r=a)}}(t,r)).on("end.style."+t,Ud(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,o,i;return function(){var a=Tl(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=Tl(this,t)),a===s?null:a===r&&s===o?i:(o=s,i=n(r=a,u))}}(t,r,Ed(this,"style."+t,n))).each(function(t,n){var e,r,o,i,a="style."+n,u="end."+a;return function(){var s=jh(this,t),c=s.on,f=null==s.value[a]?i||(i=Ud(n)):void 0;c===e&&o===f||(r=(e=c).copy()).on(u,o=f),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,o,i=e+"";return function(){var a=Tl(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Bd(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ed(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Xd(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,o=Mh(this.node(),e).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==n?wd:xd)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Dd:zd)(n,t)):Mh(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Td:$d)(n,t)):Mh(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(Vd(n,t)):Mh(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,o=e.size();return new Promise((function(i,a){var u={value:a},s={value:function(){0==--o&&i()}};e.each((function(){var e=jh(this,r),o=e.on;o!==t&&((n=(t=o).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n}))}))}};var Qd={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Jd(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Qd.time=u(),Qd;return e}function tp(t,n){var e=function(t,n){var e=wf(),r=new lf.Graph({directed:!0}),o=[];if(!t.hasNode(n))throw Error("node not in graph");return np(t,n,e,r,o),t.nodes().forEach((function(n){e.has(n)||np(t,n,e,r,o)})),o.forEach((function(t,n){r.node(t).thread=n+1<o.length?o[n+1]:o[0]})),r}(t,n);return t.edges().forEach((function(n){if(function(t,n,e){var r=t.node(n),o=t.node(e);if(r.depth<o.depth)for(var i=r.thread;t.node(i).depth>r.depth;){if(i===e)return 1;i=t.node(i).thread}else if(o.depth<r.depth)for(var a=o.thread;t.node(a).depth>o.depth;){if(a===n)return-1;a=t.node(a).thread}return 0}(e,n.v,n.w)<0){var r=t.edge(n)||{};r.reversed=!0,t.removeEdge(n),t.setEdge(n.w,n.v,r)}})),t}function np(t,n,e,r,o,i){(void 0===i&&(i=0),e.has(n))||(e.add(n),o.push(n),r.setNode(n,{depth:i}),t.outEdges(n).map((function(t){return t.w})).forEach((function(a,u){e.has(a)||r.setEdge(n,a,{delta:1}),np(t,a,e,r,o,i+1)})))}function ep(t){return t.v+""+t.w+""+t.name}function rp(t,n){var e=function(t,n){void 0===n&&(n=[]);var e=new lf.Graph({directed:!0});if(0===t.nodes().length)return e;n=function(t,n){for(var e=0;e<n.length;++e)if("min"===n[e].type)return n;var r=t.sources();return[{type:"min",nodes:[r.length?r[0]:t.nodes()[0]]}].concat(n)}(t,n);var r,o,i,a,u=df();for(i=0;i<n.length;++i)if((r=n[i]).nodes&&0!==r.nodes.length){for(o=""+i,a=0;a<r.nodes.length;++a)u.set(r.nodes[a],o);e.setNode(o,{type:r.type,nodes:r.nodes})}return t.nodes(),t.nodes().forEach((function(n){t.node(n),u.has(n)||(o=""+i++,r={type:"same",nodes:[n]},u.set(n,o),e.setNode(o,r))})),t.edges().forEach((function(n){t.edge(n);var r=u.get(n.v),o=u.get(n.w),i=e.edge(r,o)||{delta:0};r===o?(i.delta=0,e.setEdge(r,o,i)):t.node(n.v).backwards?(i.delta=Math.max(i.delta,t.node(n.w).backwards?1:0),e.setEdge(o,r,i)):(i.delta=Math.max(i.delta,t.node(n.w).backwards?0:1),e.setEdge(r,o,i))})),e}(t,n);0!==e.nodeCount()&&(!function(t){t.sources().forEach((function(n){"0"!==n&&t.setEdge("0",n,{temp:!0,delta:0})}))}(e),tp(e,"0"),function(t){var n=t.sources(),e=wf(),r=wf();t.edges().forEach((function(t){t.v===t.w&&r.add(ep(t))})),t.nodes().forEach((function(n){t.node(n).rank=0}));for(var o=function(){var o=n.shift();e.add(o);var i=t.node(o);i||t.setNode(o,i={}),i.rank=0,t.inEdges(o).forEach((function(n){var e=void 0===t.edge(n).delta?1:t.edge(n).delta;i.rank=Math.max(i.rank,t.node(n.v).rank+e)})),t.outEdges(o).forEach((function(t){r.add(ep(t))})),t.nodes().forEach((function(o){n.indexOf(o)<0&&!e.has(o)&&!t.inEdges(o).some((function(t){return!r.has(ep(t))}))&&n.push(o)}))};n.length>0;)o()}(e),function(t){function n(n){var e=t.node(n),r=function(t,n){var e,r,o=t.length,i=-1;if(null==n){for(;++i<o;)if(null!=(e=t[i])&&e>=e)for(r=e;++i<o;)null!=(e=t[i])&&r>e&&(r=e)}else for(;++i<o;)if(null!=(e=n(t[i],i,t))&&e>=e)for(r=e;++i<o;)null!=(e=n(t[i],i,t))&&r>e&&(r=e);return r}(t.outEdges(n),(function(n){return t.node(n.w).rank-t.edge(n).delta}));void 0!==r&&(e.rank=r)}t.edges().forEach((function(e){t.edge(e).temp&&n(e.w)}))}(e),e.nodes().forEach((function(n){var r=e.node(n);r.nodes.forEach((function(n){t.node(n).rank=r.rank}))})))}function op(t,n,e){return function(t,n,e){var r,o,i;n.length>e.length?(r=n,o=e):(r=e,o=n);i=o.length;var a=[];r.forEach((function(n){o.forEach((function(e,r){(t.hasEdge(n,e)||t.hasEdge(e,n))&&a.push(r)}))}));var u=1;for(;u<i;)u*=2;var s=2*u-1;u-=1;for(var c=new Array(s),f=0;f<s;f++)c[f]=0;var l=0;return a.forEach((function(t){var n=t+u;for(c[n]++;n>0;)n%2&&(l+=c[n+1]),n=Math.floor((n-1)/2),c[n]++})),l}(t,n,e)}function ip(t,n){for(var e=!0;e;){e=!1;for(var r=0;r<n.length;++r)for(var o=0;o<n[r].length-1;++o){var i=ap(t,n,r);up(n[r],o,o+1),ap(t,n,r)<i?e=!0:up(n[r],o,o+1)}}}function ap(t,n,e){var r=0;return e>0&&(r+=op(t,n[e-1],n[e])),e+1<n.length&&(r+=op(t,n[e],n[e+1])),r}function up(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function sp(t){var n=Math.floor(t.length/2);if(0===t.length)return-1;if(t.length%2==1)return t[n];if(2===t.length)return(t[0]+t[1])/2;var e=t[n-1]-t[0],r=t[t.length-1]-t[n];return(t[n-1]*r+t[n]*e)/(e+r)}function cp(t,n,e,r,o,i){void 0===i&&(i=!1);var a=n[e],u=n[r],s=[];return u.forEach((function(n,e){t.nodeEdges(n,o).length>0&&s.push(e)})),0===s.length&&i&&a.forEach((function(n,e){t.nodeEdges(n,o).length>0&&s.push(e+.5)})),s.sort((function(t,n){return t-n})),s}function fp(t,n){for(var e=df(t.map((function(t,n){return[t,n]})),(function(t){return t[0]})),r=1;r<t.length;++r)for(var o=r;o>0;--o){for(var i,a=o-1,u=n.get(t[a]),s=n.get(t[o]);-1===(u=n.get(t[a]))&&a>0;)a--;if(-1===s||-1===u)break;if(u===s&&(u=e.get(t[a]),s=e.get(t[o])),s>=u)break;i=[t[a],t[o]],t[o]=i[0],t[a]=i[1]}}function lp(t,n,e,r){if(void 0===e&&(e=1),void 0===r&&(r=!1),e>0)for(var o=function(e){var o=df();n[e].forEach((function(i){var a=sp(cp(t,n,e,e-1,i,r));o.set(i,a)})),fp(n[e],o)},i=1;i<n.length;++i)o(i);else for(var a=function(e){var o=df();n[e].forEach((function(i){var a=sp(cp(t,n,e,e+1,i,r));o.set(i,a)})),fp(n[e],o)},u=n.length-2;u>=0;--u)a(u)}function hp(t,n){void 0===n&&(n=25);for(var e=function(t){var n=[];return t.nodes().forEach((function(e){for(var r=t.node(e).rank||0;r>=n.length;)n.push([]);n[r].push(e)})),n}(t),r=function(t,n){var e=[];if(0===n.length)return e;var r=t.sources(),o=df();return n.forEach((function(t,n){e.push([]),t.forEach((function(t){0===n&&r.indexOf(t)<0&&r.push(t),o.set(t,n)}))})),lf.alg.preorder(t,r).forEach((function(t){e[o.get(t)].push(t)})),e}(t,e),o=r,i=0;i++<n;)lp(t,r,i%2==0),ip(t,r),dp(t,r)<dp(t,o)&&(o=pp(r));o.forEach((function(n){n.forEach((function(n,e){t.node(n).depth=e}))}))}function dp(t,n){for(var e=0,r=0;r<n.length-1;++r)e+=op(t,n[r],n[r+1]);return e}function pp(t){var n=[];return t.forEach((function(t){n.push(t.map((function(t){return t})))})),n}function vp(t){"object"!=typeof t.graph()&&t.setGraph({}),t.graph().dummyChains=[],t.edges().forEach((function(n){return function(t,n){var e=t.edge(n),r=function(t,n){var e=[],r=t.rank;if(r+1<=n.rank){for(t.backwards&&e.push({rank:r,backwards:!1});++r<n.rank;)e.push({rank:r,backwards:!1});n.backwards&&e.push({rank:r,backwards:!1})}else if(r>n.rank){for(t.backwards||e.push({rank:r,backwards:!0});r-- >n.rank+1;)e.push({rank:r,backwards:!0});n.backwards||e.push({rank:r,backwards:!0})}return e}(t.node(n.v),t.node(n.w));if(0===r.length)return;t.removeEdge(n);var o=n.v;function i(r,o){var i={points:[],value:e.value,origEdge:n,origLabel:e};t.setEdge(r,o,i,n.name)}r.forEach((function(e,r){var a="__"+n.v+"_"+n.w+"_"+r;t.hasNode(a)||(e.dummy="edge",t.setNode(a,e),0===r&&t.graph().dummyChains.push(a)),i(o,o=a)})),i(o,n.w)}(t,n)}))}function gp(t){(t.graph().dummyChains||[]).forEach((function(n){var e=t.node(n),r=t.inEdges(n).map((function(n){return t.edge(n)}));r.forEach((function(n){n.origLabel.dy=n.dy,n.origLabel.x0=n.x0,n.origLabel.y0=n.y0,n.origLabel.r0=n.r0,n.origLabel.d0=n.d0,t.setEdge(n.origEdge,n.origLabel)}));for(var o,i=r.map((function(t){return t.r1}));e.dummy;)(r=t.outEdges(n).map((function(n){return t.edge(n)}))).forEach((function(t,n){t.origLabel.points.push({x:(e.x0+e.x1)/2,y:t.y0,d:t.d0,ro:t.r0,ri:i[n]})})),i=r.map((function(t){return t.r1})),o=t.successors(n)[0],t.removeNode(n),e=t.node(n=o);r.forEach((function(t){t.origLabel.x1=t.x1,t.origLabel.y1=t.y1,t.origLabel.r1=t.r1,t.origLabel.d1=t.d1}))}))}function yp(t){for(var n,e=m(t,(function(t){return t.rank||0}))||0,r=m(t,(function(t){return t.band||0}))||0,o=pf().key((function(t){return t.rank||0})).key((function(t){return t.band||0})).sortValues((function(t,n){return t.depth-n.depth})).map(t),i=new Array(e+1),a=0;a<=e;++a)if(i[a]=new Array(r+1),n=o.get(a))for(var u=0;u<=r;++u)i[a][u]=n.get(u)||[];else for(var s=0;s<=r;++s)i[a][s]=[];return i.bandValues=function(t){if(0===t.length||0===t[0].length)return[];for(var n=t[0].length,e=new Array(n),r=0;r<n;r++)e[r]=0;return t.forEach((function(t){t.forEach((function(t,n){var r=b(t,(function(t){return t.value}));e[n]=Math.max(e[n],r)}))})),e}(i),i}function mp(t,n,e){var r=m(t.nodes(),(function(n){return t.node(n).rank||0}))||0,o=(n-e)/r;t.nodes().forEach((function(n){var r=t.node(n);r.x0=o*(r.rank||0),r.x1=r.x0+e}))}function bp(t,n){return 1}function _p(t){if("function"!=typeof t)throw new Error;return t}function wp(t,n){t.nodes().forEach((function(e){var r=t.node(e),o=df();function i(t,n){if(o.has(t))return o.get(t);var e={id:t,node:r.data,side:n,incoming:[],outgoing:[]};return o.set(t,e),e}t.inEdges(e).forEach((function(n){var e=t.edge(n),o=i(e.targetPortId||"in","l"!==r.direction?"west":"east");o.incoming.push(n),e.targetPort=o})),t.outEdges(e).forEach((function(n){var e=t.edge(n),o=i(e.sourcePortId||"out","l"!==r.direction?"east":"west");o.outgoing.push(n),e.sourcePort=o})),r.ports=o.values(),r.ports.sort(n),r.fromElsewhere=r.fromElsewhere||[],r.toElsewhere=r.toElsewhere||[];var a=0;r.fromElsewhere.forEach((function(t){t.x1=r.x0,a+=t.dy}));var u={west:a,east:0},s={west:0,east:0};r.ports.forEach((function(n){n.y=u[n.side],n.index=s[n.side],n.dy=Math.max(b(n.incoming,(function(n){return t.edge(n).dy})),b(n.outgoing,(function(n){return t.edge(n).dy})));var e="west"===n.side?r.x0:r.x1;n.outgoing.forEach((function(o){var i=t.edge(o);i.x0=e,i.y0=r.y+n.y+i.dy/2})),n.incoming.forEach((function(o){var i=t.edge(o);i.x1=e,i.y1=r.y+n.y+i.dy/2})),u[n.side]+=n.dy,s[n.side]+=1})),r.toElsewhere.forEach((function(t){t.x0=r.x1}))}))}function xp(t,n,e){if(void 0===e&&(e=!0),n.v===n.w)return Math.PI/2*(e?1:-1);var r=t.edge(n);return Math.atan2(r.y1-r.y0,r.x1-r.x0)}function Ep(t,n){t.nodes().forEach((function(n){return function(t,n){var e=t.node(n);e.ports.forEach((function(n){n.incoming.sort(kp(t,e,!1)),n.outgoing.sort(kp(t,e,!0))}))}(t,n)}))}function kp(t,n,e){return void 0===e&&(e=!0),function(n,r){var o=xp(t,n,e),i=xp(t,r,e),a=e?1:-1;return n.v===r.v&&n.w===r.w&&Math.abs(o-i)<.001?"number"==typeof n.name&&"number"==typeof r.name?n.name-r.name:"string"==typeof n.name&&"string"==typeof r.name?n.name.localeCompare(r.name):0:Math.abs(o-i)<.001?n.w===r.w?t.node(r.v).y-t.node(n.v).y:n.v===r.v?t.node(r.w).y-t.node(n.w).y:0:a*(o-i)}}function jp(t,n){for(var e=null,r=0;r<t.length;++r)if(n(t[r])){e=r;break}return e}function Mp(t,n){if(0!==t.length){for(var e,r=0,o=t.length-1;o>=0;--o)e=t[o].dy/2,t[o][n]-e<r&&(t[o][n]=Math.min(t[o].Rmax,r+e)),r=t[o][n]+e;for(var i=t[0].Rmax+t[0].dy/2,a=0;a<t.length;++a)e=t[a].dy/2,t[a][n]+e>i&&(t[a][n]=Math.max(e,i-e)),i=t[a][n]-e}}function Ap(t){return function(t){t.nodes().forEach((function(n){var e=t.node(n),r=e.y,o=e.y;e.fromElsewhere.forEach((function(t){t.y1=o+t.dy/2,t.d1=e.backwards?"l":"r",t.dy=t.dy,o+=t.dy})),e.ports.forEach((function(n){r=e.y+n.y,o=e.y+n.y,n.outgoing.forEach((function(n){var o=t.edge(n);o.y0=r+o.dy/2,o.d0=e.backwards?"l":"r",o.dy=o.dy,r+=o.dy})),n.incoming.forEach((function(n){var r=t.edge(n);r.y1=o+r.dy/2,r.d1=e.backwards?"l":"r",r.dy=r.dy,o+=r.dy}))})),e.toElsewhere.forEach((function(t){t.y0=r+t.dy/2,t.d0=e.backwards?"l":"r",t.dy=t.dy,r+=t.dy}))}))}(t),function(t){t.nodes().forEach((function(n){var e=t.node(n);Np(e.toElsewhere,"r0"),Np(e.fromElsewhere,"r1"),e.ports.forEach((function(n){Np(n.outgoing.map((function(n){return t.edge(n)})),"r0"),Np(n.incoming.map((function(n){return t.edge(n)})),"r1")}))}))}(t),t}function Np(t,n){t.forEach((function(t){t.Rmax=function(t){var n=t.x1-t.x0,e=t.y1-t.y0;return t.d0!==t.d1?Math.abs(e)/2.1:0!==e?(n*n+e*e)/Math.abs(4*e):1/0}(t),t[n]=Math.max(t.dy/2,t.d0===t.d1?.6*t.Rmax:5+t.dy/2)}));var e=jp(t,"r0"===n?function(t){return t.y1>t.y0}:function(t){return t.y0>t.y1});if(null===e&&(e=t.length),Mp(t.slice(e),n),e>0){for(var r=[],o=e-1;o>=0;o--)r.push(t[o]);Mp(r,n)}}function Op(t,n,e,r,o,i,a){var u=new lf.Graph({directed:!0,multigraph:!0});return t.nodes.forEach((function(t,r){var o=n(t,r);if(u.hasNode(o))throw new Error("duplicate: "+o);u.setNode(o,{data:t,index:r,backwards:e(t,r),fromElsewhere:t.fromElsewhere||[],toElsewhere:t.toElsewhere||[],x0:t.x0,x1:t.x1,y:t.y0})})),t.links.forEach((function(t,n){var e=Sp(r(t,n)),s=Sp(o(t,n)),c={data:t,sourcePortId:e.port,targetPortId:s.port,index:n,points:[],value:a(t,n),type:i(t,n)};if(!u.hasNode(e.id))throw new Error("missing: "+e.id);if(!u.hasNode(s.id))throw new Error("missing: "+s.id);u.setEdge(e.id,s.id,c,i(t,n))})),u.setGraph({}),u}function Sp(t){return"object"==typeof t?t:{id:t,port:void 0}}function Cp(t){return t.nodes}function Lp(t){return t.links}function Pp(t){return t.id}function Ip(t){return t.direction&&"l"===t.direction.toLowerCase()}function Dp(t){return{id:"object"==typeof t.source?t.source.id:t.source,port:"object"==typeof t.sourcePort?t.sourcePort.id:t.sourcePort}}function zp(t){return{id:"object"==typeof t.target?t.target.id:t.target,port:"object"==typeof t.targetPort?t.targetPort.id:t.targetPort}}function Tp(t){return t.type}function $p(t,n){return t.id.localeCompare(n.id)}function Vp(){var t=Cp,n=Lp,e=Pp,r=Ip,o=Dp,i=zp,a=Tp,u=null,s=[],c=null,f=$p,l=0,h=0,d=1,p=1,v=1,g=null,y=function(t){return t.value},m=.5,_=function(){var t=bp;function n(e,r,o){e.forEach((function(i){var a=0;i.forEach((function(i,u){var s=e.bandValues[u]/b(e.bandValues)*r,c=o*s/5,f=s-2*c,l=b(i,(function(t){return t.dy})),h=i.map((function(e,r){return e.value&&i[r+1]?t(i[r],i[r+1],n):0})),d=Math.max(0,f-l),p=b(h)?d/b(h):0,v=a+c;1===i.length&&(v+=(f-i[0].dy)/2);var g=Number.MAX_VALUE;i.forEach((function(t,n){t.y=v,t.spaceAbove=g,t.spaceBelow=h[n]*p,v+=t.dy+t.spaceBelow,g=t.spaceBelow,t.data&&void 0!==t.data.forceY&&(t.y=c+t.data.forceY*(f-t.dy))})),i.length>0&&(i[i.length-1].spaceBelow=Number.MAX_VALUE),a+=s}))}))}return n.separation=function(e){return arguments.length?(t=_p(e),n):t},n}();function w(){var b={nodes:t.apply(null,arguments),links:n.apply(null,arguments)},w=Op(b,e,r,o,i,a,y);if(Rp(w,y),c)w.nodes().forEach((function(t){var n=w.node(t),e=c(n.data);n.x0=e[0],n.x1=e[0]+v,n.y=e[1]})),Fp(w,g);else{null!==u?E(w,u):(rp(w,s),hp(w,25)),vp(w),Rp(w,y),null===u&&hp(w,25);var k=yp(w.nodes().map((function(t){return w.node(t)})));x(w,k),Fp(w,g),_(k,p-h,m),mp(w,d-l,v),w.nodes().forEach((function(t){var n=w.node(t);n.x0+=l,n.x1+=l,n.y+=h}))}return wp(w,f),Ep(w),Ap(w),gp(w),qp(w),Bp(w),b}function x(t,n){if(null===g){var e=b(n.bandValues);e<=0?g=1:(g=(p-h)/e,1!==m&&(g*=1-m))}}function E(t,n){n.forEach((function(n,e){n.forEach((function(n,r){if(n.forEach)n.forEach((function(n,o){var i=t.node(n);i&&(i.rank=e,i.band=r,i.depth=o)}));else{var o=t.node(n);o&&(o.rank=e,o.depth=r)}}))}))}return w.update=function(t,n){var u=Op(t,e,r,o,i,a,y);Rp(u,y);var s=yp(u.nodes().map((function(t){return u.node(t)})));return x(u,s),Fp(u,g),wp(u,f),Ep(u),Ap(u),qp(u),Bp(u),t},w.nodes=function(n){return arguments.length?(t=Up(n),w):t},w.links=function(t){return arguments.length?(n=Up(t),w):n},w.nodeId=function(t){return arguments.length?(e=Up(t),w):e},w.nodeBackwards=function(t){return arguments.length?(r=Up(t),w):r},w.sourceId=function(t){return arguments.length?(o=Up(t),w):o},w.targetId=function(t){return arguments.length?(i=Up(t),w):i},w.linkType=function(t){return arguments.length?(a=Up(t),w):a},w.sortPorts=function(t){return arguments.length?(f=Up(t),w):f},w.ordering=function(t){return arguments.length?(u=t,w):u},w.rankSets=function(t){return arguments.length?(s=t,w):s},w.nodeWidth=function(t){return arguments.length?(v=t,w):v},w.nodePosition=function(t){return arguments.length?(c=t,w):c},w.size=function(t){return arguments.length?(l=h=0,d=+t[0],p=+t[1],w):[d-l,p-h]},w.extent=function(t){return arguments.length?(l=+t[0][0],h=+t[0][1],d=+t[1][0],p=+t[1][1],w):[[l,h],[d,p]]},w.whitespace=function(t){return arguments.length?(m=t,w):m},w.scale=function(t){return arguments.length?(g=t,w):g},w.linkValue=function(t){return arguments.length?(y=t,w):y},w.verticalLayout=function(t){return arguments.length?(_=Up(t),w):_},w}function Rp(t,n){t.nodes().forEach((function(e){var r=t.node(e),o=b(t.inEdges(e),(function(n){return t.edge(n).value})),i=b(t.outEdges(e),(function(n){return t.edge(n).value}));o+=b(r.fromElsewhere||[],(function(t){return n(t)})),i+=b(r.toElsewhere|[],(function(t){return n(t)})),r.value=Math.max(o,i)}))}function Fp(t,n){t.edges().forEach((function(e){var r=t.edge(e);r.dy=r.value*n})),t.nodes().forEach((function(e){var r=t.node(e);r.dy=r.value*n,r.fromElsewhere=r.fromElsewhere||[],r.toElsewhere=r.toElsewhere||[],r.fromElsewhere.forEach((function(t){t.dy=t.value*n,t.source={id:"__from_elsewhere_"+e},t.target=r.data})),r.toElsewhere.forEach((function(t){t.dy=t.value*n,t.source=r.data,t.target={id:"__to_elsewhere_"+e}}))}))}function Up(t){if("function"!=typeof t)throw new Error;return t}function qp(t){t.edges().forEach((function(n){var e=t.edge(n);e.points.unshift({x:e.x0,y:e.y0,ro:e.r0,d:e.d0}),e.points.push({x:e.x1,y:e.y1,ri:e.r1,d:e.d1})})),t.nodes().forEach((function(n){var e=t.node(n);e.fromElsewhere.forEach((function(t){t.points=[{x:t.x1,y:t.y1,ri:t.r1,d:t.d1,style:"down-right"}]})),e.toElsewhere.forEach((function(t){t.points=[{x:t.x0,y:t.y0,ri:t.r0,d:t.d0,style:"right-down"}]}))}))}function Bp(t,n){t.nodes().forEach((function(n){var e=t.node(n);e.data.incoming=[],e.data.outgoing=[],e.data.ports=e.ports,e.data.ports.forEach((function(t){t.incoming=[],t.outgoing=[]})),e.data.dy=e.dy,e.data.x0=e.x0,e.data.x1=e.x1,e.data.y0=e.y,e.data.y1=e.y+e.dy,e.data.rank=e.rank,e.data.band=e.band,e.data.depth=e.depth,e.data.value=e.value,e.data.spaceAbove=e.spaceAbove,e.data.spaceBelow=e.spaceBelow})),t.edges().forEach((function(n){var e=t.edge(n);e.data.source=t.node(n.v).data,e.data.target=t.node(n.w).data,e.data.sourcePort=e.sourcePort,e.data.targetPort=e.targetPort,e.data.source.outgoing.push(e.data),e.data.target.incoming.push(e.data),e.data.sourcePort&&e.data.sourcePort.outgoing.push(e.data),e.data.targetPort&&e.data.targetPort.incoming.push(e.data),e.data.value=e.value,e.data.type=e.type,e.data.dy=e.dy,e.data.points=e.points||[]}))}function Hp(t){return 0===t.dy?0:2}function Xp(){var t=Hp;function n(n){if(1===n.points.length)return function(n){var e=n.points[0],r=Math.max(t(n),n.dy)/2;if("down-right"===e.style)return"M"+[e.x-20,e.y-r]+" L"+[e.x,e.y-r]+" L"+[e.x,e.y+r]+" L"+[e.x-20,e.y+r]+" Z";if("right-down"===e.style)return"M"+[e.x,e.y-r]+" L"+[e.x+20,e.y-r]+" L"+[e.x+20,e.y+r]+" L"+[e.x,e.y+r]+" Z"}(n);for(var r="",o=0;o<n.points.length-1;++o)r+=e({x0:n.points[o].x,y0:n.points[o].y,x1:n.points[o+1].x,y1:n.points[o+1].y,r0:n.points[o].ro,r1:n.points[o+1].ri,d0:n.points[o].d,d1:n.points[o+1].d,dy:n.dy});return r}function e(n){var e=(n.d0||"r")+(n.d1||"r");if(n.source&&n.source===n.target)return function(n){var e=Math.max(t(n),n.dy)/2,r=1.5*e,o=2*Math.PI,i=n.x0,a=n.y0;function u(t){var n=t>0?1:0,i=t>0?r+e:r-e;return"A"+i+" "+i+" "+Math.abs(o)+" 1 "+n+" "}return"M"+[i+.1,a-e]+" "+u(1)+[i-.1,a-e]+" L"+[i-.1,a+e]+" "+u(-1)+[i+.1,a+e]+" Z"}(n);if("rl"===e)return function(n){var e=Math.max(t(n),n.dy)/2,r=n.x0,o=n.x1,i=n.y0,a=n.y1,u=n.x1-n.x0,s=n.y1-n.y0,c=(n.r0+n.r1)/2||5+e,f=Math.min(Math.abs(a-i)/2.1,c),l=Math.atan2(s-2*f,u),h=n.y1>n.y0?1:-1,d=e*Math.sin(l),p=e*Math.cos(l),v=n.x0+f*Math.sin(Math.abs(l)),g=n.x1+f*Math.sin(Math.abs(l)),y=n.y0+f*h*(1-Math.cos(l)),m=n.y1-f*h*(1-Math.cos(l));function b(t){var n=t*l>0?1:0,r=t*l>0?f+e:f-e;return 0===l&&(r=f),"A"+r+" "+r+" "+Math.abs(l)+" 0 "+n+" "}return"M"+[r,i-e]+" "+b(1)+[v+d,y-p]+" L"+[g+d,m-p]+" "+b(1)+[o,a+e]+" L"+[o,a-e]+" "+b(-1)+[g-d,m+p]+" L"+[v-d,y+p]+" "+b(-1)+[r,i+e]+" Z"}(n);if("rd"===e)return function(n){var e=Math.max(t(n),n.dy)/2,r=n.x0,o=n.x1,i=n.y0,a=n.y1;n.x1,n.x0,n.y1,n.y0;var u=Math.PI/2,s=Math.max(0,o-r);n.y1,n.y0;var c=i+s;function f(t){var n=t*u>0?1:0,r=t*u>0?s+e:s-e;return 0===u&&(r=s),"A"+r+" "+r+" "+Math.abs(u)+" 0 "+n+" "}return"M"+[r,i-e]+" "+f(1)+[o+e,c]+" L"+[o+e,a]+" "+[o-e,a]+" "+[o-e,c]+" "+f(-1)+[r,i+e]+" Z"}(n);if("dr"===e)return function(n){var e=Math.max(t(n),n.dy)/2,r=n.x0,o=n.x1,i=n.y0,a=n.y1;n.x1,n.x0,n.y1,n.y0;var u=Math.PI/2,s=Math.max(0,o-r);n.y1,n.y0;var c=a-s;function f(t){var n=t*u>0?1:0,r=t*u>0?s+e:s-e;return 0===u&&(r=s),"A"+r+" "+r+" "+Math.abs(u)+" 0 "+n+" "}return"M"+[r-e,i]+" L"+[r+e,i]+" "+[r+e,c]+" "+f(-1)+[o,a-e]+" L"+[o,a+e]+" "+f(1)+[r-e,c]+" Z"}(n);if("lr"===e)return function(n){var e=Math.max(t(n),n.dy)/2,r=n.x0,o=n.x1,i=n.y0,a=n.y1,u=n.x1-n.x0,s=n.y1-n.y0,c=(n.r0+n.r1)/2||5+e,f=Math.min(Math.abs(s)/2.1,c),l=Math.atan2(s-2*f,u),h=n.y1>n.y0?1:-1,d=e*Math.sin(l),p=e*Math.cos(l),v=n.x0-f*Math.sin(Math.abs(l)),g=n.x1-f*Math.sin(Math.abs(l)),y=n.y0+f*h*(1-Math.cos(l)),m=n.y1-f*h*(1-Math.cos(l));function b(t){var n=t*l>0?1:0,r=-t*l>0?f+e:f-e;return 0===l&&(r=f),"A"+r+" "+r+" "+Math.abs(l)+" 0 "+n+" "}return"M"+[r,i-e]+" "+b(-1)+[v-d,y-p]+" L"+[g-d,m-p]+" "+b(-1)+[o,a+e]+" L"+[o,a-e]+" "+b(1)+[g+d,m-p]+" L"+[v+d,y-p]+" "+b(1)+[r,i+e]+" Z"}(n);var r,o,i=Math.max(t(n),n.dy)/2,a=n.x0,u=n.x1,s=n.y0,c=n.y1;u<a&&(a=(r=[u,a])[0],u=r[1],s=(o=[c,s])[0],c=o[1]);var f,l=c>s?1:-1,h=function(t){var n=t.x1-t.x0,e=t.y1-t.y0;return[t.dy/2,(n*n+e*e)/Math.abs(4*e)]}(n),d=Math.max(h[0],Math.min(h[1],(u-a)/3)),p=Math.max(h[0],Math.min(h[1],n.r0||d)),v=Math.max(h[0],Math.min(h[1],n.r1||d)),g=u-a,y=c-s-l*(p+v),m=Math.sqrt(g*g+y*y),b=-l*Math.acos(Math.min(1,(p+v)/m)),_=Math.atan2(y,g),w=Math.PI/2+l*(_+b),x=i*l*Math.sin(w),E=i*Math.cos(w),k=a+1*p*Math.sin(Math.abs(w)),j=u-1*v*Math.sin(Math.abs(w)),M=s+p*l*(1-Math.cos(w)),A=c-v*l*(1-Math.cos(w));function N(t,n){var e=t*(c-s)>0?1:0,r=1*t*(c-s)>0?n+i:n-i;return 0===w&&(r=n),"A"+r+" "+r+" "+Math.abs(w)+" 0 "+e+" "}return(isNaN(w)||Math.abs(w)<.001)&&(w=p=v=0,k=a,j=u,M=s,A=c,x=0,E=i),f="M"+[a,s-i]+" "+N(1,p)+[k+x,M-E]+" L"+[j+x,A-E]+" "+N(-1,v)+[u,c-i]+" L"+[u,c+i]+" "+N(1,v)+[j-x,A+E]+" L"+[k-x,M+E]+" "+N(-1,p)+[a,s+i]+" Z",/NaN/.test(f)&&console.error("path NaN",n,f),f}return n.minWidth=function(e){return arguments.length?(t=Gp(e),n):t},n}function Gp(t){if("function"!=typeof t)throw new Error;return t}bh.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,o,i=t.__transition,a=!0;if(i){for(o in n=null==n?null:n+"",i)(e=i[o]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},bh.prototype.transition=function(t){var n,e;t instanceof Wd?(n=t._id,t=t._name):(n=Zd(),(e=Qd).time=u(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,f=0;f<c;++f)(a=s[f])&&Eh(a,t,n,f,s,e||Jd(a,n));return new Wd(r,this._parents,t,n)};function Wp(t){return"translate("+t.x0+","+t.y0+")"}function Yp(t,n){var e=_h(this),r=e.text().split(/\n/);1!==r.length&&(e.text(null),r.forEach((function(t,n){e.append("tspan").attr("x",0).attr("dy",1.1*(0===n?.7-r.length/2:1)+"em").text(t)})))}function Zp(t){if("function"!=typeof t)throw new Error;return t}function Kp(t,n,e){return function(r){var o=[],i=t(r.source),a=t(r.target),u=n(r);return o.push(i+"  "+a),u&&o.push(u),o.push(e(r.value)),o.join("\n")}}function Qp(){var t={top:0,right:0,bottom:0,left:0},n=null,e=[],r=s(".3s"),o=function(){var t=function(t){return void 0!==t.title?t.title:t.id},n=function(t){return null},e=function(n){return!!t(n)};function r(r){var o=r.selection?r.selection():r;o.select("text").empty()&&(o.append("title"),o.append("line").attr("x1",0).attr("x2",0),o.append("rect").attr("class","node-body"),o.append("text").attr("class","node-value").attr("dy",".35em").attr("text-anchor","middle"),o.append("text").attr("class","node-title").attr("dy",".35em"),o.append("rect").attr("class","node-click-target").attr("x",-5).attr("y",-5).attr("width",10).style("fill","none").style("visibility","hidden").style("pointer-events","all"),o.attr("transform",Wp)),o.each((function(i){var a=_h(this).select("title"),u=_h(this).select(".node-value"),s=_h(this).select(".node-title"),c=_h(this).select("line"),f=_h(this).select(".node-body"),l=_h(this).select(".node-click-target"),h=function(t){var n=!1,e=!1;return n=t.spaceAbove>20&&"type"!==t.style,0===t.incoming.length?(e=!0,n=!1):0===t.outgoing.length&&(e=!1,n=!1),{titleAbove:n,right:e}}(i);h.dy=i.y0===i.y1?0:Math.max(1,i.y1-i.y0);var d=i.x1-i.x0>2,p=t(i)+(!d&&n(i)?" ("+n(i)+")":"");a.text(p),u.text(n).style("display",d?"inline":"none"),s.attr("text-anchor",h.right?"end":"start").text(p).each(Yp,100),r!==o&&(s=s.transition(r),c=c.transition(r),f=f.transition(r),l=l.transition(r)),r.attr("transform",Wp),c.attr("y1",(function(t){return h.titleAbove?-5:0})).attr("y2",(function(t){return h.dy})).style("display",(function(t){return t.y0!==t.y1&&e(t)?"inline":"none"})),l.attr("height",(function(t){return h.dy+5})),f.attr("width",(function(t){return t.x1-t.x0})).attr("height",(function(t){return h.dy})),s.attr("transform",(function(t){var n=h,e=n.titleAbove?-10:(t.y1-t.y0)/2;return"translate("+(n.titleAbove?n.right?4:-4:n.right?-4:t.x1-t.x0+4)+","+e+")"})).style("display",(function(t){return t.y0!==t.y1&&e(t)?"inline":"none"})),u.style("font-size",(function(t){return Math.min(t.x1-t.x0-4,t.y1-t.y0-4)+"px"})).attr("transform",(function(t){var n=t.x1-t.x0,e=t.y1-t.y0;return"translate("+n/2+","+e/2+") rotate("+(n>e?0:-90)+")"}))}))}return r.nodeVisible=function(t){return arguments.length?(e=Zp(t),r):e},r.nodeTitle=function(n){return arguments.length?(t=Zp(n),r):t},r.nodeValue=function(t){return arguments.length?(n=Zp(t),r):n},r}(),a=Xp(),u=function(t){return null},c=Kp(o.nodeTitle(),(function(t){return t.type}),r),f=Jp,l=i("selectNode","selectGroup","selectLink");function h(r){(r.selection?r.selection():r).each((function(i){var s=_h(this),h=s.selectAll(".sankey").data([{type:"sankey"}]),y=h.enter().append("g").classed("sankey",!0);y.append("g").classed("groups",!0),y.append("g").classed("links",!0),y.append("g").classed("nodes",!0),y.append("g").classed("slice-titles",!0),(h=h.merge(y)).attr("transform","translate("+t.left+","+t.top+")");var m=df(i.nodes,(function(t){return t.id})),b=(e||[]).map((function(t){return n=m,e=t,r={top:Number.MAX_VALUE,left:Number.MAX_VALUE,bottom:0,right:0},e.nodes.forEach((function(t){var e=n.get(t);e&&(e.x0<r.left&&(r.left=e.x0),e.x1>r.right&&(r.right=e.x1),e.y0<r.top&&(r.top=e.y0),e.y1>r.bottom&&(r.bottom=e.y1))})),e.rect=r,e;var n,e,r})),_=Array.from(i.links);i.nodes.forEach((function(t){Array.prototype.push.apply(_,t.fromElsewhere||[]),Array.prototype.push.apply(_,t.toElsewhere||[])})),function(t,n,e){var r=t.select(".nodes").selectAll(".node").data(e,(function(t){return t.id}));r.exit().remove(),r=r.merge(r.enter().append("g").attr("class","node").call(o).on("click",g)),n instanceof Yd?r.transition(n).call(o):r.call(o)}(h,r,i.nodes),function(t,e,r){var o=t.select(".links").selectAll(".link").data(r,(function(t){return t.source.id+"-"+t.target.id+"-"+t.type}));o.exit().remove();var i=o.enter().append("g").attr("class","link").on("click",v);i.append("path").attr("d",a).style("fill","white").each((function(t){this._current=t})),i.append("title"),i.append("text").attr("class","label").attr("dy","0.35em").attr("x",(function(t){return t.points[0].x+4})).attr("y",(function(t){return t.points[0].y})),(o=o.merge(i)).classed("selected",(function(t){return t.id===n})),o.sort(p),e instanceof Yd?(o=o.transition(e)).select("path").style("fill",u).each((function(t){_h(this).transition(e).attrTween("d",d)})):o.select("path").style("fill",u).attr("d",a);o.select("title").text(c),o.select(".label").text(f).attr("x",(function(t){return t.points[0].x+4})).attr("y",(function(t){return t.points[0].y}))}(h,r,_),function(t,n){var e=t.select(".groups").selectAll(".group").data(n);e.exit().remove();var r=e.enter().append("g").attr("class","group");r.append("rect"),r.append("text").attr("x",-10).attr("y",-25),(e=e.merge(r)).style("display",(function(t){return t.title?"inline":"none"})).attr("transform",(function(t){return"translate("+t.rect.left+","+t.rect.top+")"})).select("rect").attr("x",-10).attr("y",-20).attr("width",(function(t){return t.rect.right-t.rect.left+20})).attr("height",(function(t){return t.rect.bottom-t.rect.top+30})),e.select("text").text((function(t){return t.title}))}(s,b),s.on("click",(function(){l.call("selectNode",this,null),l.call("selectLink",this,null)}))}))}function d(t){t.points.forEach((function(t){t.ri>1e3&&(t.ri=1e3),t.ro>1e3&&(t.ro=1e3)}));var n,e=fl({points:(n=this._current).points,dy:n.dy},t),r=this;return function(t){return r._current=e(t),a(r._current)}}function p(t,e){return t.id===n?1:e.id===n||!t.source||t.target&&"d"===t.target.direction?-1:!e.source||e.target&&"d"===e.target.direction?1:!t.target||t.source&&"d"===t.source.direction?-1:!e.target||e.source&&"d"===e.source.direction?1:t.dy-e.dy}function v(t){sh.stopPropagation();var n=_h(this).node();l.call("selectLink",n,t)}function g(t){sh.stopPropagation();var n=_h(this).node();l.call("selectNode",n,t)}return h.margins=function(n){return arguments.length?(t={top:void 0===n.top?t.top:n.top,left:void 0===n.left?t.left:n.left,bottom:void 0===n.bottom?t.bottom:n.bottom,right:void 0===n.right?t.right:n.right},this):t},h.groups=function(t){return arguments.length?(e=t,this):e},h.nodeTitle=function(t){return arguments.length?(o.nodeTitle(t),c=Kp(t,(function(t){return t.type}),r),this):o.nodeTitle()},h.nodeValue=function(t){return arguments.length?(o.nodeValue(t),this):o.nodeValue()},h.linkTitle=function(t){return arguments.length?(c=t,this):c},h.linkLabel=function(t){return arguments.length?(f=t,this):f},h.linkColor=function(t){return arguments.length?(u=t,this):u},h.linkMinWidth=function(t){return arguments.length?(a.minWidth(t),this):a.minWidth()},h.selectNode=function(t){return this},h.selectLink=function(t){return n=t,this},h.on=function(){var t=l.on.apply(l,arguments);return t===l?h:t},h}function Jp(t){return null}const tv=e({name:"SankeyPlugin",i18n:{messages:{en:{total:"total",showChanges:"Only show changes"},de:{total:"Insgesamt",showChanges:"Nur nderungen zeigen"}}},props:{root:{type:String,required:!0},subfolder:{type:String,required:!0},yamlConfig:String,thumbnail:Boolean,config:Object},data:()=>({globalState:f.state,vizDetails:{csv:"",title:"",description:""},loadingText:"",jsonChart:{},totalTrips:0,cleanConfigId:`sankey-${Math.floor(1e12*Math.random())}`,onlyShowChanges:!1,csvData:[],colorRamp:[]}),computed:{fileApi(){return new h(this.fileSystem,f)},fileSystem(){const t=this.$store.state.svnProjects.filter((t=>t.slug===this.root));if(0===t.length)throw console.log("no such project"),Error;return t[0]}},watch:{"globalState.resizeEvents"(){this.changeDimensions()},yamlConfig(){this.getVizDetails()},subfolder(){this.getVizDetails()},onlyShowChanges(){this.jsonChart=this.processInputs(),this.doD3()}},methods:{changeDimensions(){var t;(null==(t=this.jsonChart)?void 0:t.nodes)&&this.doD3()},async getVizDetails(){var t;if(this.config)return this.vizDetails=Object.assign({},this.config),void this.$emit("title",this.vizDetails.title);this.loadingText="Loading config...";const n=null!=(t=this.yamlConfig)?t:"",e=n.indexOf("/")>-1?n:this.subfolder+"/"+n,o=await this.fileApi.getFileText(e);this.vizDetails=r.parse(o),this.$emit("title",this.vizDetails.title)},async loadFiles(){this.loadingText="Loading files...";try{const t=await this.fileApi.getFileText(this.subfolder+"/"+this.vizDetails.csv);return c.parse(t,{header:!1,dynamicTyping:!0,skipEmptyLines:!0}).data}catch(t){const n=t;console.error({e:n}),this.loadingText=""+n,this.fileSystem&&this.fileSystem.needPassword&&401===n.status&&f.commit("requestLogin",this.fileSystem.slug)}return[]},processInputs(){this.loadingText="Building node graph...";const t=[],n=[],e=[];this.totalTrips=0;try{for(const r of this.csvData.slice(1)){t.includes(r[0])||t.push(r[0]),n.includes(r[1])||n.push(r[1]);const o=r[2];0!==o&&(o<0?console.warn("Data contains NEGATIVE numbers!!!"):this.onlyShowChanges&&r[0]===r[1]||(e.push([r[0],r[1],o]),this.totalTrips+=o))}}catch(f){const t=f;console.error(t)}const r=[],o=[],i={nodes:[],links:[],ordering:[[r],[o]]},a={},u={};t.forEach(((t,n)=>{i.nodes.push({id:n,title:t}),a[t]=n,r.push(n)})),n.forEach(((n,e)=>{const r=e+t.length;i.nodes.push({id:r,title:n}),u[n]=r,o.push(r)}));for(const l of e)i.links.push({source:a[l[0]],target:u[l[1]],value:l[2]});const s=t.length,c=[...Array(s).keys()].map((t=>d(t/s).replace(/rgb(.*)\)/,"rgba$1, 0.7)")));return this.colorRamp=c,i},getMaxLabelWidth(){const t=document.createElement("canvas").getContext("2d");if(!t)return 120;t.font="16px Arial";let n=0;for(const e of this.jsonChart.nodes){const r=e.title,o=t.measureText(r).width;n=Math.max(n,o)}return n},doD3(){const t=this.jsonChart;let n=document.querySelector(`#${this.cleanConfigId}`),e=n?n.clientWidth:100,r=n?n.clientHeight:100,o=5+this.getMaxLabelWidth();const i=Vp().nodeWidth(8).ordering(t.ordering).extent([[o,0],[e-o,r]]),a=Qp().linkColor((t=>this.colorRamp[t.source.id]));_h("#"+this.cleanConfigId).datum(i(t)).call(a).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox",`0 0 ${e} ${r}`)}},async mounted(){await this.getVizDetails(),this.csvData=await this.loadFiles(),this.jsonChart=this.processInputs(),window.addEventListener("resize",this.changeDimensions),this.doD3()},beforeDestroy(){window.removeEventListener("resize",this.changeDimensions)}});const nv={};var ev=l(tv,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"sankey-container",class:{"is-thumbnail":t.thumbnail}},[e("svg",{staticClass:"chart-area",class:{"is-thumbnail":t.thumbnail},attrs:{id:t.cleanConfigId}}),t.thumbnail?t._e():e("div",{staticClass:"labels"},[e("p",{staticClass:"center"},[e("b",[t._v(t._s(t.totalTrips.toLocaleString())+" "+t._s(t.$t("total")))])])]),t.thumbnail?t._e():e("b-switch",{staticClass:"switcher",model:{value:t.onlyShowChanges,callback:function(n){t.onlyShowChanges=n},expression:"onlyShowChanges"}},[t._v(t._s(t.$t("showChanges")))])],1)}),[],!1,rv,"6dbe8eb6",null,null);function rv(t){for(let n in nv)this[n]=nv[n]}var ov=function(){return ev.exports}();export{ov as default};
//# sourceMappingURL=SankeyDiagram.664fbe55.js.map
