var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,o=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))i.call(t,n)&&s(e,n,t[n]);return e},l=(e,r)=>t(e,n(r)),u=(e,t,n)=>(s(e,"symbol"!=typeof t?t+"":t,n),n);import{h}from"./vendor.e9c367ae.js";var c,d=h(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}))),f={};(c=f).isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),c.find=(e,t)=>e.nodes.find((e=>e.type===t)),c.exceedsLimit=(e,t,n=1,r)=>!1!==r&&!(!c.isInteger(e)||!c.isInteger(t))&&(Number(t)-Number(e))/Number(n)>=r,c.escapeNode=(e,t=0,n)=>{let r=e.nodes[t];r&&(n&&r.type===n||"open"===r.type||"close"===r.type)&&!0!==r.escaped&&(r.value="\\"+r.value,r.escaped=!0)},c.encloseBrace=e=>"brace"===e.type&&e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0),c.isInvalidBrace=e=>!("brace"!==e.type||!0!==e.invalid&&!e.dollar&&(e.commas>>0+e.ranges>>0!=0&&!0===e.open&&!0===e.close||(e.invalid=!0,0))),c.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,c.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),c.flatten=(...e)=>{const t=[],n=e=>{for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?n(a):void 0!==a&&t.push(a)}return t};return n(e),t};const p=f;var _=(e,t={})=>{let n=(e,r={})=>{let a=t.escapeInvalid&&p.isInvalidBrace(r),i=!0===e.invalid&&!0===t.escapeInvalid,s="";if(e.value)return(a||i)&&p.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)s+=n(t);return s};return n(e)};
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
const g=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))},b=(e,t,n)=>{if(!1===g(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===g(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let r=o({relaxZeros:!0},n);"boolean"==typeof r.strictZeros&&(r.relaxZeros=!1===r.strictZeros);let a=e+":"+t+"="+String(r.relaxZeros)+String(r.shorthand)+String(r.capture)+String(r.wrap);if(b.cache.hasOwnProperty(a))return b.cache[a].result;let i=Math.min(e,t),s=Math.max(e,t);if(1===Math.abs(i-s)){let n=e+"|"+t;return r.capture?`(${n})`:!1===r.wrap?n:`(?:${n})`}let l=C(e)||C(t),u={min:e,max:t,a:i,b:s},h=[],c=[];if(l&&(u.isPadded=l,u.maxLen=String(u.max).length),i<0){c=w(s<0?Math.abs(s):1,Math.abs(i),u,r),i=u.a=0}return s>=0&&(h=w(i,s,u,r)),u.negatives=c,u.positives=h,u.result=function(e,t,n){let r=A(e,t,"-",!1)||[],a=A(t,e,"",!1)||[],i=A(e,t,"-?",!0)||[];return r.concat(i).concat(a).join("|")}(c,h),!0===r.capture?u.result=`(${u.result})`:!1!==r.wrap&&h.length+c.length>1&&(u.result=`(?:${u.result})`),b.cache[a]=u,u.result};function m(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let r=function(e,t){let n=[];for(let r=0;r<e.length;r++)n.push([e[r],t[r]]);return n}(e,t),a=r.length,i="",s=0;for(let o=0;o<a;o++){let[e,t]=r[o];e===t?i+=e:"0"!==e||"9"!==t?i+=k(e,t):s++}return s&&(i+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:i,count:[s],digits:a}}function w(e,t,n,r){let a,i=function(e,t){let n=1,r=1,a=R(e,n),i=new Set([t]);for(;e<=a&&a<=t;)i.add(a),n+=1,a=R(e,n);for(a=E(t+1,r)-1;e<a&&a<=t;)i.add(a),r+=1,a=E(t+1,r)-1;return i=[...i],i.sort(y),i}(e,t),s=[],o=e;for(let l=0;l<i.length;l++){let e=i[l],t=m(String(o),String(e),r),u="";n.isPadded||!a||a.pattern!==t.pattern?(n.isPadded&&(u=S(e,n,r)),t.string=u+t.pattern+x(t.count),s.push(t),o=e+1,a=t):(a.count.length>1&&a.count.pop(),a.count.push(t.count[0]),a.string=a.pattern+x(a.count),o=e+1)}return s}function A(e,t,n,r,a){let i=[];for(let s of e){let{string:e}=s;r||v(t,"string",e)||i.push(n+e),r&&v(t,"string",e)&&i.push(n+e)}return i}function y(e,t){return e>t?1:t>e?-1:0}function v(e,t,n){return e.some((e=>e[t]===n))}function R(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function E(e,t){return e-e%Math.pow(10,t)}function x(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function k(e,t,n){return`[${e}${t-e==1?"":"-"}${t}]`}function C(e){return/^-?(0+)\d/.test(e)}function S(e,t,n){if(!t.isPadded)return e;let r=Math.abs(t.maxLen-String(e).length),a=!1!==n.relaxZeros;switch(r){case 0:return"";case 1:return a?"0?":"0";case 2:return a?"0{0,2}":"00";default:return a?`0{0,${r}}`:`0{${r}}`}}b.cache={},b.clearCache=()=>b.cache={};
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
const H=d,O=b,T=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),L=e=>"number"==typeof e||"string"==typeof e&&""!==e,$=e=>Number.isInteger(+e),N=e=>{let t=`${e}`,n=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++n];);return n>0},I=(e,t,n)=>{if(t>0){let n="-"===e[0]?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return!1===n?String(e):e},z=(e,t)=>{let n="-"===e[0]?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},U=(e,t,n,r)=>{if(n)return O(e,t,o({wrap:!1},r));let a=String.fromCharCode(e);return e===t?a:`[${a}-${String.fromCharCode(t)}]`},D=(e,t,n)=>{if(Array.isArray(e)){let t=!0===n.wrap,r=n.capture?"":"?:";return t?`(${r}${e.join("|")})`:e.join("|")}return O(e,t,n)},F=(...e)=>new RangeError("Invalid range arguments: "+H.inspect(...e)),B=(e,t,n)=>{if(!0===n.strictRanges)throw F([e,t]);return[]},M=(e,t,n=1,r={})=>{let a=Number(e),i=Number(t);if(!Number.isInteger(a)||!Number.isInteger(i)){if(!0===r.strictRanges)throw F([e,t]);return[]}0===a&&(a=0),0===i&&(i=0);let s=a>i,l=String(e),u=String(t),h=String(n);n=Math.max(Math.abs(n),1);let c=N(l)||N(u)||N(h),d=c?Math.max(l.length,u.length,h.length):0,f=!1===c&&!1===((e,t,n)=>"string"==typeof e||"string"==typeof t||!0===n.stringify)(e,t,r),p=r.transform||(e=>t=>!0===e?Number(t):String(t))(f);if(r.toRegex&&1===n)return U(z(e,d),z(t,d),!0,r);let _={negatives:[],positives:[]},g=[],b=0;for(;s?a>=i:a<=i;)!0===r.toRegex&&n>1?_[(m=a)<0?"negatives":"positives"].push(Math.abs(m)):g.push(I(p(a,b),d,f)),a=s?a-n:a+n,b++;var m;return!0===r.toRegex?n>1?((e,t)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let n,r=t.capture?"":"?:",a="",i="";return e.positives.length&&(a=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n=a&&i?`${a}|${i}`:a||i,t.wrap?`(${r}${n})`:n})(_,r):D(g,null,o({wrap:!1},r)):g},Z=(e,t,n,r={})=>{if(null==t&&L(e))return[e];if(!L(e)||!L(t))return B(e,t,r);if("function"==typeof n)return Z(e,t,1,{transform:n});if(T(n))return Z(e,t,0,n);let a=o({},r);return!0===a.capture&&(a.wrap=!0),n=n||a.step||1,$(n)?$(e)&&$(t)?M(e,t,n,a):((e,t,n=1,r={})=>{if(!$(e)&&e.length>1||!$(t)&&t.length>1)return B(e,t,r);let a=r.transform||(e=>String.fromCharCode(e)),i=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),o=i>s,l=Math.min(i,s),u=Math.max(i,s);if(r.toRegex&&1===n)return U(l,u,!1,r);let h=[],c=0;for(;o?i>=s:i<=s;)h.push(a(i,c)),i=o?i-n:i+n,c++;return!0===r.toRegex?D(h,null,{wrap:!1,options:r}):h})(e,t,Math.max(Math.abs(n),1),a):null==n||T(n)?Z(e,t,1,n):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(n,a)};const P=Z,G=f;var K=(e,t={})=>{let n=(e,r={})=>{let a=G.isInvalidBrace(r),i=!0===e.invalid&&!0===t.escapeInvalid,s=!0===a||!0===i,u=!0===t.escapeInvalid?"\\":"",h="";if(!0===e.isOpen)return u+e.value;if(!0===e.isClose)return u+e.value;if("open"===e.type)return s?u+e.value:"(";if("close"===e.type)return s?u+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":s?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let n=G.reduce(e.nodes),r=P(...n,l(o({},t),{wrap:!1,toRegex:!0}));if(0!==r.length)return n.length>1&&r.length>1?`(${r})`:r}if(e.nodes)for(let t of e.nodes)h+=n(t,e);return h};return n(e)};const j=Z,W=_,X=f,Q=(e="",t="",n=!1)=>{let r=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return n?X.flatten(t).map((e=>`{${e}}`)):t;for(let a of e)if(Array.isArray(a))for(let e of a)r.push(Q(e,t,n));else for(let e of t)!0===n&&"string"==typeof e&&(e=`{${e}}`),r.push(Array.isArray(e)?Q(a,e,n):a+e);return X.flatten(r)};var Y=(e,t={})=>{let n=void 0===t.rangeLimit?1e3:t.rangeLimit,r=(e,a={})=>{e.queue=[];let i=a,s=a.queue;for(;"brace"!==i.type&&"root"!==i.type&&i.parent;)i=i.parent,s=i.queue;if(e.invalid||e.dollar)return void s.push(Q(s.pop(),W(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void s.push(Q(s.pop(),["{}"]));if(e.nodes&&e.ranges>0){let r=X.reduce(e.nodes);if(X.exceedsLimit(...r,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let a=j(...r,t);return 0===a.length&&(a=W(e,t)),s.push(Q(s.pop(),a)),void(e.nodes=[])}let o=X.encloseBrace(e),l=e.queue,u=e;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,l=u.queue;for(let t=0;t<e.nodes.length;t++){let n=e.nodes[t];"comma"!==n.type||"brace"!==e.type?"close"!==n.type?n.value&&"open"!==n.type?l.push(Q(l.pop(),n.value)):n.nodes&&r(n,e):s.push(Q(s.pop(),l,o)):(1===t&&l.push(""),l.push(""))}return l};return X.flatten(r(e))};const q=_,{MAX_LENGTH:V,CHAR_BACKSLASH:J,CHAR_BACKTICK:ee,CHAR_COMMA:te,CHAR_DOT:ne,CHAR_LEFT_PARENTHESES:re,CHAR_RIGHT_PARENTHESES:ae,CHAR_LEFT_CURLY_BRACE:ie,CHAR_RIGHT_CURLY_BRACE:se,CHAR_LEFT_SQUARE_BRACKET:oe,CHAR_RIGHT_SQUARE_BRACKET:le,CHAR_DOUBLE_QUOTE:ue,CHAR_SINGLE_QUOTE:he,CHAR_NO_BREAK_SPACE:ce,CHAR_ZERO_WIDTH_NOBREAK_SPACE:de}={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"Â ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};const fe=_,pe=K,_e=Y,ge=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let n=t||{},r="number"==typeof n.maxLength?Math.min(V,n.maxLength):V;if(e.length>r)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${r})`);let a,i={type:"root",input:e,nodes:[]},s=[i],o=i,l=i,u=0,h=e.length,c=0,d=0;const f=()=>e[c++],p=e=>{if("text"===e.type&&"dot"===l.type&&(l.type="text"),!l||"text"!==l.type||"text"!==e.type)return o.nodes.push(e),e.parent=o,e.prev=l,l=e,e;l.value+=e.value};for(p({type:"bos"});c<h;)if(o=s[s.length-1],a=f(),a!==de&&a!==ce)if(a!==J)if(a!==le)if(a!==oe)if(a!==re)if(a!==ae)if(a!==ue&&a!==he&&a!==ee)if(a!==ie)if(a!==se)if(a===te&&d>0){if(o.ranges>0){o.ranges=0;let e=o.nodes.shift();o.nodes=[e,{type:"text",value:q(o)}]}p({type:"comma",value:a}),o.commas++}else if(a===ne&&d>0&&0===o.commas){let e=o.nodes;if(0===d||0===e.length){p({type:"text",value:a});continue}if("dot"===l.type){if(o.range=[],l.value+=a,l.type="range",3!==o.nodes.length&&5!==o.nodes.length){o.invalid=!0,o.ranges=0,l.type="text";continue}o.ranges++,o.args=[];continue}if("range"===l.type){e.pop();let t=e[e.length-1];t.value+=l.value+a,l=t,o.ranges--;continue}p({type:"dot",value:a})}else p({type:"text",value:a});else{if("brace"!==o.type){p({type:"text",value:a});continue}let e="close";o=s.pop(),o.close=!0,p({type:e,value:a}),d--,o=s[s.length-1]}else{d++;let e=l.value&&"$"===l.value.slice(-1)||!0===o.dollar;o=p({type:"brace",open:!0,close:!1,dollar:e,depth:d,commas:0,ranges:0,nodes:[]}),s.push(o),p({type:"open",value:a})}else{let e,n=a;for(!0!==t.keepQuotes&&(a="");c<h&&(e=f());)if(e!==J){if(e===n){!0===t.keepQuotes&&(a+=e);break}a+=e}else a+=e+f();p({type:"text",value:a})}else{if("paren"!==o.type){p({type:"text",value:a});continue}o=s.pop(),p({type:"text",value:a}),o=s[s.length-1]}else o=p({type:"paren",nodes:[]}),s.push(o),p({type:"text",value:a});else{let e;for(u++;c<h&&(e=f());)if(a+=e,e!==oe)if(e!==J){if(e===le&&(u--,0===u))break}else a+=f();else u++;p({type:"text",value:a})}else p({type:"text",value:"\\"+a});else p({type:"text",value:(t.keepEscaping?a:"")+f()});do{if(o=s.pop(),"root"!==o.type){o.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));let e=s[s.length-1],t=e.nodes.indexOf(o);e.nodes.splice(t,1,...o.nodes)}}while(s.length>0);return p({type:"eos"}),i},be=(e,t={})=>{let n=[];if(Array.isArray(e))for(let r of e){let e=be.create(r,t);Array.isArray(e)?n.push(...e):n.push(e)}else n=[].concat(be.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(n=[...new Set(n)]),n};be.parse=(e,t={})=>ge(e,t),be.stringify=(e,t={})=>fe("string"==typeof e?be.parse(e,t):e,t),be.compile=(e,t={})=>("string"==typeof e&&(e=be.parse(e,t)),pe(e,t)),be.expand=(e,t={})=>{"string"==typeof e&&(e=be.parse(e,t));let n=_e(e,t);return!0===t.noempty&&(n=n.filter(Boolean)),!0===t.nodupes&&(n=[...new Set(n)]),n},be.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?be.compile(e,t):be.expand(e,t);var me=be;function we(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function Ae(e,t){for(var n,r="",a=0,i=-1,s=0,o=0;o<=e.length;++o){if(o<e.length)n=e.charCodeAt(o);else{if(47===n)break;n=47}if(47===n){if(i===o-1||1===s);else if(i!==o-1&&2===s){if(r.length<2||2!==a||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",a=0):a=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),i=o,s=0;continue}}else if(2===r.length||1===r.length){r="",a=0,i=o,s=0;continue}t&&(r.length>0?r+="/..":r="..",a=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),a=o-i-1;i=o,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var ye={resolve:function(){for(var e,t="",n=!1,r=arguments.length-1;r>=-1&&!n;r--){var a;r>=0?a=arguments[r]:(void 0===e&&(e=process.cwd()),a=e),we(a),0!==a.length&&(t=a+"/"+t,n=47===a.charCodeAt(0))}return t=Ae(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(we(e),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=Ae(e,!t)).length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return we(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];we(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":ye.normalize(e)},relative:function(e,t){if(we(e),we(t),e===t)return"";if((e=ye.resolve(e))===(t=ye.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var r=e.length,a=r-n,i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var s=t.length-i,o=a<s?a:s,l=-1,u=0;u<=o;++u){if(u===o){if(s>o){if(47===t.charCodeAt(i+u))return t.slice(i+u+1);if(0===u)return t.slice(i+u)}else a>o&&(47===e.charCodeAt(n+u)?l=u:0===u&&(l=0));break}var h=e.charCodeAt(n+u);if(h!==t.charCodeAt(i+u))break;47===h&&(l=u)}var c="";for(u=n+l+1;u<=r;++u)u!==r&&47!==e.charCodeAt(u)||(0===c.length?c+="..":c+="/..");return c.length>0?c+t.slice(i+l):(i+=l,47===t.charCodeAt(i)&&++i,t.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(we(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!a){r=i;break}}else a=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');we(e);var n,r=0,a=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,o=-1;for(n=e.length-1;n>=0;--n){var l=e.charCodeAt(n);if(47===l){if(!i){r=n+1;break}}else-1===o&&(i=!1,o=n+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=o))}return r===a?a=o:-1===a&&(a=e.length),e.slice(r,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){r=n+1;break}}else-1===a&&(i=!1,a=n+1);return-1===a?"":e.slice(r,a)},extname:function(e){we(e);for(var t=-1,n=0,r=-1,a=!0,i=0,s=e.length-1;s>=0;--s){var o=e.charCodeAt(s);if(47!==o)-1===r&&(a=!1,r=s+1),46===o?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){n=s+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){we(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=e.charCodeAt(0),a=47===r;a?(t.root="/",n=1):n=0;for(var i=-1,s=0,o=-1,l=!0,u=e.length-1,h=0;u>=n;--u)if(47!==(r=e.charCodeAt(u)))-1===o&&(l=!1,o=u+1),46===r?-1===i?i=u:1!==h&&(h=1):-1!==i&&(h=-1);else if(!l){s=u+1;break}return-1===i||-1===o||0===h||1===h&&i===o-1&&i===s+1?-1!==o&&(t.base=t.name=0===s&&a?e.slice(1,o):e.slice(s,o)):(0===s&&a?(t.name=e.slice(1,i),t.base=e.slice(1,o)):(t.name=e.slice(s,i),t.base=e.slice(s,o)),t.ext=e.slice(i,o)),s>0?t.dir=e.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};ye.posix=ye;var ve=ye,Re={};const Ee=ve,xe={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:"[^/]",END_ANCHOR:"(?:\\/|$)",DOTS_SLASH:"\\.{1,2}(?:\\/|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|\\/)\\.{1,2}(?:\\/|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:\\/|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:\\/|$))",QMARK_NO_DOT:"[^.\\/]",STAR:"[^/]*?",START_ANCHOR:"(?:^|\\/)"},ke=l(o({},xe),{SLASH_LITERAL:"[\\\\/]",QMARK:"[^\\\\/]",STAR:"[^\\\\/]*?",DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"});var Ce={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Ee.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?ke:xe};!function(e){const t=ve,{REGEX_BACKSLASH:n,REGEX_REMOVE_BACKSLASH:r,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:i}=Ce;e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>a.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(i,"\\$1"),e.toPosixSlashes=e=>e.replace(n,"/"),e.removeBackslashes=e=>e.replace(r,(e=>"\\"===e?"":e)),e.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},e.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:"\\"===t.sep,e.escapeLast=(t,n,r)=>{const a=t.lastIndexOf(n,r);return-1===a?t:"\\"===t[a-1]?e.escapeLast(t,n,a-1):`${t.slice(0,a)}\\${t.slice(a)}`},e.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n},e.wrapOutput=(e,t={},n={})=>{let r=`${n.contains?"":"^"}(?:${e})${n.contains?"":"$"}`;return!0===t.negated&&(r=`(?:^(?!${r}).*$)`),r}}(Re);const Se=Re,{CHAR_ASTERISK:He,CHAR_AT:Oe,CHAR_BACKWARD_SLASH:Te,CHAR_COMMA:Le,CHAR_DOT:$e,CHAR_EXCLAMATION_MARK:Ne,CHAR_FORWARD_SLASH:Ie,CHAR_LEFT_CURLY_BRACE:ze,CHAR_LEFT_PARENTHESES:Ue,CHAR_LEFT_SQUARE_BRACKET:De,CHAR_PLUS:Fe,CHAR_QUESTION_MARK:Be,CHAR_RIGHT_CURLY_BRACE:Me,CHAR_RIGHT_PARENTHESES:Ze,CHAR_RIGHT_SQUARE_BRACKET:Pe}=Ce,Ge=e=>e===Ie||e===Te,Ke=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};var je=(e,t)=>{const n=t||{},r=e.length-1,a=!0===n.parts||!0===n.scanToEnd,i=[],s=[],o=[];let l,u,h=e,c=-1,d=0,f=0,p=!1,_=!1,g=!1,b=!1,m=!1,w=!1,A=!1,y=!1,v=!1,R=!1,E=0,x={value:"",depth:0,isGlob:!1};const k=()=>c>=r,C=()=>(l=u,h.charCodeAt(++c));for(;c<r;){let e;if(u=C(),u!==Te){if(!0===w||u===ze){for(E++;!0!==k()&&(u=C());)if(u!==Te)if(u!==ze){if(!0!==w&&u===$e&&(u=C())===$e){if(p=x.isBrace=!0,g=x.isGlob=!0,R=!0,!0===a)continue;break}if(!0!==w&&u===Le){if(p=x.isBrace=!0,g=x.isGlob=!0,R=!0,!0===a)continue;break}if(u===Me&&(E--,0===E)){w=!1,p=x.isBrace=!0,R=!0;break}}else E++;else A=x.backslashes=!0,C();if(!0===a)continue;break}if(u!==Ie){if(!0!==n.noext){if(!0===(u===Fe||u===Oe||u===He||u===Be||u===Ne)&&h.charCodeAt(c+1)===Ue){if(g=x.isGlob=!0,b=x.isExtglob=!0,R=!0,u===Ne&&c===d&&(v=!0),!0===a){for(;!0!==k()&&(u=C());)if(u!==Te){if(u===Ze){g=x.isGlob=!0,R=!0;break}}else A=x.backslashes=!0,u=C();continue}break}}if(u===He){if(l===He&&(m=x.isGlobstar=!0),g=x.isGlob=!0,R=!0,!0===a)continue;break}if(u===Be){if(g=x.isGlob=!0,R=!0,!0===a)continue;break}if(u===De){for(;!0!==k()&&(e=C());)if(e!==Te){if(e===Pe){_=x.isBracket=!0,g=x.isGlob=!0,R=!0;break}}else A=x.backslashes=!0,C();if(!0===a)continue;break}if(!0===n.nonegate||u!==Ne||c!==d){if(!0!==n.noparen&&u===Ue){if(g=x.isGlob=!0,!0===a){for(;!0!==k()&&(u=C());)if(u!==Ue){if(u===Ze){R=!0;break}}else A=x.backslashes=!0,u=C();continue}break}if(!0===g){if(R=!0,!0===a)continue;break}}else y=x.negated=!0,d++}else{if(i.push(c),s.push(x),x={value:"",depth:0,isGlob:!1},!0===R)continue;if(l===$e&&c===d+1){d+=2;continue}f=c+1}}else A=x.backslashes=!0,u=C(),u===ze&&(w=!0)}!0===n.noext&&(b=!1,g=!1);let S=h,H="",O="";d>0&&(H=h.slice(0,d),h=h.slice(d),f-=d),S&&!0===g&&f>0?(S=h.slice(0,f),O=h.slice(f)):!0===g?(S="",O=h):S=h,S&&""!==S&&"/"!==S&&S!==h&&Ge(S.charCodeAt(S.length-1))&&(S=S.slice(0,-1)),!0===n.unescape&&(O&&(O=Se.removeBackslashes(O)),S&&!0===A&&(S=Se.removeBackslashes(S)));const T={prefix:H,input:e,start:d,base:S,glob:O,isBrace:p,isBracket:_,isGlob:g,isExtglob:b,isGlobstar:m,negated:y,negatedExtglob:v};if(!0===n.tokens&&(T.maxDepth=0,Ge(u)||s.push(x),T.tokens=s),!0===n.parts||!0===n.tokens){let t;for(let r=0;r<i.length;r++){const a=t?t+1:d,l=i[r],u=e.slice(a,l);n.tokens&&(0===r&&0!==d?(s[r].isPrefix=!0,s[r].value=H):s[r].value=u,Ke(s[r]),T.maxDepth+=s[r].depth),0===r&&""===u||o.push(u),t=l}if(t&&t+1<e.length){const r=e.slice(t+1);o.push(r),n.tokens&&(s[s.length-1].value=r,Ke(s[s.length-1]),T.maxDepth+=s[s.length-1].depth)}T.slashes=i,T.parts=o}return T};const We=Ce,Xe=Re,{MAX_LENGTH:Qe,POSIX_REGEX_SOURCE:Ye,REGEX_NON_SPECIAL_CHARS:qe,REGEX_SPECIAL_CHARS_BACKREF:Ve,REPLACEMENTS:Je}=We,et=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch(r){return e.map((e=>Xe.escapeRegex(e))).join("..")}return n},tt=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,nt=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=Je[e]||e;const n=o({},t),r="number"==typeof n.maxLength?Math.min(Qe,n.maxLength):Qe;let a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);const i={type:"bos",value:"",output:n.prepend||""},s=[i],u=n.capture?"":"?:",h=Xe.isWindows(t),c=We.globChars(h),d=We.extglobChars(c),{DOT_LITERAL:f,PLUS_LITERAL:p,SLASH_LITERAL:_,ONE_CHAR:g,DOTS_SLASH:b,NO_DOT:m,NO_DOT_SLASH:w,NO_DOTS_SLASH:A,QMARK:y,QMARK_NO_DOT:v,STAR:R,START_ANCHOR:E}=c,x=e=>`(${u}(?:(?!${E}${e.dot?b:f}).)*?)`,k=n.dot?"":m,C=n.dot?y:v;let S=!0===n.bash?x(n):R;n.capture&&(S=`(${S})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const H={input:e,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=Xe.removePrefix(e,H),a=e.length;const O=[],T=[],L=[];let $,N=i;const I=()=>H.index===a-1,z=H.peek=(t=1)=>e[H.index+t],U=H.advance=()=>e[++H.index]||"",D=()=>e.slice(H.index+1),F=(e="",t=0)=>{H.consumed+=e,H.index+=t},B=e=>{H.output+=null!=e.output?e.output:e.value,F(e.value)},M=()=>{let e=1;for(;"!"===z()&&("("!==z(2)||"?"===z(3));)U(),H.start++,e++;return e%2!=0&&(H.negated=!0,H.start++,!0)},Z=e=>{H[e]++,L.push(e)},P=e=>{H[e]--,L.pop()},G=e=>{if("globstar"===N.type){const t=H.braces>0&&("comma"===e.type||"brace"===e.type),n=!0===e.extglob||O.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||n||(H.output=H.output.slice(0,-N.output.length),N.type="star",N.value="*",N.output=S,H.output+=N.output)}if(O.length&&"paren"!==e.type&&(O[O.length-1].inner+=e.value),(e.value||e.output)&&B(e),N&&"text"===N.type&&"text"===e.type)return N.value+=e.value,void(N.output=(N.output||"")+e.value);e.prev=N,s.push(e),N=e},K=(e,t)=>{const r=l(o({},d[t]),{conditions:1,inner:""});r.prev=N,r.parens=H.parens,r.output=H.output;const a=(n.capture?"(":"")+r.open;Z("parens"),G({type:e,value:t,output:H.output?"":g}),G({type:"paren",extglob:!0,value:U(),output:a}),O.push(r)},j=e=>{let r,a=e.close+(n.capture?")":"");if("negate"===e.type){let i=S;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(i=x(n)),(i!==S||I()||/^\)+$/.test(D()))&&(a=e.close=`)$))${i}`),e.inner.includes("*")&&(r=D())&&/^\.[^\\/.]+$/.test(r)){const n=nt(r,l(o({},t),{fastpaths:!1})).output;a=e.close=`)${n})${i})`}"bos"===e.prev.type&&(H.negatedExtglob=!0)}G({type:"paren",extglob:!0,value:$,output:a}),P("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let r=!1,a=e.replace(Ve,((e,t,n,a,i,s)=>"\\"===a?(r=!0,e):"?"===a?t?t+a+(i?y.repeat(i.length):""):0===s?C+(i?y.repeat(i.length):""):y.repeat(n.length):"."===a?f.repeat(n.length):"*"===a?t?t+a+(i?S:""):S:t?e:`\\${e}`));return!0===r&&(a=!0===n.unescape?a.replace(/\\/g,""):a.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),a===e&&!0===n.contains?(H.output=e,H):(H.output=Xe.wrapOutput(a,H,t),H)}for(;!I();){if($=U(),"\0"===$)continue;if("\\"===$){const e=z();if("/"===e&&!0!==n.bash)continue;if("."===e||";"===e)continue;if(!e){$+="\\",G({type:"text",value:$});continue}const t=/^\\+/.exec(D());let r=0;if(t&&t[0].length>2&&(r=t[0].length,H.index+=r,r%2!=0&&($+="\\")),!0===n.unescape?$=U():$+=U(),0===H.brackets){G({type:"text",value:$});continue}}if(H.brackets>0&&("]"!==$||"["===N.value||"[^"===N.value)){if(!1!==n.posix&&":"===$){const e=N.value.slice(1);if(e.includes("[")&&(N.posix=!0,e.includes(":"))){const e=N.value.lastIndexOf("["),t=N.value.slice(0,e),n=N.value.slice(e+2),r=Ye[n];if(r){N.value=t+r,H.backtrack=!0,U(),i.output||1!==s.indexOf(N)||(i.output=g);continue}}}("["===$&&":"!==z()||"-"===$&&"]"===z())&&($=`\\${$}`),"]"!==$||"["!==N.value&&"[^"!==N.value||($=`\\${$}`),!0===n.posix&&"!"===$&&"["===N.value&&($="^"),N.value+=$,B({value:$});continue}if(1===H.quotes&&'"'!==$){$=Xe.escapeRegex($),N.value+=$,B({value:$});continue}if('"'===$){H.quotes=1===H.quotes?0:1,!0===n.keepQuotes&&G({type:"text",value:$});continue}if("("===$){Z("parens"),G({type:"paren",value:$});continue}if(")"===$){if(0===H.parens&&!0===n.strictBrackets)throw new SyntaxError(tt("opening","("));const e=O[O.length-1];if(e&&H.parens===e.parens+1){j(O.pop());continue}G({type:"paren",value:$,output:H.parens?")":"\\)"}),P("parens");continue}if("["===$){if(!0!==n.nobracket&&D().includes("]"))Z("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(tt("closing","]"));$=`\\${$}`}G({type:"bracket",value:$});continue}if("]"===$){if(!0===n.nobracket||N&&"bracket"===N.type&&1===N.value.length){G({type:"text",value:$,output:`\\${$}`});continue}if(0===H.brackets){if(!0===n.strictBrackets)throw new SyntaxError(tt("opening","["));G({type:"text",value:$,output:`\\${$}`});continue}P("brackets");const e=N.value.slice(1);if(!0===N.posix||"^"!==e[0]||e.includes("/")||($=`/${$}`),N.value+=$,B({value:$}),!1===n.literalBrackets||Xe.hasRegexChars(e))continue;const t=Xe.escapeRegex(N.value);if(H.output=H.output.slice(0,-N.value.length),!0===n.literalBrackets){H.output+=t,N.value=t;continue}N.value=`(${u}${t}|${N.value})`,H.output+=N.value;continue}if("{"===$&&!0!==n.nobrace){Z("braces");const e={type:"brace",value:$,output:"(",outputIndex:H.output.length,tokensIndex:H.tokens.length};T.push(e),G(e);continue}if("}"===$){const e=T[T.length-1];if(!0===n.nobrace||!e){G({type:"text",value:$,output:$});continue}let t=")";if(!0===e.dots){const e=s.slice(),r=[];for(let t=e.length-1;t>=0&&(s.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&r.unshift(e[t].value);t=et(r,n),H.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const n=H.output.slice(0,e.outputIndex),r=H.tokens.slice(e.tokensIndex);e.value=e.output="\\{",$=t="\\}",H.output=n;for(const e of r)H.output+=e.output||e.value}G({type:"brace",value:$,output:t}),P("braces"),T.pop();continue}if("|"===$){O.length>0&&O[O.length-1].conditions++,G({type:"text",value:$});continue}if(","===$){let e=$;const t=T[T.length-1];t&&"braces"===L[L.length-1]&&(t.comma=!0,e="|"),G({type:"comma",value:$,output:e});continue}if("/"===$){if("dot"===N.type&&H.index===H.start+1){H.start=H.index+1,H.consumed="",H.output="",s.pop(),N=i;continue}G({type:"slash",value:$,output:_});continue}if("."===$){if(H.braces>0&&"dot"===N.type){"."===N.value&&(N.output=f);const e=T[T.length-1];N.type="dots",N.output+=$,N.value+=$,e.dots=!0;continue}if(H.braces+H.parens===0&&"bos"!==N.type&&"slash"!==N.type){G({type:"text",value:$,output:f});continue}G({type:"dot",value:$,output:f});continue}if("?"===$){if(!(N&&"("===N.value)&&!0!==n.noextglob&&"("===z()&&"?"!==z(2)){K("qmark",$);continue}if(N&&"paren"===N.type){const e=z();let t=$;if("<"===e&&!Xe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===N.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(D()))&&(t=`\\${$}`),G({type:"text",value:$,output:t});continue}if(!0!==n.dot&&("slash"===N.type||"bos"===N.type)){G({type:"qmark",value:$,output:v});continue}G({type:"qmark",value:$,output:y});continue}if("!"===$){if(!0!==n.noextglob&&"("===z()&&("?"!==z(2)||!/[!=<:]/.test(z(3)))){K("negate",$);continue}if(!0!==n.nonegate&&0===H.index){M();continue}}if("+"===$){if(!0!==n.noextglob&&"("===z()&&"?"!==z(2)){K("plus",$);continue}if(N&&"("===N.value||!1===n.regex){G({type:"plus",value:$,output:p});continue}if(N&&("bracket"===N.type||"paren"===N.type||"brace"===N.type)||H.parens>0){G({type:"plus",value:$});continue}G({type:"plus",value:p});continue}if("@"===$){if(!0!==n.noextglob&&"("===z()&&"?"!==z(2)){G({type:"at",extglob:!0,value:$,output:""});continue}G({type:"text",value:$});continue}if("*"!==$){"$"!==$&&"^"!==$||($=`\\${$}`);const e=qe.exec(D());e&&($+=e[0],H.index+=e[0].length),G({type:"text",value:$});continue}if(N&&("globstar"===N.type||!0===N.star)){N.type="star",N.star=!0,N.value+=$,N.output=S,H.backtrack=!0,H.globstar=!0,F($);continue}let t=D();if(!0!==n.noextglob&&/^\([^?]/.test(t)){K("star",$);continue}if("star"===N.type){if(!0===n.noglobstar){F($);continue}const r=N.prev,a=r.prev,i="slash"===r.type||"bos"===r.type,s=a&&("star"===a.type||"globstar"===a.type);if(!0===n.bash&&(!i||t[0]&&"/"!==t[0])){G({type:"star",value:$,output:""});continue}const o=H.braces>0&&("comma"===r.type||"brace"===r.type),l=O.length&&("pipe"===r.type||"paren"===r.type);if(!i&&"paren"!==r.type&&!o&&!l){G({type:"star",value:$,output:""});continue}for(;"/**"===t.slice(0,3);){const n=e[H.index+4];if(n&&"/"!==n)break;t=t.slice(3),F("/**",3)}if("bos"===r.type&&I()){N.type="globstar",N.value+=$,N.output=x(n),H.output=N.output,H.globstar=!0,F($);continue}if("slash"===r.type&&"bos"!==r.prev.type&&!s&&I()){H.output=H.output.slice(0,-(r.output+N.output).length),r.output=`(?:${r.output}`,N.type="globstar",N.output=x(n)+(n.strictSlashes?")":"|$)"),N.value+=$,H.globstar=!0,H.output+=r.output+N.output,F($);continue}if("slash"===r.type&&"bos"!==r.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";H.output=H.output.slice(0,-(r.output+N.output).length),r.output=`(?:${r.output}`,N.type="globstar",N.output=`${x(n)}${_}|${_}${e})`,N.value+=$,H.output+=r.output+N.output,H.globstar=!0,F($+U()),G({type:"slash",value:"/",output:""});continue}if("bos"===r.type&&"/"===t[0]){N.type="globstar",N.value+=$,N.output=`(?:^|${_}|${x(n)}${_})`,H.output=N.output,H.globstar=!0,F($+U()),G({type:"slash",value:"/",output:""});continue}H.output=H.output.slice(0,-N.output.length),N.type="globstar",N.output=x(n),N.value+=$,H.output+=N.output,H.globstar=!0,F($);continue}const r={type:"star",value:$,output:S};!0!==n.bash?!N||"bracket"!==N.type&&"paren"!==N.type||!0!==n.regex?(H.index!==H.start&&"slash"!==N.type&&"dot"!==N.type||("dot"===N.type?(H.output+=w,N.output+=w):!0===n.dot?(H.output+=A,N.output+=A):(H.output+=k,N.output+=k),"*"!==z()&&(H.output+=g,N.output+=g)),G(r)):(r.output=$,G(r)):(r.output=".*?","bos"!==N.type&&"slash"!==N.type||(r.output=k+r.output),G(r))}for(;H.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(tt("closing","]"));H.output=Xe.escapeLast(H.output,"["),P("brackets")}for(;H.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(tt("closing",")"));H.output=Xe.escapeLast(H.output,"("),P("parens")}for(;H.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(tt("closing","}"));H.output=Xe.escapeLast(H.output,"{"),P("braces")}if(!0===n.strictSlashes||"star"!==N.type&&"bracket"!==N.type||G({type:"maybe_slash",value:"",output:`${_}?`}),!0===H.backtrack){H.output="";for(const e of H.tokens)H.output+=null!=e.output?e.output:e.value,e.suffix&&(H.output+=e.suffix)}return H};nt.fastpaths=(e,t)=>{const n=o({},t),r="number"==typeof n.maxLength?Math.min(Qe,n.maxLength):Qe,a=e.length;if(a>r)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${r}`);e=Je[e]||e;const i=Xe.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:l,ONE_CHAR:u,DOTS_SLASH:h,NO_DOT:c,NO_DOTS:d,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:_}=We.globChars(i),g=n.dot?d:c,b=n.dot?f:c,m=n.capture?"":"?:";let w=!0===n.bash?".*?":p;n.capture&&(w=`(${w})`);const A=e=>!0===e.noglobstar?w:`(${m}(?:(?!${_}${e.dot?h:s}).)*?)`,y=e=>{switch(e){case"*":return`${g}${u}${w}`;case".*":return`${s}${u}${w}`;case"*.*":return`${g}${w}${s}${u}${w}`;case"*/*":return`${g}${w}${l}${u}${b}${w}`;case"**":return g+A(n);case"**/*":return`(?:${g}${A(n)}${l})?${b}${u}${w}`;case"**/*.*":return`(?:${g}${A(n)}${l})?${b}${w}${s}${u}${w}`;case"**/.*":return`(?:${g}${A(n)}${l})?${s}${u}${w}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const n=y(t[1]);if(!n)return;return n+s+t[2]}}},v=Xe.removePrefix(e,{negated:!1,prefix:""});let R=y(v);return R&&!0!==n.strictSlashes&&(R+=`${l}?`),R};const rt=ve,at=je,it=nt,st=Re,ot=Ce,lt=(e,t,n=!1)=>{if(Array.isArray(e)){const r=e.map((e=>lt(e,t,n)));return e=>{for(const t of r){const n=t(e);if(n)return n}return!1}}const r=(a=e)&&"object"==typeof a&&!Array.isArray(a)&&e.tokens&&e.input;var a;if(""===e||"string"!=typeof e&&!r)throw new TypeError("Expected pattern to be a non-empty string");const i=t||{},s=st.isWindows(t),u=r?lt.compileRe(e,t):lt.makeRe(e,t,!1,!0),h=u.state;delete u.state;let c=()=>!1;if(i.ignore){const e=l(o({},t),{ignore:null,onMatch:null,onResult:null});c=lt(i.ignore,e,n)}const d=(n,r=!1)=>{const{isMatch:a,match:o,output:l}=lt.test(n,u,t,{glob:e,posix:s}),d={glob:e,state:h,regex:u,posix:s,input:n,output:l,match:o,isMatch:a};return"function"==typeof i.onResult&&i.onResult(d),!1===a?(d.isMatch=!1,!!r&&d):c(n)?("function"==typeof i.onIgnore&&i.onIgnore(d),d.isMatch=!1,!!r&&d):("function"==typeof i.onMatch&&i.onMatch(d),!r||d)};return n&&(d.state=h),d};lt.test=(e,t,n,{glob:r,posix:a}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const i=n||{},s=i.format||(a?st.toPosixSlashes:null);let o=e===r,l=o&&s?s(e):e;return!1===o&&(l=s?s(e):e,o=l===r),!1!==o&&!0!==i.capture||(o=!0===i.matchBase||!0===i.basename?lt.matchBase(e,t,n,a):t.exec(l)),{isMatch:Boolean(o),match:o,output:l}},lt.matchBase=(e,t,n,r=st.isWindows(n))=>(t instanceof RegExp?t:lt.makeRe(t,n)).test(rt.basename(e)),lt.isMatch=(e,t,n)=>lt(t,n)(e),lt.parse=(e,t)=>Array.isArray(e)?e.map((e=>lt.parse(e,t))):it(e,l(o({},t),{fastpaths:!1})),lt.scan=(e,t)=>at(e,t),lt.compileRe=(e,t,n=!1,r=!1)=>{if(!0===n)return e.output;const a=t||{},i=a.contains?"":"^",s=a.contains?"":"$";let o=`${i}(?:${e.output})${s}`;e&&!0===e.negated&&(o=`^(?!${o}).*$`);const l=lt.toRegex(o,t);return!0===r&&(l.state=e),l},lt.makeRe=(e,t={},n=!1,r=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let a={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(a.output=it.fastpaths(e,t)),a.output||(a=it(e,t)),lt.compileRe(a,t,n,r)},lt.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(n){if(t&&!0===t.debug)throw n;return/$^/}},lt.constants=ot;const ut=d,ht=me,ct=lt,dt=Re,ft=e=>""===e||"./"===e,pt=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let r=new Set,a=new Set,i=new Set,s=0,u=e=>{i.add(e.output),n&&n.onResult&&n.onResult(e)};for(let c=0;c<t.length;c++){let i=ct(String(t[c]),l(o({},n),{onResult:u}),!0),h=i.state.negated||i.state.negatedExtglob;h&&s++;for(let t of e){let e=i(t,!0);(h?!e.isMatch:e.isMatch)&&(h?r.add(e.output):(r.delete(e.output),a.add(e.output)))}}let h=(s===t.length?[...i]:[...a]).filter((e=>!r.has(e)));if(n&&0===h.length){if(!0===n.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?t.map((e=>e.replace(/\\/g,""))):t}return h};pt.match=pt,pt.matcher=(e,t)=>ct(e,t),pt.any=pt.isMatch=(e,t,n)=>ct(t,n)(e),pt.not=(e,t,n={})=>{t=[].concat(t).map(String);let r=new Set,a=[],i=new Set(pt(e,t,l(o({},n),{onResult:e=>{n.onResult&&n.onResult(e),a.push(e.output)}})));for(let s of a)i.has(s)||r.add(s);return[...r]},pt.contains=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${ut.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>pt.contains(e,t,n)));if("string"==typeof t){if(ft(e)||ft(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return pt.isMatch(e,t,l(o({},n),{contains:!0}))},pt.matchKeys=(e,t,n)=>{if(!dt.isObject(e))throw new TypeError("Expected the first argument to be an object");let r=pt(Object.keys(e),t,n),a={};for(let i of r)a[i]=e[i];return a},pt.some=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let e=ct(String(a),n);if(r.some((t=>e(t))))return!0}return!1},pt.every=(e,t,n)=>{let r=[].concat(e);for(let a of[].concat(t)){let e=ct(String(a),n);if(!r.every((t=>e(t))))return!1}return!0},pt.all=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${ut.inspect(e)}"`);return[].concat(t).every((t=>ct(t,n)(e)))},pt.capture=(e,t,n)=>{let r=dt.isWindows(n),a=ct.makeRe(String(e),l(o({},n),{capture:!0})).exec(r?dt.toPosixSlashes(t):t);if(a)return a.slice(1).map((e=>void 0===e?"":e))},pt.makeRe=(...e)=>ct.makeRe(...e),pt.scan=(...e)=>ct.scan(...e),pt.parse=(e,t)=>{let n=[];for(let r of[].concat(e||[]))for(let e of ht(String(r),t))n.push(ct.parse(e,t));return n},pt.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:ht(e,t)},pt.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return pt.braces(e,l(o({},t),{expand:!0}))};var _t=pt;
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function gt(e){let t=e.length;for(;--t>=0;)e[t]=0}const bt=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),wt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),At=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yt=new Array(576);gt(yt);const vt=new Array(60);gt(vt);const Rt=new Array(512);gt(Rt);const Et=new Array(256);gt(Et);const xt=new Array(29);gt(xt);const kt=new Array(30);function Ct(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let St,Ht,Ot;function Tt(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}gt(kt);const Lt=e=>e<256?Rt[e]:Rt[256+(e>>>7)],$t=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Nt=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,$t(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},It=(e,t,n)=>{Nt(e,n[2*t],n[2*t+1])},zt=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Ut=(e,t,n)=>{const r=new Array(16);let a,i,s=0;for(a=1;a<=15;a++)r[a]=s=s+n[a-1]<<1;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=zt(r[t]++,t))}},Dt=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Ft=e=>{e.bi_valid>8?$t(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Bt=(e,t,n,r)=>{const a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},Mt=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Bt(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Bt(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},Zt=(e,t,n)=>{let r,a,i,s,o=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],a=e.pending_buf[e.l_buf+o],o++,0===r?It(e,a,t):(i=Et[a],It(e,i+256+1,t),s=bt[i],0!==s&&(a-=xt[i],Nt(e,a,s)),r--,i=Lt(r),It(e,i,n),s=mt[i],0!==s&&(r-=kt[i],Nt(e,r,s)))}while(o<e.last_lit);It(e,256,t)},Pt=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,o,l,u=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<i;s++)0!==n[2*s]?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[2*l+1]);for(t.max_code=u,s=e.heap_len>>1;s>=1;s--)Mt(e,n,s);l=i;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Mt(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[2*l]=n[2*s]+n[2*o],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[2*s+1]=n[2*o+1]=l,e.heap[1]=l++,Mt(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,h,c,d,f,p,_=0;for(d=0;d<=15;d++)e.bl_count[d]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)h=e.heap[u],d=n[2*n[2*h+1]+1]+1,d>l&&(d=l,_++),n[2*h+1]=d,h>r||(e.bl_count[d]++,f=0,h>=o&&(f=s[h-o]),p=n[2*h],e.opt_len+=p*(d+f),i&&(e.static_len+=p*(a[2*h+1]+f)));if(0!==_){do{for(d=l-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[l]--,_-=2}while(_>0);for(d=l;0!==d;d--)for(h=e.bl_count[d];0!==h;)c=e.heap[--u],c>r||(n[2*c+1]!==d&&(e.opt_len+=(d-n[2*c+1])*n[2*c],n[2*c+1]=d),h--)}})(e,t),Ut(n,u,e.bl_count)},Gt=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=t[2*(r+1)+1],++o<l&&a===s||(o<u?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=a,0===s?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4))},Kt=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,u=4;for(0===s&&(l=138,u=3),r=0;r<=n;r++)if(a=s,s=t[2*(r+1)+1],!(++o<l&&a===s)){if(o<u)do{It(e,a,e.bl_tree)}while(0!=--o);else 0!==a?(a!==i&&(It(e,a,e.bl_tree),o--),It(e,16,e.bl_tree),Nt(e,o-3,2)):o<=10?(It(e,17,e.bl_tree),Nt(e,o-3,3)):(It(e,18,e.bl_tree),Nt(e,o-11,7));o=0,i=a,0===s?(l=138,u=3):a===s?(l=6,u=3):(l=7,u=4)}};let jt=!1;const Wt=(e,t,n,r)=>{Nt(e,0+(r?1:0),3),((e,t,n,r)=>{Ft(e),r&&($t(e,n),$t(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var Xt={_tr_init:e=>{jt||((()=>{let e,t,n,r,a;const i=new Array(16);for(n=0,r=0;r<28;r++)for(xt[r]=n,e=0;e<1<<bt[r];e++)Et[n++]=r;for(Et[n-1]=r,a=0,r=0;r<16;r++)for(kt[r]=a,e=0;e<1<<mt[r];e++)Rt[a++]=r;for(a>>=7;r<30;r++)for(kt[r]=a<<7,e=0;e<1<<mt[r]-7;e++)Rt[256+a++]=r;for(t=0;t<=15;t++)i[t]=0;for(e=0;e<=143;)yt[2*e+1]=8,e++,i[8]++;for(;e<=255;)yt[2*e+1]=9,e++,i[9]++;for(;e<=279;)yt[2*e+1]=7,e++,i[7]++;for(;e<=287;)yt[2*e+1]=8,e++,i[8]++;for(Ut(yt,287,i),e=0;e<30;e++)vt[2*e+1]=5,vt[2*e]=zt(e,5);St=new Ct(yt,bt,257,286,15),Ht=new Ct(vt,mt,0,30,15),Ot=new Ct(new Array(0),wt,0,19,7)})(),jt=!0),e.l_desc=new Tt(e.dyn_ltree,St),e.d_desc=new Tt(e.dyn_dtree,Ht),e.bl_desc=new Tt(e.bl_tree,Ot),e.bi_buf=0,e.bi_valid=0,Dt(e)},_tr_stored_block:Wt,_tr_flush_block:(e,t,n,r)=>{let a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Pt(e,e.l_desc),Pt(e,e.d_desc),s=(e=>{let t;for(Gt(e,e.dyn_ltree,e.l_desc.max_code),Gt(e,e.dyn_dtree,e.d_desc.max_code),Pt(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*At[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?Wt(e,t,n,r):4===e.strategy||i===a?(Nt(e,2+(r?1:0),3),Zt(e,yt,vt)):(Nt(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(Nt(e,t-257,5),Nt(e,n-1,5),Nt(e,r-4,4),a=0;a<r;a++)Nt(e,e.bl_tree[2*At[a]+1],3);Kt(e,e.dyn_ltree,t-1),Kt(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Zt(e,e.dyn_ltree,e.dyn_dtree)),Dt(e),r&&Ft(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(Et[n]+256+1)]++,e.dyn_dtree[2*Lt(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{Nt(e,2,3),It(e,256,yt),(e=>{16===e.bi_valid?($t(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Qt=(e,t,n,r)=>{let a=65535&e|0,i=e>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{a=a+t[r++]|0,i=i+a|0}while(--s);a%=65521,i%=65521}return a|i<<16|0};const Yt=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var qt=(e,t,n,r)=>{const a=Yt,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e},Vt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Jt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:en,_tr_stored_block:tn,_tr_flush_block:nn,_tr_tally:rn,_tr_align:an}=Xt,{Z_NO_FLUSH:sn,Z_PARTIAL_FLUSH:on,Z_FULL_FLUSH:ln,Z_FINISH:un,Z_BLOCK:hn,Z_OK:cn,Z_STREAM_END:dn,Z_STREAM_ERROR:fn,Z_DATA_ERROR:pn,Z_BUF_ERROR:_n,Z_DEFAULT_COMPRESSION:gn,Z_FILTERED:bn,Z_HUFFMAN_ONLY:mn,Z_RLE:wn,Z_FIXED:An,Z_DEFAULT_STRATEGY:yn,Z_UNKNOWN:vn,Z_DEFLATED:Rn}=Jt,En=(e,t)=>(e.msg=Vt[t],t),xn=e=>(e<<1)-(e>4?9:0),kn=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Cn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Sn=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Hn=(e,t)=>{nn(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Sn(e.strm)},On=(e,t)=>{e.pending_buf[e.pending++]=t},Tn=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ln=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=Qt(e.adler,t,a,n):2===e.state.wrap&&(e.adler=qt(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},$n=(e,t)=>{let n,r,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,h=e.w_mask,c=e.prev,d=e.strstart+258;let f=u[i+s-1],p=u[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,u[n+s]===p&&u[n+s-1]===f&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<d);if(r=258-(d-i),i=d-258,r>s){if(e.match_start=t,s=r,r>=o)break;f=u[i+s-1],p=u[i+s]}}}while((t=c[t&h])>l&&0!=--a);return s<=e.lookahead?s:e.lookahead},Nn=e=>{const t=e.w_size;let n,r,a,i,s;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{a=e.head[--n],e.head[n]=a>=t?a-t:0}while(--r);r=t,n=r;do{a=e.prev[--n],e.prev[n]=a>=t?a-t:0}while(--r);i+=t}if(0===e.strm.avail_in)break;if(r=Ln(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=Cn(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=Cn(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},In=(e,t)=>{let n,r;for(;;){if(e.lookahead<262){if(Nn(e),e.lookahead<262&&t===sn)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Cn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=$n(e,n)),e.match_length>=3)if(r=rn(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Cn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Cn(e,e.ins_h,e.window[e.strstart+1]);else r=rn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Hn(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===un?(Hn(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Hn(e,!1),0===e.strm.avail_out)?1:2},zn=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<262){if(Nn(e),e.lookahead<262&&t===sn)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Cn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=$n(e,n),e.match_length<=5&&(e.strategy===bn||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=rn(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Cn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Hn(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=rn(e,0,e.window[e.strstart-1]),r&&Hn(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=rn(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===un?(Hn(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Hn(e,!1),0===e.strm.avail_out)?1:2};function Un(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const Dn=[new Un(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Nn(e),0===e.lookahead&&t===sn)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Hn(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(Hn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===un?(Hn(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Hn(e,!1),e.strm.avail_out),1)})),new Un(4,4,8,4,In),new Un(4,5,16,8,In),new Un(4,6,32,32,In),new Un(4,4,16,16,zn),new Un(8,16,32,32,zn),new Un(8,16,128,128,zn),new Un(8,32,128,256,zn),new Un(32,128,258,1024,zn),new Un(32,258,258,4096,zn)];function Fn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Rn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),kn(this.dyn_ltree),kn(this.dyn_dtree),kn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),kn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),kn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Bn=e=>{if(!e||!e.state)return En(e,fn);e.total_in=e.total_out=0,e.data_type=vn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=sn,en(t),cn},Mn=e=>{const t=Bn(e);var n;return t===cn&&((n=e.state).window_size=2*n.w_size,kn(n.head),n.max_lazy_match=Dn[n.level].max_lazy,n.good_match=Dn[n.level].good_length,n.nice_match=Dn[n.level].nice_length,n.max_chain_length=Dn[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Zn=(e,t,n,r,a,i)=>{if(!e)return fn;let s=1;if(t===gn&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||n!==Rn||r<8||r>15||t<0||t>9||i<0||i>An)return En(e,fn);8===r&&(r=9);const o=new Fn;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=i,o.method=n,Mn(e)};var Pn={deflateInit:(e,t)=>Zn(e,t,Rn,15,8,yn),deflateInit2:Zn,deflateReset:Mn,deflateResetKeep:Bn,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?fn:(e.state.gzhead=t,cn):fn,deflate:(e,t)=>{let n,r;if(!e||!e.state||t>hn||t<0)return e?En(e,fn):fn;const a=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===a.status&&t!==un)return En(e,0===e.avail_out?_n:fn);a.strm=e;const i=a.last_flush;if(a.last_flush=t,42===a.status)if(2===a.wrap)e.adler=0,On(a,31),On(a,139),On(a,8),a.gzhead?(On(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),On(a,255&a.gzhead.time),On(a,a.gzhead.time>>8&255),On(a,a.gzhead.time>>16&255),On(a,a.gzhead.time>>24&255),On(a,9===a.level?2:a.strategy>=mn||a.level<2?4:0),On(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(On(a,255&a.gzhead.extra.length),On(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=qt(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(On(a,0),On(a,0),On(a,0),On(a,0),On(a,0),On(a,9===a.level?2:a.strategy>=mn||a.level<2?4:0),On(a,3),a.status=113);else{let t=Rn+(a.w_bits-8<<4)<<8,n=-1;n=a.strategy>=mn||a.level<2?0:a.level<6?1:6===a.level?2:3,t|=n<<6,0!==a.strstart&&(t|=32),t+=31-t%31,a.status=113,Tn(a,t),0!==a.strstart&&(Tn(a,e.adler>>>16),Tn(a,65535&e.adler)),e.adler=1}if(69===a.status)if(a.gzhead.extra){for(n=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>n&&(e.adler=qt(e.adler,a.pending_buf,a.pending-n,n)),Sn(e),n=a.pending,a.pending!==a.pending_buf_size));)On(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>n&&(e.adler=qt(e.adler,a.pending_buf,a.pending-n,n)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(73===a.status)if(a.gzhead.name){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=qt(e.adler,a.pending_buf,a.pending-n,n)),Sn(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,On(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=qt(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.gzindex=0,a.status=91)}else a.status=91;if(91===a.status)if(a.gzhead.comment){n=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>n&&(e.adler=qt(e.adler,a.pending_buf,a.pending-n,n)),Sn(e),n=a.pending,a.pending===a.pending_buf_size)){r=1;break}r=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,On(a,r)}while(0!==r);a.gzhead.hcrc&&a.pending>n&&(e.adler=qt(e.adler,a.pending_buf,a.pending-n,n)),0===r&&(a.status=103)}else a.status=103;if(103===a.status&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Sn(e),a.pending+2<=a.pending_buf_size&&(On(a,255&e.adler),On(a,e.adler>>8&255),e.adler=0,a.status=113)):a.status=113),0!==a.pending){if(Sn(e),0===e.avail_out)return a.last_flush=-1,cn}else if(0===e.avail_in&&xn(t)<=xn(i)&&t!==un)return En(e,_n);if(666===a.status&&0!==e.avail_in)return En(e,_n);if(0!==e.avail_in||0!==a.lookahead||t!==sn&&666!==a.status){let n=a.strategy===mn?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Nn(e),0===e.lookahead)){if(t===sn)return 1;break}if(e.match_length=0,n=rn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Hn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===un?(Hn(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Hn(e,!1),0===e.strm.avail_out)?1:2})(a,t):a.strategy===wn?((e,t)=>{let n,r,a,i;const s=e.window;for(;;){if(e.lookahead<=258){if(Nn(e),e.lookahead<=258&&t===sn)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=e.strstart+258;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);e.match_length=258-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=rn(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=rn(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Hn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===un?(Hn(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Hn(e,!1),0===e.strm.avail_out)?1:2})(a,t):Dn[a.level].func(a,t);if(3!==n&&4!==n||(a.status=666),1===n||3===n)return 0===e.avail_out&&(a.last_flush=-1),cn;if(2===n&&(t===on?an(a):t!==hn&&(tn(a,0,0,!1),t===ln&&(kn(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),Sn(e),0===e.avail_out))return a.last_flush=-1,cn}return t!==un?cn:a.wrap<=0?dn:(2===a.wrap?(On(a,255&e.adler),On(a,e.adler>>8&255),On(a,e.adler>>16&255),On(a,e.adler>>24&255),On(a,255&e.total_in),On(a,e.total_in>>8&255),On(a,e.total_in>>16&255),On(a,e.total_in>>24&255)):(Tn(a,e.adler>>>16),Tn(a,65535&e.adler)),Sn(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?cn:dn)},deflateEnd:e=>{if(!e||!e.state)return fn;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?En(e,fn):(e.state=null,113===t?En(e,pn):cn)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return fn;const r=e.state,a=r.wrap;if(2===a||1===a&&42!==r.status||r.lookahead)return fn;if(1===a&&(e.adler=Qt(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(kn(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Nn(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Cn(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Nn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=i,r.wrap=a,cn},deflateInfo:"pako deflate (from Nodeca project)"};const Gn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Kn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Gn(n,t)&&(e[t]=n[t])}}return e},jn=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,i=e.length;r<i;r++){let t=e[r];n.set(t,a),a+=t.length}return n};let Wn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(da){Wn=!1}const Xn=new Uint8Array(256);for(let fa=0;fa<256;fa++)Xn[fa]=fa>=252?6:fa>=248?5:fa>=240?4:fa>=224?3:fa>=192?2:1;Xn[254]=Xn[254]=1;var Qn=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,s=e.length,o=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},Yn=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){i[a++]=t;continue}let s=Xn[t];if(s>4)i[a++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?i[a++]=65533:t<65536?i[a++]=t:(t-=65536,i[a++]=55296|t>>10&1023,i[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Wn)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,a)},qn=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Xn[e[n]]>t?n:t};var Vn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Jn=Object.prototype.toString,{Z_NO_FLUSH:er,Z_SYNC_FLUSH:tr,Z_FULL_FLUSH:nr,Z_FINISH:rr,Z_OK:ar,Z_STREAM_END:ir,Z_DEFAULT_COMPRESSION:sr,Z_DEFAULT_STRATEGY:or,Z_DEFLATED:lr}=Jt;function ur(e){this.options=Kn({level:sr,method:lr,chunkSize:16384,windowBits:15,memLevel:8,strategy:or},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vn,this.strm.avail_out=0;let n=Pn.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ar)throw new Error(Vt[n]);if(t.header&&Pn.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Qn(t.dictionary):"[object ArrayBuffer]"===Jn.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Pn.deflateSetDictionary(this.strm,e),n!==ar)throw new Error(Vt[n]);this._dict_set=!0}}function hr(e,t){const n=new ur(t);if(n.push(e,!0),n.err)throw n.msg||Vt[n.err];return n.result}ur.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?rr:er,"string"==typeof e?n.input=Qn(e):"[object ArrayBuffer]"===Jn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===tr||i===nr)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=Pn.deflate(n,i),a===ir)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=Pn.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===ar;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ur.prototype.onData=function(e){this.chunks.push(e)},ur.prototype.onEnd=function(e){e===ar&&(this.result=jn(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var cr={Deflate:ur,deflate:hr,deflateRaw:function(e,t){return(t=t||{}).raw=!0,hr(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,hr(e,t)},constants:Jt};var dr=function(e,t){let n,r,a,i,s,o,l,u,h,c,d,f,p,_,g,b,m,w,A,y,v,R,E,x;const k=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),a=e.next_out,x=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=k.dmax,l=k.wsize,u=k.whave,h=k.wnext,c=k.window,d=k.hold,f=k.bits,p=k.lencode,_=k.distcode,g=(1<<k.lenbits)-1,b=(1<<k.distbits)-1;e:do{f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),m=p[d&g];t:for(;;){if(w=m>>>24,d>>>=w,f-=w,w=m>>>16&255,0===w)x[a++]=65535&m;else{if(!(16&w)){if(0==(64&w)){m=p[(65535&m)+(d&(1<<w)-1)];continue t}if(32&w){k.mode=12;break e}e.msg="invalid literal/length code",k.mode=30;break e}A=65535&m,w&=15,w&&(f<w&&(d+=E[n++]<<f,f+=8),A+=d&(1<<w)-1,d>>>=w,f-=w),f<15&&(d+=E[n++]<<f,f+=8,d+=E[n++]<<f,f+=8),m=_[d&b];n:for(;;){if(w=m>>>24,d>>>=w,f-=w,w=m>>>16&255,!(16&w)){if(0==(64&w)){m=_[(65535&m)+(d&(1<<w)-1)];continue n}e.msg="invalid distance code",k.mode=30;break e}if(y=65535&m,w&=15,f<w&&(d+=E[n++]<<f,f+=8,f<w&&(d+=E[n++]<<f,f+=8)),y+=d&(1<<w)-1,y>o){e.msg="invalid distance too far back",k.mode=30;break e}if(d>>>=w,f-=w,w=a-i,y>w){if(w=y-w,w>u&&k.sane){e.msg="invalid distance too far back",k.mode=30;break e}if(v=0,R=c,0===h){if(v+=l-w,w<A){A-=w;do{x[a++]=c[v++]}while(--w);v=a-y,R=x}}else if(h<w){if(v+=l+h-w,w-=h,w<A){A-=w;do{x[a++]=c[v++]}while(--w);if(v=0,h<A){w=h,A-=w;do{x[a++]=c[v++]}while(--w);v=a-y,R=x}}}else if(v+=h-w,w<A){A-=w;do{x[a++]=c[v++]}while(--w);v=a-y,R=x}for(;A>2;)x[a++]=R[v++],x[a++]=R[v++],x[a++]=R[v++],A-=3;A&&(x[a++]=R[v++],A>1&&(x[a++]=R[v++]))}else{v=a-y;do{x[a++]=x[v++],x[a++]=x[v++],x[a++]=x[v++],A-=3}while(A>2);A&&(x[a++]=x[v++],A>1&&(x[a++]=x[v++]))}break}}break}}while(n<r&&a<s);A=f>>3,n-=A,f-=A<<3,d&=(1<<f)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),k.hold=d,k.bits=f};const fr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_r=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var br=(e,t,n,r,a,i,s,o)=>{const l=o.bits;let u,h,c,d,f,p,_=0,g=0,b=0,m=0,w=0,A=0,y=0,v=0,R=0,E=0,x=null,k=0;const C=new Uint16Array(16),S=new Uint16Array(16);let H,O,T,L=null,$=0;for(_=0;_<=15;_++)C[_]=0;for(g=0;g<r;g++)C[t[n+g]]++;for(w=l,m=15;m>=1&&0===C[m];m--);if(w>m&&(w=m),0===m)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(b=1;b<m&&0===C[b];b++);for(w<b&&(w=b),v=1,_=1;_<=15;_++)if(v<<=1,v-=C[_],v<0)return-1;if(v>0&&(0===e||1!==m))return-1;for(S[1]=0,_=1;_<15;_++)S[_+1]=S[_]+C[_];for(g=0;g<r;g++)0!==t[n+g]&&(s[S[t[n+g]]++]=g);if(0===e?(x=L=s,p=19):1===e?(x=fr,k-=257,L=pr,$-=257,p=256):(x=_r,L=gr,p=-1),E=0,g=0,_=b,f=i,A=w,y=0,c=-1,R=1<<w,d=R-1,1===e&&R>852||2===e&&R>592)return 1;for(;;){H=_-y,s[g]<p?(O=0,T=s[g]):s[g]>p?(O=L[$+s[g]],T=x[k+s[g]]):(O=96,T=0),u=1<<_-y,h=1<<A,b=h;do{h-=u,a[f+(E>>y)+h]=H<<24|O<<16|T|0}while(0!==h);for(u=1<<_-1;E&u;)u>>=1;if(0!==u?(E&=u-1,E+=u):E=0,g++,0==--C[_]){if(_===m)break;_=t[n+s[g]]}if(_>w&&(E&d)!==c){for(0===y&&(y=w),f+=b,A=_-y,v=1<<A;A+y<m&&(v-=C[A+y],!(v<=0));)A++,v<<=1;if(R+=1<<A,1===e&&R>852||2===e&&R>592)return 1;c=E&d,a[c]=w<<24|A<<16|f-i|0}}return 0!==E&&(a[f+E]=_-y<<24|64<<16|0),o.bits=w,0};const{Z_FINISH:mr,Z_BLOCK:wr,Z_TREES:Ar,Z_OK:yr,Z_STREAM_END:vr,Z_NEED_DICT:Rr,Z_STREAM_ERROR:Er,Z_DATA_ERROR:xr,Z_MEM_ERROR:kr,Z_BUF_ERROR:Cr,Z_DEFLATED:Sr}=Jt,Hr=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Or(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Tr=e=>{if(!e||!e.state)return Er;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,yr},Lr=e=>{if(!e||!e.state)return Er;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Tr(e)},$r=(e,t)=>{let n;if(!e||!e.state)return Er;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Er:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Lr(e))},Nr=(e,t)=>{if(!e)return Er;const n=new Or;e.state=n,n.window=null;const r=$r(e,t);return r!==yr&&(e.state=null),r};let Ir,zr,Ur=!0;const Dr=e=>{if(Ur){Ir=new Int32Array(512),zr=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(br(1,e.lens,0,288,Ir,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;br(2,e.lens,0,32,zr,0,e.work,{bits:5}),Ur=!1}e.lencode=Ir,e.lenbits=9,e.distcode=zr,e.distbits=5},Fr=(e,t,n,r)=>{let a;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var Br={inflateReset:Lr,inflateReset2:$r,inflateResetKeep:Tr,inflateInit:e=>Nr(e,15),inflateInit2:Nr,inflate:(e,t)=>{let n,r,a,i,s,o,l,u,h,c,d,f,p,_,g,b,m,w,A,y,v,R,E=0;const x=new Uint8Array(4);let k,C;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Er;n=e.state,12===n.mode&&(n.mode=13),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,u=n.hold,h=n.bits,c=o,d=l,R=yr;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;h<16;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(2&n.wrap&&35615===u){n.check=0,x[0]=255&u,x[1]=u>>>8&255,n.check=qt(n.check,x,2,0),u=0,h=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=30;break}if((15&u)!==Sr){e.msg="unknown compression method",n.mode=30;break}if(u>>>=4,h-=4,v=8+(15&u),0===n.wbits)n.wbits=v;else if(v>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&u?10:12,u=0,h=0;break;case 2:for(;h<16;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(n.flags=u,(255&n.flags)!==Sr){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(x[0]=255&u,x[1]=u>>>8&255,n.check=qt(n.check,x,2,0)),u=0,h=0,n.mode=3;case 3:for(;h<32;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}n.head&&(n.head.time=u),512&n.flags&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,n.check=qt(n.check,x,4,0)),u=0,h=0,n.mode=4;case 4:for(;h<16;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(x[0]=255&u,x[1]=u>>>8&255,n.check=qt(n.check,x,2,0)),u=0,h=0,n.mode=5;case 5:if(1024&n.flags){for(;h<16;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(x[0]=255&u,x[1]=u>>>8&255,n.check=qt(n.check,x,2,0)),u=0,h=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(f=n.length,f>o&&(f=o),f&&(n.head&&(v=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+f),v)),512&n.flags&&(n.check=qt(n.check,r,f,i)),o-=f,i+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===o)break e;f=0;do{v=r[i+f++],n.head&&v&&n.length<65536&&(n.head.name+=String.fromCharCode(v))}while(v&&f<o);if(512&n.flags&&(n.check=qt(n.check,r,f,i)),o-=f,i+=f,v)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===o)break e;f=0;do{v=r[i+f++],n.head&&v&&n.length<65536&&(n.head.comment+=String.fromCharCode(v))}while(v&&f<o);if(512&n.flags&&(n.check=qt(n.check,r,f,i)),o-=f,i+=f,v)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;h<16;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(u!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}u=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;h<32;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}e.adler=n.check=Hr(u),u=0,h=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=u,n.bits=h,Rr;e.adler=n.check=1,n.mode=12;case 12:if(t===wr||t===Ar)break e;case 13:if(n.last){u>>>=7&h,h-=7&h,n.mode=27;break}for(;h<3;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}switch(n.last=1&u,u>>>=1,h-=1,3&u){case 0:n.mode=14;break;case 1:if(Dr(n),n.mode=20,t===Ar){u>>>=2,h-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}u>>>=2,h-=2;break;case 14:for(u>>>=7&h,h-=7&h;h<32;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&u,u=0,h=0,n.mode=15,t===Ar)break e;case 15:n.mode=16;case 16:if(f=n.length,f){if(f>o&&(f=o),f>l&&(f=l),0===f)break e;a.set(r.subarray(i,i+f),s),o-=f,i+=f,l-=f,s+=f,n.length-=f;break}n.mode=12;break;case 17:for(;h<14;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(n.nlen=257+(31&u),u>>>=5,h-=5,n.ndist=1+(31&u),u>>>=5,h-=5,n.ncode=4+(15&u),u>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;h<3;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}n.lens[S[n.have++]]=7&u,u>>>=3,h-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},R=br(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,b=E>>>16&255,m=65535&E,!(g<=h);){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(m<16)u>>>=g,h-=g,n.lens[n.have++]=m;else{if(16===m){for(C=g+2;h<C;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(u>>>=g,h-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}v=n.lens[n.have-1],f=3+(3&u),u>>>=2,h-=2}else if(17===m){for(C=g+3;h<C;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}u>>>=g,h-=g,v=0,f=3+(7&u),u>>>=3,h-=3}else{for(C=g+7;h<C;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}u>>>=g,h-=g,v=0,f=11+(127&u),u>>>=7,h-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=v}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,k={bits:n.lenbits},R=br(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},R=br(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,t===Ar)break e;case 20:n.mode=21;case 21:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=u,n.bits=h,dr(e,d),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,u=n.hold,h=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;E=n.lencode[u&(1<<n.lenbits)-1],g=E>>>24,b=E>>>16&255,m=65535&E,!(g<=h);){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(b&&0==(240&b)){for(w=g,A=b,y=m;E=n.lencode[y+((u&(1<<w+A)-1)>>w)],g=E>>>24,b=E>>>16&255,m=65535&E,!(w+g<=h);){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}u>>>=w,h-=w,n.back+=w}if(u>>>=g,h-=g,n.back+=g,n.length=m,0===b){n.mode=26;break}if(32&b){n.back=-1,n.mode=12;break}if(64&b){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&b,n.mode=22;case 22:if(n.extra){for(C=n.extra;h<C;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=n.distcode[u&(1<<n.distbits)-1],g=E>>>24,b=E>>>16&255,m=65535&E,!(g<=h);){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(0==(240&b)){for(w=g,A=b,y=m;E=n.distcode[y+((u&(1<<w+A)-1)>>w)],g=E>>>24,b=E>>>16&255,m=65535&E,!(w+g<=h);){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}u>>>=w,h-=w,n.back+=w}if(u>>>=g,h-=g,n.back+=g,64&b){e.msg="invalid distance code",n.mode=30;break}n.offset=m,n.extra=15&b,n.mode=24;case 24:if(n.extra){for(C=n.extra;h<C;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break e;if(f=d-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),_=n.window}else _=a,p=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{a[s++]=_[p++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===l)break e;a[s++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;h<32;){if(0===o)break e;o--,u|=r[i++]<<h,h+=8}if(d-=l,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?qt(n.check,a,d,s-d):Qt(n.check,a,d,s-d)),d=l,(n.flags?u:Hr(u))!==n.check){e.msg="incorrect data check",n.mode=30;break}u=0,h=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;h<32;){if(0===o)break e;o--,u+=r[i++]<<h,h+=8}if(u!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}u=0,h=0}n.mode=29;case 29:R=vr;break e;case 30:R=xr;break e;case 31:return kr;case 32:default:return Er}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=u,n.bits=h,(n.wsize||d!==e.avail_out&&n.mode<30&&(n.mode<27||t!==mr))&&Fr(e,e.output,e.next_out,d-e.avail_out),c-=e.avail_in,d-=e.avail_out,e.total_in+=c,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?qt(n.check,a,d,e.next_out-d):Qt(n.check,a,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===c&&0===d||t===mr)&&R===yr&&(R=Cr),R},inflateEnd:e=>{if(!e||!e.state)return Er;let t=e.state;return t.window&&(t.window=null),e.state=null,yr},inflateGetHeader:(e,t)=>{if(!e||!e.state)return Er;const n=e.state;return 0==(2&n.wrap)?Er:(n.head=t,t.done=!1,yr)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,a,i;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?Er:11===r.mode&&(a=1,a=Qt(a,t,n,0),a!==r.check)?xr:(i=Fr(e,t,n,n),i?(r.mode=31,kr):(r.havedict=1,yr))):Er},inflateInfo:"pako inflate (from Nodeca project)"};var Mr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Zr=Object.prototype.toString,{Z_NO_FLUSH:Pr,Z_FINISH:Gr,Z_OK:Kr,Z_STREAM_END:jr,Z_NEED_DICT:Wr,Z_STREAM_ERROR:Xr,Z_DATA_ERROR:Qr,Z_MEM_ERROR:Yr}=Jt;function qr(e){this.options=Kn({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Vn,this.strm.avail_out=0;let n=Br.inflateInit2(this.strm,t.windowBits);if(n!==Kr)throw new Error(Vt[n]);if(this.header=new Mr,Br.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Qn(t.dictionary):"[object ArrayBuffer]"===Zr.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Br.inflateSetDictionary(this.strm,t.dictionary),n!==Kr)))throw new Error(Vt[n])}function Vr(e,t){const n=new qr(t);if(n.push(e),n.err)throw n.msg||Vt[n.err];return n.result}qr.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Gr:Pr,"[object ArrayBuffer]"===Zr.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Br.inflate(n,s),i===Wr&&a&&(i=Br.inflateSetDictionary(n,a),i===Kr?i=Br.inflate(n,s):i===Qr&&(i=Wr));n.avail_in>0&&i===jr&&n.state.wrap>0&&0!==e[n.next_in];)Br.inflateReset(n),i=Br.inflate(n,s);switch(i){case Xr:case Qr:case Wr:case Yr:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||i===jr))if("string"===this.options.to){let e=qn(n.output,n.next_out),t=n.next_out-e,a=Yn(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==Kr||0!==o){if(i===jr)return i=Br.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},qr.prototype.onData=function(e){this.chunks.push(e)},qr.prototype.onEnd=function(e){e===Kr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=jn(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Jr={Inflate:qr,inflate:Vr,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Vr(e,t)},ungzip:Vr,constants:Jt};const{Deflate:ea,deflate:ta,deflateRaw:na,gzip:ra}=cr,{Inflate:aa,inflate:ia,inflateRaw:sa,ungzip:oa}=Jr;var la={Deflate:ea,deflate:ta,deflateRaw:na,gzip:ra,Inflate:aa,inflate:ia,inflateRaw:sa,ungzip:oa,constants:Jt};const ua=["simwrapper",".simwrapper"],ha={};class ca{constructor(e,t){u(this,"baseUrl"),u(this,"urlId"),u(this,"needsAuth"),u(this,"fsHandle"),u(this,"store"),this.urlId=e.slug,this.needsAuth=!!e.needPassword,this.fsHandle=e.handle||null,this.store=t||null,this.baseUrl=e.baseURL,e.baseURL.endsWith("/")||(this.baseUrl+="/"),ha[this.urlId]||(ha[this.urlId]={})}async getChromePermission(e){if(!e)return!0;if("granted"!==await e.queryPermission({mode:"read"})){if(!this.store)return!0;const t=new Promise((t=>{this.store.commit("setFileHandleForPermissionRequest",{handle:e,resolve:t})}));return await t}return!0}clearCache(){ha[this.urlId]={}}cleanURL(e){let t=this.baseUrl+e.replace(/^0-9a-zA-Z_\-\/:+/i,"");return t=t.replaceAll("//","/"),t=t.replaceAll("//","/"),t=t.replace("https:/","https://"),t=t.replace("http:/","http://"),t=new URL(t).href,t}async _getFileResponse(e){return this.fsHandle?this._getFileFromChromeFileSystem(e):this._getFileFetchResponse(e)}async _getFileFetchResponse(e){const t=this.cleanURL(e),n=new Request(t,{headers:{}});return await fetch(n).then((e=>{if(200!=e.status)throw console.log("Status:",e.status),e;return e}))}async _getFileFromChromeFileSystem(e){let t=e.replace(/^0-9a-zA-Z_\-\/:+/i,"");t=t.replaceAll("//","/"),t=new URL(`http://local/${t}`).href,t=t.substring(13);const n=t.lastIndexOf("/"),r=t.substring(0,n),a=t.substring(n+1),i=(await this.getDirectory(r)).handles[a];if(!i)throw Error(`File ${a} missing`);const s=await i.getFile();return s.json=()=>new Promise((async(e,t)=>{const n=await s.text();e(JSON.parse(n))})),s.blob=()=>new Promise((async(e,t)=>{e(s)})),new Promise(((e,t)=>{e(s)}))}async getFileText(e){return(await this._getFileResponse(e)).text()}async getFileJson(e){const t=await this._getFileResponse(e),n=await t.blob(),r=await n.arrayBuffer(),a=this.gUnzip(r),i=new TextDecoder("utf-8").decode(a);return JSON.parse(i)}async getFileBlob(e){return(await this._getFileResponse(e)).blob()}async getFileStream(e){if(this.fsHandle){return await this._getFileFromChromeFileSystem(e).then((e=>e.blob())).then((e=>e.stream()))}return await this._getFileFetchResponse(e).then((e=>e.body))}async getDirectory(e){let t=e.replaceAll("//","/");t.endsWith("/")||(t+="/");const n=ha[this.urlId][t];if(n)return n;try{const e=this.fsHandle?await this.getDirectoryFromHandle(t):await this.getDirectoryFromURL(t);return ha[this.urlId][t]=e,e}catch(r){throw Error(""+r)}}async getDirectoryFromHandle(e,t){const n={files:[],dirs:[],handles:{}};if(!this.fsHandle)return n;if(!(await this.getChromePermission(this.fsHandle)))return n;const r=function e(t){const n=t.indexOf("..");return n<=0?t:e(t.filter(((e,t)=>t!==n-1&&t!==n)))}(e.split("/").filter((e=>!!e)));let a=this.fsHandle;if(r.length)for(const i of r){let e=!1;for await(let[t,n]of a)if(t===i){a=n,e=!0;break}if(!e)throw Error(`Could not find folder "${i}"`)}for await(let i of a.values())n.handles&&(n.handles[i.name]=i),"file"===i.kind?n.files.push(i.name):n.dirs.push(i.name);return n}async getDirectoryFromURL(e){const t=await this._getFileResponse(e).then(),n=await t.text();return this.buildListFromHtml(n)}async findAllYamlConfigs(e){const t={dashboards:{},topsheets:{},vizes:{},configs:{}},n=[];let r="/";const a=(e.startsWith("/")?e:"/"+e).split("/");for(const s of a.slice(0,a.length-1)){r=`${r}${s}/`.replaceAll("//","/");try{const{dirs:e}=await this.getDirectory(r);for(const t of ua)e.includes(t)&&n.push(`${r}/${t}`.replaceAll("//","/"))}catch(i){}}n.push(e);for(const s of n){const{files:e}=await this.getDirectory(s);_t.match(e,"dashboard*.y?(a)ml").map((e=>t.dashboards[e]=`${s}/${e}`.replaceAll("//","/"))),_t.match(e,"(topsheet|table)*.y?(a)ml").map((e=>t.topsheets[e]=`${s}/${e}`.replaceAll("//","/"))),_t.match(e,"viz*.y?(a)ml").map((e=>t.vizes[e]=`${s}/${e}`.replaceAll("//","/"))),_t.match(e,"simwrapper-config.y?(a)ml").map((e=>t.configs[e]=`${s}/${e}`.replaceAll("//","/")))}return t.dashboards=Object.fromEntries(Object.entries(t.dashboards).sort(((e,t)=>e[0]>t[0]?1:-1))),t.topsheets=Object.fromEntries(Object.entries(t.topsheets).sort(((e,t)=>e[0]>t[0]?1:-1))),t.vizes=Object.fromEntries(Object.entries(t.vizes).sort(((e,t)=>e[0]>t[0]?1:-1))),t.configs=Object.fromEntries(Object.entries(t.configs).sort(((e,t)=>e[0]>t[0]?1:-1))),t}buildListFromHtml(e){return e.indexOf("SimpleWebServer")>-1?this.buildListFromSimpleWebServer(e):e.indexOf("<ul>")>-1?this.buildListFromSVN(e):e.indexOf("<table>")>-1?this.buildListFromApache24(e):e.indexOf("\n<a ")>-1?this.buildListFromNGINX(e):{dirs:[],files:[],handles:{}}}buildListFromSimpleWebServer(e){const t=/">(.*?)<\/a/,n=[],r=[],a=e.split("\n");for(const i of a){if(i.indexOf('<li><a href="')<0)continue;const e=i.match(t);if(!e)continue;const a=e[1];a.endsWith("/")?n.push(a.substring(0,a.length-1)):r.push(a)}return{dirs:n,files:r,handles:{}}}buildListFromSVN(e){const t=/"(.*?)"/,n=[],r=[],a=e.split("\n");for(const i of a){if(i.indexOf('<li><a href="')<0)continue;const e=i.match(t);if(!e)continue;let a=e[1];"../"!==a&&(a.startsWith("./")&&(a=a.substring(2)),a.endsWith("/")?n.push(a.substring(0,a.length-1)):r.push(a))}return{dirs:n,files:r,handles:{}}}buildListFromApache24(e){const t=/"(.*?)"/,n=[],r=[],a=e.split("\n");for(const i of a){if(i.indexOf('<th "')>-1)continue;if(i.indexOf("[PARENTDIR]")>-1)continue;const e=i.indexOf('<td><a href="');if(e<0)continue;const a=i.substring(e).match(t);if(!a)continue;const s=a[1];"../"!==s&&(s.endsWith("/")?n.push(s.substring(0,s.length-1)):r.push(s))}return{dirs:n,files:r,handles:{}}}buildListFromNGINX(e){const t=/"(.*?)"/,n=[],r=[],a=e.split("\n");for(const i of a){const e=i.indexOf('<a href="');if(e<0)continue;const a=i.substring(e).match(t);if(!a)continue;const s=a[1];"../"!==s&&(s.endsWith("/")?n.push(s.substring(0,s.length-1)):r.push(s))}return{dirs:n,files:r,handles:{}}}gUnzip(e){const t=new Uint8Array(e.slice(0,2));return 31===t[0]&&139===t[1]?this.gUnzip(la.inflate(e)):e}}export{ca as H,_t as m,d as r};
//# sourceMappingURL=HTTPFileSystem.e57ad358.js.map
