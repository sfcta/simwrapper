{"version":3,"file":"video.c362fc19.js","sources":["../../src/dash-panels/video.vue","../../src/dash-panels/video.vue?vue&type=template&lang.js"],"sourcesContent":["<template lang=\"pug\">\r\n\r\nfigure(class=\"video_container\")\r\n\r\n  video(:controls=\"controls\" :loop='loop' :allowfullscreen='allowfullscreen' :autoplay=\"autoplay\" :muted=\"muted\")\r\n\r\n    source(v-for=\"(src, type) in sources\" :src=\"src\" :type=\"type\" :key=\"type\")\r\n\r\n    p(v-for=\"(src, type) in sources\" :key=\"type\") Video tag not supported. Download the video&nbsp;\r\n      a(:href=\"src\" target=\"_blank\") here\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from 'vue'\r\nimport type { PropType } from 'vue'\r\n\r\nimport { FileSystemConfig } from '@/Globals'\r\nimport HTTPFileSystem from '@/js/HTTPFileSystem'\r\n\r\nexport default defineComponent({\r\n  name: 'VideoPanel',\r\n  props: {\r\n    fileSystemConfig: { type: Object as PropType<FileSystemConfig>, required: true },\r\n    subfolder: { type: String, required: true },\r\n    files: { type: Array, required: true },\r\n    config: { type: Object as any, required: true },\r\n  },\r\n  data: () => {\r\n    return {\r\n      controls: '', // string | null = null,\r\n      loop: '', // string | null = null\r\n      allowfullscreen: '', // : string | null = null\r\n      autoplay: '', // string | null = null\r\n      muted: '', // string | null = null\r\n      sources: {} as { [key: string]: string },\r\n      r: new RegExp('^(?:[a-z]+:)?//', 'i'),\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.controls = this.config.controls\r\n    this.loop = this.config.loop\r\n    this.allowfullscreen = this.config.allowfullscreen\r\n    this.autoplay = this.config.autoplay\r\n    this.muted = this.config.muted\r\n\r\n    this.sources = {}\r\n\r\n    const fileApi = new HTTPFileSystem(this.fileSystemConfig)\r\n\r\n    // Resolve relative URLs\r\n    for (const k in this.config.sources) {\r\n      var url = this.config.sources[k]\r\n\r\n      if (!this.r.test(url)) url = fileApi.cleanURL(`${this.subfolder}/${url}`)\r\n      this.sources[k] = url\r\n    }\r\n\r\n    this.$emit('isLoaded')\r\n  },\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import '@/styles.scss';\r\n\r\n.dash-element {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n@media only screen and (max-width: 640px) {\r\n}\r\n</style>\r\n","\r\n\r\nfigure(class=\"video_container\")\r\n\r\n  video(:controls=\"controls\" :loop='loop' :allowfullscreen='allowfullscreen' :autoplay=\"autoplay\" :muted=\"muted\")\r\n\r\n    source(v-for=\"(src, type) in sources\" :src=\"src\" :type=\"type\" :key=\"type\")\r\n\r\n    p(v-for=\"(src, type) in sources\" :key=\"type\") Video tag not supported. Download the video&nbsp;\r\n      a(:href=\"src\" target=\"_blank\") here\r\n\r\n"],"names":["__vue2_script","defineComponent","name","props","fileSystemConfig","type","Object","required","subfolder","String","files","Array","config","data","controls","loop","allowfullscreen","autoplay","muted","sources","r","RegExp","mounted","this","fileApi","HTTPFileSystem","k","url","test","cleanURL","$emit","_vm","_h","$createElement","_c","_self","staticClass","attrs","domProps","_l","src","key","_v","href","target"],"mappings":"kIAoBA,IAAAA,EAAAC,EAAA,CACAC,KAAA,aACAC,MAAA,CACAC,iBAAA,CAAAC,KAAAC,OAAAC,UAAA,GACAC,UAAA,CAAAH,KAAAI,OAAAF,UAAA,GACAG,MAAA,CAAAL,KAAAM,MAAAJ,UAAA,GACAK,OAAA,CAAAP,KAAAC,OAAAC,UAAA,IAEAM,KAAA,KACA,CACAC,SAAA,GACAC,KAAA,GACAC,gBAAA,GACAC,SAAA,GACAC,MAAA,GACAC,QAAA,GACAC,EAAA,IAAAC,OAAA,kBAAA,OAAAC,gBAIAC,KAAAT,SAAAS,KAAAX,OAAAE,SACAS,KAAAR,KAAAQ,KAAAX,OAAAG,KACAQ,KAAAP,gBAAAO,KAAAX,OAAAI,gBACAO,KAAAN,SAAAM,KAAAX,OAAAK,SACAM,KAAAL,MAAAK,KAAAX,OAAAM,MAEAK,KAAAJ,QAAA,GAEA,MAAAK,EAAA,IAAAC,EAAAF,KAAAnB,kBAGA,IAAA,MAAAsB,KAAAH,KAAAX,OAAAO,QAAA,CACA,IAAAQ,EAAAJ,KAAAX,OAAAO,QAAAO,GAEAH,KAAAH,EAAAQ,KAAAD,KAAAA,EAAAH,EAAAK,SAAA,GAAAN,KAAAf,aAAAmB,MACAJ,KAAAJ,QAAAO,GAAAC,EAGAJ,KAAAO,MAAA,qCC1Da,WACX,IAAIC,EAAIR,KACJS,EAAGD,EAAIE,eACPC,EAAGH,EAAII,MAAMD,IAAIF,EAErB,OAAOE,EAAG,SAAU,CAClBE,YAAa,mBACZ,CAACF,EAAG,QAAS,CACdG,MAAO,CACLvB,SAAYiB,EAAIjB,SAChBC,KAAQgB,EAAIhB,KACZC,gBAAmBe,EAAIf,gBACvBC,SAAYc,EAAId,UAElBqB,SAAU,CACRpB,MAASa,EAAIb,QAEd,CAACa,EAAIQ,GAAGR,EAAIZ,SAAS,SAAUqB,EAAKnC,GACrC,OAAO6B,EAAG,SAAU,CAClBO,IAAKpC,EACLgC,MAAO,CACLG,IAAOA,EACPnC,KAAQA,QAGV0B,EAAIQ,GAAGR,EAAIZ,SAAS,SAAUqB,EAAKnC,GACrC,OAAO6B,EAAG,IAAK,CACbO,IAAKpC,GACJ,CAAC0B,EAAIW,GAAG,gDAAiDR,EAAG,IAAK,CAClEG,MAAO,CACLM,KAAQH,EACRI,OAAU,WAEX,CAACb,EAAIW,GAAG,gBACR,OAGe"}